ARM GAS  C:\Users\Student\AppData\Local\Temp\cc218qF3.s 			page 1


   1              		.cpu cortex-m7
   2              		.eabi_attribute 27, 1
   3              		.eabi_attribute 28, 1
   4              		.eabi_attribute 20, 1
   5              		.eabi_attribute 21, 1
   6              		.eabi_attribute 23, 3
   7              		.eabi_attribute 24, 1
   8              		.eabi_attribute 25, 1
   9              		.eabi_attribute 26, 1
  10              		.eabi_attribute 30, 1
  11              		.eabi_attribute 34, 1
  12              		.eabi_attribute 18, 4
  13              		.file	"tcp_out.c"
  14              		.text
  15              	.Ltext0:
  16              		.cfi_sections	.debug_frame
  17              		.section	.text.tcp_write_checks,"ax",%progbits
  18              		.align	1
  19              		.syntax unified
  20              		.thumb
  21              		.thumb_func
  22              		.fpu fpv5-sp-d16
  24              	tcp_write_checks:
  25              	.LFB140:
  26              		.file 1 "Middlewares/Third_Party/LwIP/src/core/tcp_out.c"
   1:Middlewares/Third_Party/LwIP/src/core/tcp_out.c **** /**
   2:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****  * @file
   3:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****  * Transmission Control Protocol, outgoing traffic
   4:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****  *
   5:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****  * The output functions of TCP.
   6:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****  *
   7:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****  */
   8:Middlewares/Third_Party/LwIP/src/core/tcp_out.c **** 
   9:Middlewares/Third_Party/LwIP/src/core/tcp_out.c **** /*
  10:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****  * Copyright (c) 2001-2004 Swedish Institute of Computer Science.
  11:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****  * All rights reserved.
  12:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****  *
  13:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****  * Redistribution and use in source and binary forms, with or without modification,
  14:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****  * are permitted provided that the following conditions are met:
  15:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****  *
  16:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****  * 1. Redistributions of source code must retain the above copyright notice,
  17:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****  *    this list of conditions and the following disclaimer.
  18:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****  * 2. Redistributions in binary form must reproduce the above copyright notice,
  19:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****  *    this list of conditions and the following disclaimer in the documentation
  20:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****  *    and/or other materials provided with the distribution.
  21:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****  * 3. The name of the author may not be used to endorse or promote products
  22:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****  *    derived from this software without specific prior written permission.
  23:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****  *
  24:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****  * THIS SOFTWARE IS PROVIDED BY THE AUTHOR ``AS IS'' AND ANY EXPRESS OR IMPLIED
  25:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****  * WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED WARRANTIES OF
  26:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****  * MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE DISCLAIMED. IN NO EVENT
  27:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****  * SHALL THE AUTHOR BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL,
  28:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****  * EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT
  29:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****  * OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS
  30:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****  * INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN
  31:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****  * CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING
  32:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****  * IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY
ARM GAS  C:\Users\Student\AppData\Local\Temp\cc218qF3.s 			page 2


  33:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****  * OF SUCH DAMAGE.
  34:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****  *
  35:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****  * This file is part of the lwIP TCP/IP stack.
  36:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****  *
  37:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****  * Author: Adam Dunkels <adam@sics.se>
  38:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****  *
  39:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****  */
  40:Middlewares/Third_Party/LwIP/src/core/tcp_out.c **** 
  41:Middlewares/Third_Party/LwIP/src/core/tcp_out.c **** #include "lwip/opt.h"
  42:Middlewares/Third_Party/LwIP/src/core/tcp_out.c **** 
  43:Middlewares/Third_Party/LwIP/src/core/tcp_out.c **** #if LWIP_TCP /* don't build if not configured for use in lwipopts.h */
  44:Middlewares/Third_Party/LwIP/src/core/tcp_out.c **** 
  45:Middlewares/Third_Party/LwIP/src/core/tcp_out.c **** #include "lwip/priv/tcp_priv.h"
  46:Middlewares/Third_Party/LwIP/src/core/tcp_out.c **** #include "lwip/def.h"
  47:Middlewares/Third_Party/LwIP/src/core/tcp_out.c **** #include "lwip/mem.h"
  48:Middlewares/Third_Party/LwIP/src/core/tcp_out.c **** #include "lwip/memp.h"
  49:Middlewares/Third_Party/LwIP/src/core/tcp_out.c **** #include "lwip/ip_addr.h"
  50:Middlewares/Third_Party/LwIP/src/core/tcp_out.c **** #include "lwip/netif.h"
  51:Middlewares/Third_Party/LwIP/src/core/tcp_out.c **** #include "lwip/inet_chksum.h"
  52:Middlewares/Third_Party/LwIP/src/core/tcp_out.c **** #include "lwip/stats.h"
  53:Middlewares/Third_Party/LwIP/src/core/tcp_out.c **** #include "lwip/ip6.h"
  54:Middlewares/Third_Party/LwIP/src/core/tcp_out.c **** #include "lwip/ip6_addr.h"
  55:Middlewares/Third_Party/LwIP/src/core/tcp_out.c **** #if LWIP_TCP_TIMESTAMPS
  56:Middlewares/Third_Party/LwIP/src/core/tcp_out.c **** #include "lwip/sys.h"
  57:Middlewares/Third_Party/LwIP/src/core/tcp_out.c **** #endif
  58:Middlewares/Third_Party/LwIP/src/core/tcp_out.c **** 
  59:Middlewares/Third_Party/LwIP/src/core/tcp_out.c **** #include <string.h>
  60:Middlewares/Third_Party/LwIP/src/core/tcp_out.c **** 
  61:Middlewares/Third_Party/LwIP/src/core/tcp_out.c **** /* Define some copy-macros for checksum-on-copy so that the code looks
  62:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****    nicer by preventing too many ifdef's. */
  63:Middlewares/Third_Party/LwIP/src/core/tcp_out.c **** #if TCP_CHECKSUM_ON_COPY
  64:Middlewares/Third_Party/LwIP/src/core/tcp_out.c **** #define TCP_DATA_COPY(dst, src, len, seg) do { \
  65:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****   tcp_seg_add_chksum(LWIP_CHKSUM_COPY(dst, src, len), \
  66:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****                      len, &seg->chksum, &seg->chksum_swapped); \
  67:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****   seg->flags |= TF_SEG_DATA_CHECKSUMMED; } while(0)
  68:Middlewares/Third_Party/LwIP/src/core/tcp_out.c **** #define TCP_DATA_COPY2(dst, src, len, chksum, chksum_swapped)  \
  69:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****   tcp_seg_add_chksum(LWIP_CHKSUM_COPY(dst, src, len), len, chksum, chksum_swapped);
  70:Middlewares/Third_Party/LwIP/src/core/tcp_out.c **** #else /* TCP_CHECKSUM_ON_COPY*/
  71:Middlewares/Third_Party/LwIP/src/core/tcp_out.c **** #define TCP_DATA_COPY(dst, src, len, seg)                     MEMCPY(dst, src, len)
  72:Middlewares/Third_Party/LwIP/src/core/tcp_out.c **** #define TCP_DATA_COPY2(dst, src, len, chksum, chksum_swapped) MEMCPY(dst, src, len)
  73:Middlewares/Third_Party/LwIP/src/core/tcp_out.c **** #endif /* TCP_CHECKSUM_ON_COPY*/
  74:Middlewares/Third_Party/LwIP/src/core/tcp_out.c **** 
  75:Middlewares/Third_Party/LwIP/src/core/tcp_out.c **** /** Define this to 1 for an extra check that the output checksum is valid
  76:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****  * (usefule when the checksum is generated by the application, not the stack) */
  77:Middlewares/Third_Party/LwIP/src/core/tcp_out.c **** #ifndef TCP_CHECKSUM_ON_COPY_SANITY_CHECK
  78:Middlewares/Third_Party/LwIP/src/core/tcp_out.c **** #define TCP_CHECKSUM_ON_COPY_SANITY_CHECK   0
  79:Middlewares/Third_Party/LwIP/src/core/tcp_out.c **** #endif
  80:Middlewares/Third_Party/LwIP/src/core/tcp_out.c **** /* Allow to override the failure of sanity check from warning to e.g. hard failure */
  81:Middlewares/Third_Party/LwIP/src/core/tcp_out.c **** #if TCP_CHECKSUM_ON_COPY_SANITY_CHECK
  82:Middlewares/Third_Party/LwIP/src/core/tcp_out.c **** #ifndef TCP_CHECKSUM_ON_COPY_SANITY_CHECK_FAIL
  83:Middlewares/Third_Party/LwIP/src/core/tcp_out.c **** #define TCP_CHECKSUM_ON_COPY_SANITY_CHECK_FAIL(msg) LWIP_DEBUGF(TCP_DEBUG | LWIP_DBG_LEVEL_WARNING,
  84:Middlewares/Third_Party/LwIP/src/core/tcp_out.c **** #endif
  85:Middlewares/Third_Party/LwIP/src/core/tcp_out.c **** #endif
  86:Middlewares/Third_Party/LwIP/src/core/tcp_out.c **** 
  87:Middlewares/Third_Party/LwIP/src/core/tcp_out.c **** #if TCP_OVERSIZE
  88:Middlewares/Third_Party/LwIP/src/core/tcp_out.c **** /** The size of segment pbufs created when TCP_OVERSIZE is enabled */
  89:Middlewares/Third_Party/LwIP/src/core/tcp_out.c **** #ifndef TCP_OVERSIZE_CALC_LENGTH
ARM GAS  C:\Users\Student\AppData\Local\Temp\cc218qF3.s 			page 3


  90:Middlewares/Third_Party/LwIP/src/core/tcp_out.c **** #define TCP_OVERSIZE_CALC_LENGTH(length) ((length) + TCP_OVERSIZE)
  91:Middlewares/Third_Party/LwIP/src/core/tcp_out.c **** #endif
  92:Middlewares/Third_Party/LwIP/src/core/tcp_out.c **** #endif
  93:Middlewares/Third_Party/LwIP/src/core/tcp_out.c **** 
  94:Middlewares/Third_Party/LwIP/src/core/tcp_out.c **** /* Forward declarations.*/
  95:Middlewares/Third_Party/LwIP/src/core/tcp_out.c **** static err_t tcp_output_segment(struct tcp_seg *seg, struct tcp_pcb *pcb, struct netif *netif);
  96:Middlewares/Third_Party/LwIP/src/core/tcp_out.c **** 
  97:Middlewares/Third_Party/LwIP/src/core/tcp_out.c **** /** Allocate a pbuf and create a tcphdr at p->payload, used for output
  98:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****  * functions other than the default tcp_output -> tcp_output_segment
  99:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****  * (e.g. tcp_send_empty_ack, etc.)
 100:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****  *
 101:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****  * @param pcb tcp pcb for which to send a packet (used to initialize tcp_hdr)
 102:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****  * @param optlen length of header-options
 103:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****  * @param datalen length of tcp data to reserve in pbuf
 104:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****  * @param seqno_be seqno in network byte order (big-endian)
 105:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****  * @return pbuf with p->payload being the tcp_hdr
 106:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****  */
 107:Middlewares/Third_Party/LwIP/src/core/tcp_out.c **** static struct pbuf *
 108:Middlewares/Third_Party/LwIP/src/core/tcp_out.c **** tcp_output_alloc_header(struct tcp_pcb *pcb, u16_t optlen, u16_t datalen,
 109:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****                       u32_t seqno_be /* already in network byte order */)
 110:Middlewares/Third_Party/LwIP/src/core/tcp_out.c **** {
 111:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****   struct tcp_hdr *tcphdr;
 112:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****   struct pbuf *p = pbuf_alloc(PBUF_IP, TCP_HLEN + optlen + datalen, PBUF_RAM);
 113:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****   if (p != NULL) {
 114:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****     LWIP_ASSERT("check that first pbuf can hold struct tcp_hdr",
 115:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****                  (p->len >= TCP_HLEN + optlen));
 116:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****     tcphdr = (struct tcp_hdr *)p->payload;
 117:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****     tcphdr->src = lwip_htons(pcb->local_port);
 118:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****     tcphdr->dest = lwip_htons(pcb->remote_port);
 119:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****     tcphdr->seqno = seqno_be;
 120:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****     tcphdr->ackno = lwip_htonl(pcb->rcv_nxt);
 121:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****     TCPH_HDRLEN_FLAGS_SET(tcphdr, (5 + optlen / 4), TCP_ACK);
 122:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****     tcphdr->wnd = lwip_htons(TCPWND_MIN16(RCV_WND_SCALE(pcb, pcb->rcv_ann_wnd)));
 123:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****     tcphdr->chksum = 0;
 124:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****     tcphdr->urgp = 0;
 125:Middlewares/Third_Party/LwIP/src/core/tcp_out.c **** 
 126:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****     /* If we're sending a packet, update the announced right window edge */
 127:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****     pcb->rcv_ann_right_edge = pcb->rcv_nxt + pcb->rcv_ann_wnd;
 128:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****   }
 129:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****   return p;
 130:Middlewares/Third_Party/LwIP/src/core/tcp_out.c **** }
 131:Middlewares/Third_Party/LwIP/src/core/tcp_out.c **** 
 132:Middlewares/Third_Party/LwIP/src/core/tcp_out.c **** /**
 133:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****  * Called by tcp_close() to send a segment including FIN flag but not data.
 134:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****  *
 135:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****  * @param pcb the tcp_pcb over which to send a segment
 136:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****  * @return ERR_OK if sent, another err_t otherwise
 137:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****  */
 138:Middlewares/Third_Party/LwIP/src/core/tcp_out.c **** err_t
 139:Middlewares/Third_Party/LwIP/src/core/tcp_out.c **** tcp_send_fin(struct tcp_pcb *pcb)
 140:Middlewares/Third_Party/LwIP/src/core/tcp_out.c **** {
 141:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****   /* first, try to add the fin to the last unsent segment */
 142:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****   if (pcb->unsent != NULL) {
 143:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****     struct tcp_seg *last_unsent;
 144:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****     for (last_unsent = pcb->unsent; last_unsent->next != NULL;
 145:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****          last_unsent = last_unsent->next);
 146:Middlewares/Third_Party/LwIP/src/core/tcp_out.c **** 
ARM GAS  C:\Users\Student\AppData\Local\Temp\cc218qF3.s 			page 4


 147:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****     if ((TCPH_FLAGS(last_unsent->tcphdr) & (TCP_SYN | TCP_FIN | TCP_RST)) == 0) {
 148:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****       /* no SYN/FIN/RST flag in the header, we can add the FIN flag */
 149:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****       TCPH_SET_FLAG(last_unsent->tcphdr, TCP_FIN);
 150:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****       pcb->flags |= TF_FIN;
 151:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****       return ERR_OK;
 152:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****     }
 153:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****   }
 154:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****   /* no data, no length, flags, copy=1, no optdata */
 155:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****   return tcp_enqueue_flags(pcb, TCP_FIN);
 156:Middlewares/Third_Party/LwIP/src/core/tcp_out.c **** }
 157:Middlewares/Third_Party/LwIP/src/core/tcp_out.c **** 
 158:Middlewares/Third_Party/LwIP/src/core/tcp_out.c **** /**
 159:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****  * Create a TCP segment with prefilled header.
 160:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****  *
 161:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****  * Called by tcp_write and tcp_enqueue_flags.
 162:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****  *
 163:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****  * @param pcb Protocol control block for the TCP connection.
 164:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****  * @param p pbuf that is used to hold the TCP header.
 165:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****  * @param flags TCP flags for header.
 166:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****  * @param seqno TCP sequence number of this packet
 167:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****  * @param optflags options to include in TCP header
 168:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****  * @return a new tcp_seg pointing to p, or NULL.
 169:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****  * The TCP header is filled in except ackno and wnd.
 170:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****  * p is freed on failure.
 171:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****  */
 172:Middlewares/Third_Party/LwIP/src/core/tcp_out.c **** static struct tcp_seg *
 173:Middlewares/Third_Party/LwIP/src/core/tcp_out.c **** tcp_create_segment(struct tcp_pcb *pcb, struct pbuf *p, u8_t flags, u32_t seqno, u8_t optflags)
 174:Middlewares/Third_Party/LwIP/src/core/tcp_out.c **** {
 175:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****   struct tcp_seg *seg;
 176:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****   u8_t optlen = LWIP_TCP_OPT_LENGTH(optflags);
 177:Middlewares/Third_Party/LwIP/src/core/tcp_out.c **** 
 178:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****   if ((seg = (struct tcp_seg *)memp_malloc(MEMP_TCP_SEG)) == NULL) {
 179:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****     LWIP_DEBUGF(TCP_OUTPUT_DEBUG | LWIP_DBG_LEVEL_SERIOUS, ("tcp_create_segment: no memory.\n"));
 180:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****     pbuf_free(p);
 181:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****     return NULL;
 182:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****   }
 183:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****   seg->flags = optflags;
 184:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****   seg->next = NULL;
 185:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****   seg->p = p;
 186:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****   LWIP_ASSERT("p->tot_len >= optlen", p->tot_len >= optlen);
 187:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****   seg->len = p->tot_len - optlen;
 188:Middlewares/Third_Party/LwIP/src/core/tcp_out.c **** #if TCP_OVERSIZE_DBGCHECK
 189:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****   seg->oversize_left = 0;
 190:Middlewares/Third_Party/LwIP/src/core/tcp_out.c **** #endif /* TCP_OVERSIZE_DBGCHECK */
 191:Middlewares/Third_Party/LwIP/src/core/tcp_out.c **** #if TCP_CHECKSUM_ON_COPY
 192:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****   seg->chksum = 0;
 193:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****   seg->chksum_swapped = 0;
 194:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****   /* check optflags */
 195:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****   LWIP_ASSERT("invalid optflags passed: TF_SEG_DATA_CHECKSUMMED",
 196:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****               (optflags & TF_SEG_DATA_CHECKSUMMED) == 0);
 197:Middlewares/Third_Party/LwIP/src/core/tcp_out.c **** #endif /* TCP_CHECKSUM_ON_COPY */
 198:Middlewares/Third_Party/LwIP/src/core/tcp_out.c **** 
 199:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****   /* build TCP header */
 200:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****   if (pbuf_header(p, TCP_HLEN)) {
 201:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****     LWIP_DEBUGF(TCP_OUTPUT_DEBUG | LWIP_DBG_LEVEL_SERIOUS, ("tcp_create_segment: no room for TCP he
 202:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****     TCP_STATS_INC(tcp.err);
 203:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****     tcp_seg_free(seg);
ARM GAS  C:\Users\Student\AppData\Local\Temp\cc218qF3.s 			page 5


 204:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****     return NULL;
 205:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****   }
 206:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****   seg->tcphdr = (struct tcp_hdr *)seg->p->payload;
 207:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****   seg->tcphdr->src = lwip_htons(pcb->local_port);
 208:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****   seg->tcphdr->dest = lwip_htons(pcb->remote_port);
 209:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****   seg->tcphdr->seqno = lwip_htonl(seqno);
 210:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****   /* ackno is set in tcp_output */
 211:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****   TCPH_HDRLEN_FLAGS_SET(seg->tcphdr, (5 + optlen / 4), flags);
 212:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****   /* wnd and chksum are set in tcp_output */
 213:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****   seg->tcphdr->urgp = 0;
 214:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****   return seg;
 215:Middlewares/Third_Party/LwIP/src/core/tcp_out.c **** }
 216:Middlewares/Third_Party/LwIP/src/core/tcp_out.c **** 
 217:Middlewares/Third_Party/LwIP/src/core/tcp_out.c **** /**
 218:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****  * Allocate a PBUF_RAM pbuf, perhaps with extra space at the end.
 219:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****  *
 220:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****  * This function is like pbuf_alloc(layer, length, PBUF_RAM) except
 221:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****  * there may be extra bytes available at the end.
 222:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****  *
 223:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****  * @param layer flag to define header size.
 224:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****  * @param length size of the pbuf's payload.
 225:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****  * @param max_length maximum usable size of payload+oversize.
 226:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****  * @param oversize pointer to a u16_t that will receive the number of usable tail bytes.
 227:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****  * @param pcb The TCP connection that will enqueue the pbuf.
 228:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****  * @param apiflags API flags given to tcp_write.
 229:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****  * @param first_seg true when this pbuf will be used in the first enqueued segment.
 230:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****  */
 231:Middlewares/Third_Party/LwIP/src/core/tcp_out.c **** #if TCP_OVERSIZE
 232:Middlewares/Third_Party/LwIP/src/core/tcp_out.c **** static struct pbuf *
 233:Middlewares/Third_Party/LwIP/src/core/tcp_out.c **** tcp_pbuf_prealloc(pbuf_layer layer, u16_t length, u16_t max_length,
 234:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****                   u16_t *oversize, struct tcp_pcb *pcb, u8_t apiflags,
 235:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****                   u8_t first_seg)
 236:Middlewares/Third_Party/LwIP/src/core/tcp_out.c **** {
 237:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****   struct pbuf *p;
 238:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****   u16_t alloc = length;
 239:Middlewares/Third_Party/LwIP/src/core/tcp_out.c **** 
 240:Middlewares/Third_Party/LwIP/src/core/tcp_out.c **** #if LWIP_NETIF_TX_SINGLE_PBUF
 241:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****   LWIP_UNUSED_ARG(max_length);
 242:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****   LWIP_UNUSED_ARG(pcb);
 243:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****   LWIP_UNUSED_ARG(apiflags);
 244:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****   LWIP_UNUSED_ARG(first_seg);
 245:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****   alloc = max_length;
 246:Middlewares/Third_Party/LwIP/src/core/tcp_out.c **** #else /* LWIP_NETIF_TX_SINGLE_PBUF */
 247:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****   if (length < max_length) {
 248:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****     /* Should we allocate an oversized pbuf, or just the minimum
 249:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****      * length required? If tcp_write is going to be called again
 250:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****      * before this segment is transmitted, we want the oversized
 251:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****      * buffer. If the segment will be transmitted immediately, we can
 252:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****      * save memory by allocating only length. We use a simple
 253:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****      * heuristic based on the following information:
 254:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****      *
 255:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****      * Did the user set TCP_WRITE_FLAG_MORE?
 256:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****      *
 257:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****      * Will the Nagle algorithm defer transmission of this segment?
 258:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****      */
 259:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****     if ((apiflags & TCP_WRITE_FLAG_MORE) ||
 260:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****         (!(pcb->flags & TF_NODELAY) &&
ARM GAS  C:\Users\Student\AppData\Local\Temp\cc218qF3.s 			page 6


 261:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****          (!first_seg ||
 262:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****           pcb->unsent != NULL ||
 263:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****           pcb->unacked != NULL))) {
 264:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****       alloc = LWIP_MIN(max_length, LWIP_MEM_ALIGN_SIZE(TCP_OVERSIZE_CALC_LENGTH(length)));
 265:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****     }
 266:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****   }
 267:Middlewares/Third_Party/LwIP/src/core/tcp_out.c **** #endif /* LWIP_NETIF_TX_SINGLE_PBUF */
 268:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****   p = pbuf_alloc(layer, alloc, PBUF_RAM);
 269:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****   if (p == NULL) {
 270:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****     return NULL;
 271:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****   }
 272:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****   LWIP_ASSERT("need unchained pbuf", p->next == NULL);
 273:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****   *oversize = p->len - length;
 274:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****   /* trim p->len to the currently used size */
 275:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****   p->len = p->tot_len = length;
 276:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****   return p;
 277:Middlewares/Third_Party/LwIP/src/core/tcp_out.c **** }
 278:Middlewares/Third_Party/LwIP/src/core/tcp_out.c **** #else /* TCP_OVERSIZE */
 279:Middlewares/Third_Party/LwIP/src/core/tcp_out.c **** #define tcp_pbuf_prealloc(layer, length, mx, os, pcb, api, fst) pbuf_alloc((layer), (length), PBUF_
 280:Middlewares/Third_Party/LwIP/src/core/tcp_out.c **** #endif /* TCP_OVERSIZE */
 281:Middlewares/Third_Party/LwIP/src/core/tcp_out.c **** 
 282:Middlewares/Third_Party/LwIP/src/core/tcp_out.c **** #if TCP_CHECKSUM_ON_COPY
 283:Middlewares/Third_Party/LwIP/src/core/tcp_out.c **** /** Add a checksum of newly added data to the segment */
 284:Middlewares/Third_Party/LwIP/src/core/tcp_out.c **** static void
 285:Middlewares/Third_Party/LwIP/src/core/tcp_out.c **** tcp_seg_add_chksum(u16_t chksum, u16_t len, u16_t *seg_chksum,
 286:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****                    u8_t *seg_chksum_swapped)
 287:Middlewares/Third_Party/LwIP/src/core/tcp_out.c **** {
 288:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****   u32_t helper;
 289:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****   /* add chksum to old chksum and fold to u16_t */
 290:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****   helper = chksum + *seg_chksum;
 291:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****   chksum = FOLD_U32T(helper);
 292:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****   if ((len & 1) != 0) {
 293:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****     *seg_chksum_swapped = 1 - *seg_chksum_swapped;
 294:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****     chksum = SWAP_BYTES_IN_WORD(chksum);
 295:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****   }
 296:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****   *seg_chksum = chksum;
 297:Middlewares/Third_Party/LwIP/src/core/tcp_out.c **** }
 298:Middlewares/Third_Party/LwIP/src/core/tcp_out.c **** #endif /* TCP_CHECKSUM_ON_COPY */
 299:Middlewares/Third_Party/LwIP/src/core/tcp_out.c **** 
 300:Middlewares/Third_Party/LwIP/src/core/tcp_out.c **** /** Checks if tcp_write is allowed or not (checks state, snd_buf and snd_queuelen).
 301:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****  *
 302:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****  * @param pcb the tcp pcb to check for
 303:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****  * @param len length of data to send (checked agains snd_buf)
 304:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****  * @return ERR_OK if tcp_write is allowed to proceed, another err_t otherwise
 305:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****  */
 306:Middlewares/Third_Party/LwIP/src/core/tcp_out.c **** static err_t
 307:Middlewares/Third_Party/LwIP/src/core/tcp_out.c **** tcp_write_checks(struct tcp_pcb *pcb, u16_t len)
 308:Middlewares/Third_Party/LwIP/src/core/tcp_out.c **** {
  27              		.loc 1 308 0
  28              		.cfi_startproc
  29              		@ args = 0, pretend = 0, frame = 0
  30              		@ frame_needed = 0, uses_anonymous_args = 0
  31              		@ link register save eliminated.
  32              	.LVL0:
 309:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****   /* connection is in invalid state for data transmission? */
 310:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****   if ((pcb->state != ESTABLISHED) &&
  33              		.loc 1 310 0
ARM GAS  C:\Users\Student\AppData\Local\Temp\cc218qF3.s 			page 7


  34 0000 037D     		ldrb	r3, [r0, #20]	@ zero_extendqisi2
  35 0002 042B     		cmp	r3, #4
  36 0004 18BF     		it	ne
  37 0006 072B     		cmpne	r3, #7
  38 0008 03D0     		beq	.L2
 311:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****       (pcb->state != CLOSE_WAIT) &&
  39              		.loc 1 311 0
  40 000a 022B     		cmp	r3, #2
  41 000c 01D0     		beq	.L2
 312:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****       (pcb->state != SYN_SENT) &&
  42              		.loc 1 312 0
  43 000e 032B     		cmp	r3, #3
  44 0010 18D1     		bne	.L5
  45              	.L2:
 313:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****       (pcb->state != SYN_RCVD)) {
 314:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****     LWIP_DEBUGF(TCP_OUTPUT_DEBUG | LWIP_DBG_STATE | LWIP_DBG_LEVEL_SEVERE, ("tcp_write() called in 
 315:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****     return ERR_CONN;
 316:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****   } else if (len == 0) {
  46              		.loc 1 316 0
  47 0012 D1B1     		cbz	r1, .L6
 317:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****     return ERR_OK;
 318:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****   }
 319:Middlewares/Third_Party/LwIP/src/core/tcp_out.c **** 
 320:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****   /* fail on too much data */
 321:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****   if (len > pcb->snd_buf) {
  48              		.loc 1 321 0
  49 0014 B0F86030 		ldrh	r3, [r0, #96]
  50 0018 9942     		cmp	r1, r3
  51 001a 05D8     		bhi	.L8
 322:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****     LWIP_DEBUGF(TCP_OUTPUT_DEBUG | LWIP_DBG_LEVEL_SEVERE, ("tcp_write: too much data (len=%"U16_F" 
 323:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****       len, pcb->snd_buf));
 324:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****     pcb->flags |= TF_NAGLEMEMERR;
 325:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****     return ERR_MEM;
 326:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****   }
 327:Middlewares/Third_Party/LwIP/src/core/tcp_out.c **** 
 328:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****   LWIP_DEBUGF(TCP_QLEN_DEBUG, ("tcp_write: queuelen: %"TCPWNDSIZE_F"\n", (tcpwnd_size_t)pcb->snd_qu
 329:Middlewares/Third_Party/LwIP/src/core/tcp_out.c **** 
 330:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****   /* If total number of pbufs on the unsent/unacked queues exceeds the
 331:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****    * configured maximum, return an error */
 332:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****   /* check for configured max queuelen and possible overflow */
 333:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****   if ((pcb->snd_queuelen >= TCP_SND_QUEUELEN) || (pcb->snd_queuelen > TCP_SNDQUEUELEN_OVERFLOW)) {
  52              		.loc 1 333 0
  53 001c B0F86230 		ldrh	r3, [r0, #98]
  54 0020 082B     		cmp	r3, #8
  55 0022 08D8     		bhi	.L9
 334:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****     LWIP_DEBUGF(TCP_OUTPUT_DEBUG | LWIP_DBG_LEVEL_SEVERE, ("tcp_write: too long queue %"U16_F" (max
 335:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****       pcb->snd_queuelen, (u16_t)TCP_SND_QUEUELEN));
 336:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****     TCP_STATS_INC(tcp.memerr);
 337:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****     pcb->flags |= TF_NAGLEMEMERR;
 338:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****     return ERR_MEM;
 339:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****   }
 340:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****   if (pcb->snd_queuelen != 0) {
 341:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****     LWIP_ASSERT("tcp_write: pbufs on queue => at least one queue non-empty",
 342:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****       pcb->unacked != NULL || pcb->unsent != NULL);
 343:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****   } else {
 344:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****     LWIP_ASSERT("tcp_write: no pbufs on queue => both queues empty",
 345:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****       pcb->unacked == NULL && pcb->unsent == NULL);
ARM GAS  C:\Users\Student\AppData\Local\Temp\cc218qF3.s 			page 8


 346:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****   }
 347:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****   return ERR_OK;
  56              		.loc 1 347 0
  57 0024 0020     		movs	r0, #0
  58              	.LVL1:
 348:Middlewares/Third_Party/LwIP/src/core/tcp_out.c **** }
  59              		.loc 1 348 0
  60 0026 7047     		bx	lr
  61              	.LVL2:
  62              	.L8:
 324:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****     return ERR_MEM;
  63              		.loc 1 324 0
  64 0028 837E     		ldrb	r3, [r0, #26]	@ zero_extendqisi2
  65 002a 63F07F03 		orn	r3, r3, #127
  66 002e 8376     		strb	r3, [r0, #26]
 325:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****   }
  67              		.loc 1 325 0
  68 0030 4FF0FF30 		mov	r0, #-1
  69              	.LVL3:
  70 0034 7047     		bx	lr
  71              	.LVL4:
  72              	.L9:
 337:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****     return ERR_MEM;
  73              		.loc 1 337 0
  74 0036 837E     		ldrb	r3, [r0, #26]	@ zero_extendqisi2
  75 0038 63F07F03 		orn	r3, r3, #127
  76 003c 8376     		strb	r3, [r0, #26]
 338:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****   }
  77              		.loc 1 338 0
  78 003e 4FF0FF30 		mov	r0, #-1
  79              	.LVL5:
  80 0042 7047     		bx	lr
  81              	.LVL6:
  82              	.L5:
 315:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****   } else if (len == 0) {
  83              		.loc 1 315 0
  84 0044 6FF00A00 		mvn	r0, #10
  85              	.LVL7:
  86 0048 7047     		bx	lr
  87              	.LVL8:
  88              	.L6:
 317:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****   }
  89              		.loc 1 317 0
  90 004a 0020     		movs	r0, #0
  91              	.LVL9:
  92 004c 7047     		bx	lr
  93              		.cfi_endproc
  94              	.LFE140:
  96              		.section	.text.tcp_pbuf_prealloc,"ax",%progbits
  97              		.align	1
  98              		.syntax unified
  99              		.thumb
 100              		.thumb_func
 101              		.fpu fpv5-sp-d16
 103              	tcp_pbuf_prealloc:
 104              	.LFB139:
 236:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****   struct pbuf *p;
ARM GAS  C:\Users\Student\AppData\Local\Temp\cc218qF3.s 			page 9


 105              		.loc 1 236 0
 106              		.cfi_startproc
 107              		@ args = 12, pretend = 0, frame = 0
 108              		@ frame_needed = 0, uses_anonymous_args = 0
 109              	.LVL10:
 110 0000 38B5     		push	{r3, r4, r5, lr}
 111              	.LCFI0:
 112              		.cfi_def_cfa_offset 16
 113              		.cfi_offset 3, -16
 114              		.cfi_offset 4, -12
 115              		.cfi_offset 5, -8
 116              		.cfi_offset 14, -4
 117 0002 0C46     		mov	r4, r1
 118 0004 1D46     		mov	r5, r3
 119 0006 9DF81830 		ldrb	r3, [sp, #24]	@ zero_extendqisi2
 120              	.LVL11:
 247:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****     /* Should we allocate an oversized pbuf, or just the minimum
 121              		.loc 1 247 0
 122 000a 9142     		cmp	r1, r2
 123 000c 15D2     		bcs	.L11
 259:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****         (!(pcb->flags & TF_NODELAY) &&
 124              		.loc 1 259 0
 125 000e 9DF81410 		ldrb	r1, [sp, #20]	@ zero_extendqisi2
 126              	.LVL12:
 127 0012 11F0020F 		tst	r1, #2
 128 0016 08D1     		bne	.L12
 260:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****          (!first_seg ||
 129              		.loc 1 260 0 discriminator 1
 130 0018 0499     		ldr	r1, [sp, #16]
 131 001a 897E     		ldrb	r1, [r1, #26]	@ zero_extendqisi2
 259:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****         (!(pcb->flags & TF_NODELAY) &&
 132              		.loc 1 259 0 discriminator 1
 133 001c 11F0400F 		tst	r1, #64
 134 0020 1DD1     		bne	.L15
 260:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****          (!first_seg ||
 135              		.loc 1 260 0
 136 0022 13B1     		cbz	r3, .L12
 262:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****           pcb->unacked != NULL))) {
 137              		.loc 1 262 0
 138 0024 049B     		ldr	r3, [sp, #16]
 139 0026 9B6E     		ldr	r3, [r3, #104]
 261:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****           pcb->unsent != NULL ||
 140              		.loc 1 261 0
 141 0028 9BB1     		cbz	r3, .L18
 142              	.L12:
 264:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****     }
 143              		.loc 1 264 0
 144 002a 04F21B21 		addw	r1, r4, #539
 145 002e 21F00301 		bic	r1, r1, #3
 146 0032 8A42     		cmp	r2, r1
 147 0034 28BF     		it	cs
 148 0036 0A46     		movcs	r2, r1
 149              	.LVL13:
 150 0038 91B2     		uxth	r1, r2
 151              	.LVL14:
 152              	.L11:
 268:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****   if (p == NULL) {
ARM GAS  C:\Users\Student\AppData\Local\Temp\cc218qF3.s 			page 10


 153              		.loc 1 268 0
 154 003a 0022     		movs	r2, #0
 155 003c FFF7FEFF 		bl	pbuf_alloc
 156              	.LVL15:
 269:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****     return NULL;
 157              		.loc 1 269 0
 158 0040 0346     		mov	r3, r0
 159 0042 20B1     		cbz	r0, .L10
 273:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****   /* trim p->len to the currently used size */
 160              		.loc 1 273 0
 161 0044 4289     		ldrh	r2, [r0, #10]
 162 0046 121B     		subs	r2, r2, r4
 163 0048 2A80     		strh	r2, [r5]	@ movhi
 275:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****   return p;
 164              		.loc 1 275 0
 165 004a 0481     		strh	r4, [r0, #8]	@ movhi
 166 004c 4481     		strh	r4, [r0, #10]	@ movhi
 167              	.L10:
 277:Middlewares/Third_Party/LwIP/src/core/tcp_out.c **** #else /* TCP_OVERSIZE */
 168              		.loc 1 277 0
 169 004e 1846     		mov	r0, r3
 170              	.LVL16:
 171 0050 38BD     		pop	{r3, r4, r5, pc}
 172              	.LVL17:
 173              	.L18:
 263:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****       alloc = LWIP_MIN(max_length, LWIP_MEM_ALIGN_SIZE(TCP_OVERSIZE_CALC_LENGTH(length)));
 174              		.loc 1 263 0
 175 0052 049B     		ldr	r3, [sp, #16]
 176 0054 DB6E     		ldr	r3, [r3, #108]
 262:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****           pcb->unacked != NULL))) {
 177              		.loc 1 262 0
 178 0056 002B     		cmp	r3, #0
 179 0058 E7D1     		bne	.L12
 238:Middlewares/Third_Party/LwIP/src/core/tcp_out.c **** 
 180              		.loc 1 238 0
 181 005a 2146     		mov	r1, r4
 182 005c EDE7     		b	.L11
 183              	.L15:
 184 005e 2146     		mov	r1, r4
 185 0060 EBE7     		b	.L11
 186              		.cfi_endproc
 187              	.LFE139:
 189              		.section	.text.tcp_create_segment,"ax",%progbits
 190              		.align	1
 191              		.syntax unified
 192              		.thumb
 193              		.thumb_func
 194              		.fpu fpv5-sp-d16
 196              	tcp_create_segment:
 197              	.LFB138:
 174:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****   struct tcp_seg *seg;
 198              		.loc 1 174 0
 199              		.cfi_startproc
 200              		@ args = 4, pretend = 0, frame = 0
 201              		@ frame_needed = 0, uses_anonymous_args = 0
 202              	.LVL18:
 203 0000 2DE9F047 		push	{r4, r5, r6, r7, r8, r9, r10, lr}
ARM GAS  C:\Users\Student\AppData\Local\Temp\cc218qF3.s 			page 11


 204              	.LCFI1:
 205              		.cfi_def_cfa_offset 32
 206              		.cfi_offset 4, -32
 207              		.cfi_offset 5, -28
 208              		.cfi_offset 6, -24
 209              		.cfi_offset 7, -20
 210              		.cfi_offset 8, -16
 211              		.cfi_offset 9, -12
 212              		.cfi_offset 10, -8
 213              		.cfi_offset 14, -4
 214 0004 8046     		mov	r8, r0
 215 0006 0F46     		mov	r7, r1
 216 0008 1546     		mov	r5, r2
 217 000a 9946     		mov	r9, r3
 218 000c 9DF820A0 		ldrb	r10, [sp, #32]	@ zero_extendqisi2
 176:Middlewares/Third_Party/LwIP/src/core/tcp_out.c **** 
 219              		.loc 1 176 0
 220 0010 1AF0010F 		tst	r10, #1
 221 0014 36D0     		beq	.L24
 222 0016 0426     		movs	r6, #4
 223              	.L20:
 224              	.LVL19:
 178:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****     LWIP_DEBUGF(TCP_OUTPUT_DEBUG | LWIP_DBG_LEVEL_SERIOUS, ("tcp_create_segment: no memory.\n"));
 225              		.loc 1 178 0 discriminator 4
 226 0018 0320     		movs	r0, #3
 227              	.LVL20:
 228 001a FFF7FEFF 		bl	memp_malloc
 229              	.LVL21:
 230 001e 0446     		mov	r4, r0
 231 0020 90B3     		cbz	r0, .L26
 183:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****   seg->next = NULL;
 232              		.loc 1 183 0
 233 0022 80F80AA0 		strb	r10, [r0, #10]
 184:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****   seg->p = p;
 234              		.loc 1 184 0
 235 0026 0023     		movs	r3, #0
 236 0028 0360     		str	r3, [r0]
 185:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****   LWIP_ASSERT("p->tot_len >= optlen", p->tot_len >= optlen);
 237              		.loc 1 185 0
 238 002a 4760     		str	r7, [r0, #4]
 186:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****   seg->len = p->tot_len - optlen;
 239              		.loc 1 186 0
 240 002c 3B89     		ldrh	r3, [r7, #8]
 187:Middlewares/Third_Party/LwIP/src/core/tcp_out.c **** #if TCP_OVERSIZE_DBGCHECK
 241              		.loc 1 187 0
 242 002e 9B1B     		subs	r3, r3, r6
 243 0030 0381     		strh	r3, [r0, #8]	@ movhi
 200:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****     LWIP_DEBUGF(TCP_OUTPUT_DEBUG | LWIP_DBG_LEVEL_SERIOUS, ("tcp_create_segment: no room for TCP he
 244              		.loc 1 200 0
 245 0032 1421     		movs	r1, #20
 246 0034 3846     		mov	r0, r7
 247              	.LVL22:
 248 0036 FFF7FEFF 		bl	pbuf_header
 249              	.LVL23:
 250 003a 48BB     		cbnz	r0, .L27
 206:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****   seg->tcphdr->src = lwip_htons(pcb->local_port);
 251              		.loc 1 206 0
ARM GAS  C:\Users\Student\AppData\Local\Temp\cc218qF3.s 			page 12


 252 003c 6368     		ldr	r3, [r4, #4]
 253 003e 5F68     		ldr	r7, [r3, #4]
 254              	.LVL24:
 255 0040 E760     		str	r7, [r4, #12]
 207:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****   seg->tcphdr->dest = lwip_htons(pcb->remote_port);
 256              		.loc 1 207 0
 257 0042 B8F81600 		ldrh	r0, [r8, #22]
 258 0046 FFF7FEFF 		bl	lwip_htons
 259              	.LVL25:
 260 004a 3880     		strh	r0, [r7]	@ unaligned
 208:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****   seg->tcphdr->seqno = lwip_htonl(seqno);
 261              		.loc 1 208 0
 262 004c E768     		ldr	r7, [r4, #12]
 263 004e B8F81800 		ldrh	r0, [r8, #24]
 264 0052 FFF7FEFF 		bl	lwip_htons
 265              	.LVL26:
 266 0056 7880     		strh	r0, [r7, #2]	@ unaligned
 209:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****   /* ackno is set in tcp_output */
 267              		.loc 1 209 0
 268 0058 E768     		ldr	r7, [r4, #12]
 269 005a 4846     		mov	r0, r9
 270 005c FFF7FEFF 		bl	lwip_htonl
 271              	.LVL27:
 272 0060 7860     		str	r0, [r7, #4]	@ unaligned
 211:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****   /* wnd and chksum are set in tcp_output */
 273              		.loc 1 211 0
 274 0062 E768     		ldr	r7, [r4, #12]
 275 0064 B008     		lsrs	r0, r6, #2
 276 0066 0530     		adds	r0, r0, #5
 277 0068 45EA0030 		orr	r0, r5, r0, lsl #12
 278 006c 00B2     		sxth	r0, r0
 279 006e 80B2     		uxth	r0, r0
 280 0070 FFF7FEFF 		bl	lwip_htons
 281              	.LVL28:
 282 0074 B881     		strh	r0, [r7, #12]	@ unaligned
 213:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****   return seg;
 283              		.loc 1 213 0
 284 0076 E368     		ldr	r3, [r4, #12]
 285 0078 0022     		movs	r2, #0
 286 007a 9A74     		strb	r2, [r3, #18]
 287 007c DA74     		strb	r2, [r3, #19]
 288              	.LVL29:
 289              	.L19:
 215:Middlewares/Third_Party/LwIP/src/core/tcp_out.c **** 
 290              		.loc 1 215 0
 291 007e 2046     		mov	r0, r4
 292 0080 BDE8F087 		pop	{r4, r5, r6, r7, r8, r9, r10, pc}
 293              	.LVL30:
 294              	.L24:
 176:Middlewares/Third_Party/LwIP/src/core/tcp_out.c **** 
 295              		.loc 1 176 0
 296 0084 0026     		movs	r6, #0
 297 0086 C7E7     		b	.L20
 298              	.LVL31:
 299              	.L26:
 180:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****     return NULL;
 300              		.loc 1 180 0
ARM GAS  C:\Users\Student\AppData\Local\Temp\cc218qF3.s 			page 13


 301 0088 3846     		mov	r0, r7
 302              	.LVL32:
 303 008a FFF7FEFF 		bl	pbuf_free
 304              	.LVL33:
 181:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****   }
 305              		.loc 1 181 0
 306 008e F6E7     		b	.L19
 307              	.L27:
 203:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****     return NULL;
 308              		.loc 1 203 0
 309 0090 2046     		mov	r0, r4
 310 0092 FFF7FEFF 		bl	tcp_seg_free
 311              	.LVL34:
 204:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****   }
 312              		.loc 1 204 0
 313 0096 0024     		movs	r4, #0
 314              	.LVL35:
 315 0098 F1E7     		b	.L19
 316              		.cfi_endproc
 317              	.LFE138:
 319              		.section	.text.tcp_output_alloc_header,"ax",%progbits
 320              		.align	1
 321              		.syntax unified
 322              		.thumb
 323              		.thumb_func
 324              		.fpu fpv5-sp-d16
 326              	tcp_output_alloc_header:
 327              	.LFB136:
 110:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****   struct tcp_hdr *tcphdr;
 328              		.loc 1 110 0
 329              		.cfi_startproc
 330              		@ args = 0, pretend = 0, frame = 0
 331              		@ frame_needed = 0, uses_anonymous_args = 0
 332              	.LVL36:
 333 0000 2DE9F041 		push	{r4, r5, r6, r7, r8, lr}
 334              	.LCFI2:
 335              		.cfi_def_cfa_offset 24
 336              		.cfi_offset 4, -24
 337              		.cfi_offset 5, -20
 338              		.cfi_offset 6, -16
 339              		.cfi_offset 7, -12
 340              		.cfi_offset 8, -8
 341              		.cfi_offset 14, -4
 342 0004 0646     		mov	r6, r0
 343 0006 0C46     		mov	r4, r1
 344 0008 9846     		mov	r8, r3
 112:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****   if (p != NULL) {
 345              		.loc 1 112 0
 346 000a 1144     		add	r1, r1, r2
 347              	.LVL37:
 348 000c 89B2     		uxth	r1, r1
 349 000e 1431     		adds	r1, r1, #20
 350 0010 0022     		movs	r2, #0
 351              	.LVL38:
 352 0012 89B2     		uxth	r1, r1
 353 0014 0120     		movs	r0, #1
 354              	.LVL39:
ARM GAS  C:\Users\Student\AppData\Local\Temp\cc218qF3.s 			page 14


 355 0016 FFF7FEFF 		bl	pbuf_alloc
 356              	.LVL40:
 113:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****     LWIP_ASSERT("check that first pbuf can hold struct tcp_hdr",
 357              		.loc 1 113 0
 358 001a 0746     		mov	r7, r0
 359 001c 20B3     		cbz	r0, .L28
 116:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****     tcphdr->src = lwip_htons(pcb->local_port);
 360              		.loc 1 116 0
 361 001e 4568     		ldr	r5, [r0, #4]
 362              	.LVL41:
 117:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****     tcphdr->dest = lwip_htons(pcb->remote_port);
 363              		.loc 1 117 0
 364 0020 F08A     		ldrh	r0, [r6, #22]
 365              	.LVL42:
 366 0022 FFF7FEFF 		bl	lwip_htons
 367              	.LVL43:
 368 0026 2880     		strh	r0, [r5]	@ unaligned
 118:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****     tcphdr->seqno = seqno_be;
 369              		.loc 1 118 0
 370 0028 308B     		ldrh	r0, [r6, #24]
 371 002a FFF7FEFF 		bl	lwip_htons
 372              	.LVL44:
 373 002e 6880     		strh	r0, [r5, #2]	@ unaligned
 119:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****     tcphdr->ackno = lwip_htonl(pcb->rcv_nxt);
 374              		.loc 1 119 0
 375 0030 C5F80480 		str	r8, [r5, #4]	@ unaligned
 120:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****     TCPH_HDRLEN_FLAGS_SET(tcphdr, (5 + optlen / 4), TCP_ACK);
 376              		.loc 1 120 0
 377 0034 706A     		ldr	r0, [r6, #36]
 378 0036 FFF7FEFF 		bl	lwip_htonl
 379              	.LVL45:
 380 003a A860     		str	r0, [r5, #8]	@ unaligned
 121:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****     tcphdr->wnd = lwip_htons(TCPWND_MIN16(RCV_WND_SCALE(pcb, pcb->rcv_ann_wnd)));
 381              		.loc 1 121 0
 382 003c A008     		lsrs	r0, r4, #2
 383 003e 0530     		adds	r0, r0, #5
 384 0040 0003     		lsls	r0, r0, #12
 385 0042 80B2     		uxth	r0, r0
 386 0044 40F01000 		orr	r0, r0, #16
 387 0048 FFF7FEFF 		bl	lwip_htons
 388              	.LVL46:
 389 004c A881     		strh	r0, [r5, #12]	@ unaligned
 122:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****     tcphdr->chksum = 0;
 390              		.loc 1 122 0
 391 004e 708D     		ldrh	r0, [r6, #42]
 392 0050 FFF7FEFF 		bl	lwip_htons
 393              	.LVL47:
 394 0054 E881     		strh	r0, [r5, #14]	@ unaligned
 123:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****     tcphdr->urgp = 0;
 395              		.loc 1 123 0
 396 0056 0023     		movs	r3, #0
 397 0058 2B74     		strb	r3, [r5, #16]
 398 005a 6B74     		strb	r3, [r5, #17]
 124:Middlewares/Third_Party/LwIP/src/core/tcp_out.c **** 
 399              		.loc 1 124 0
 400 005c AB74     		strb	r3, [r5, #18]
 401 005e EB74     		strb	r3, [r5, #19]
ARM GAS  C:\Users\Student\AppData\Local\Temp\cc218qF3.s 			page 15


 127:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****   }
 402              		.loc 1 127 0
 403 0060 736A     		ldr	r3, [r6, #36]
 404 0062 728D     		ldrh	r2, [r6, #42]
 405 0064 1344     		add	r3, r3, r2
 406 0066 F362     		str	r3, [r6, #44]
 407              	.LVL48:
 408              	.L28:
 130:Middlewares/Third_Party/LwIP/src/core/tcp_out.c **** 
 409              		.loc 1 130 0
 410 0068 3846     		mov	r0, r7
 411 006a BDE8F081 		pop	{r4, r5, r6, r7, r8, pc}
 412              		.cfi_endproc
 413              	.LFE136:
 415              		.section	.text.tcp_output_segment,"ax",%progbits
 416              		.align	1
 417              		.syntax unified
 418              		.thumb
 419              		.thumb_func
 420              		.fpu fpv5-sp-d16
 422              	tcp_output_segment:
 423              	.LFB145:
 349:Middlewares/Third_Party/LwIP/src/core/tcp_out.c **** 
 350:Middlewares/Third_Party/LwIP/src/core/tcp_out.c **** /**
 351:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****  * @ingroup tcp_raw
 352:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****  * Write data for sending (but does not send it immediately).
 353:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****  *
 354:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****  * It waits in the expectation of more data being sent soon (as
 355:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****  * it can send them more efficiently by combining them together).
 356:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****  * To prompt the system to send data now, call tcp_output() after
 357:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****  * calling tcp_write().
 358:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****  *
 359:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****  * @param pcb Protocol control block for the TCP connection to enqueue data for.
 360:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****  * @param arg Pointer to the data to be enqueued for sending.
 361:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****  * @param len Data length in bytes
 362:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****  * @param apiflags combination of following flags :
 363:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****  * - TCP_WRITE_FLAG_COPY (0x01) data will be copied into memory belonging to the stack
 364:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****  * - TCP_WRITE_FLAG_MORE (0x02) for TCP connection, PSH flag will not be set on last segment sent,
 365:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****  * @return ERR_OK if enqueued, another err_t on error
 366:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****  */
 367:Middlewares/Third_Party/LwIP/src/core/tcp_out.c **** err_t
 368:Middlewares/Third_Party/LwIP/src/core/tcp_out.c **** tcp_write(struct tcp_pcb *pcb, const void *arg, u16_t len, u8_t apiflags)
 369:Middlewares/Third_Party/LwIP/src/core/tcp_out.c **** {
 370:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****   struct pbuf *concat_p = NULL;
 371:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****   struct tcp_seg *last_unsent = NULL, *seg = NULL, *prev_seg = NULL, *queue = NULL;
 372:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****   u16_t pos = 0; /* position in 'arg' data */
 373:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****   u16_t queuelen;
 374:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****   u8_t optlen = 0;
 375:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****   u8_t optflags = 0;
 376:Middlewares/Third_Party/LwIP/src/core/tcp_out.c **** #if TCP_OVERSIZE
 377:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****   u16_t oversize = 0;
 378:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****   u16_t oversize_used = 0;
 379:Middlewares/Third_Party/LwIP/src/core/tcp_out.c **** #endif /* TCP_OVERSIZE */
 380:Middlewares/Third_Party/LwIP/src/core/tcp_out.c **** #if TCP_CHECKSUM_ON_COPY
 381:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****   u16_t concat_chksum = 0;
 382:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****   u8_t concat_chksum_swapped = 0;
 383:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****   u16_t concat_chksummed = 0;
ARM GAS  C:\Users\Student\AppData\Local\Temp\cc218qF3.s 			page 16


 384:Middlewares/Third_Party/LwIP/src/core/tcp_out.c **** #endif /* TCP_CHECKSUM_ON_COPY */
 385:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****   err_t err;
 386:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****   /* don't allocate segments bigger than half the maximum window we ever received */
 387:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****   u16_t mss_local = LWIP_MIN(pcb->mss, TCPWND_MIN16(pcb->snd_wnd_max/2));
 388:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****   mss_local = mss_local ? mss_local : pcb->mss;
 389:Middlewares/Third_Party/LwIP/src/core/tcp_out.c **** 
 390:Middlewares/Third_Party/LwIP/src/core/tcp_out.c **** #if LWIP_NETIF_TX_SINGLE_PBUF
 391:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****   /* Always copy to try to create single pbufs for TX */
 392:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****   apiflags |= TCP_WRITE_FLAG_COPY;
 393:Middlewares/Third_Party/LwIP/src/core/tcp_out.c **** #endif /* LWIP_NETIF_TX_SINGLE_PBUF */
 394:Middlewares/Third_Party/LwIP/src/core/tcp_out.c **** 
 395:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****   LWIP_DEBUGF(TCP_OUTPUT_DEBUG, ("tcp_write(pcb=%p, data=%p, len=%"U16_F", apiflags=%"U16_F")\n",
 396:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****     (void *)pcb, arg, len, (u16_t)apiflags));
 397:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****   LWIP_ERROR("tcp_write: arg == NULL (programmer violates API)",
 398:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****              arg != NULL, return ERR_ARG;);
 399:Middlewares/Third_Party/LwIP/src/core/tcp_out.c **** 
 400:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****   err = tcp_write_checks(pcb, len);
 401:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****   if (err != ERR_OK) {
 402:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****     return err;
 403:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****   }
 404:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****   queuelen = pcb->snd_queuelen;
 405:Middlewares/Third_Party/LwIP/src/core/tcp_out.c **** 
 406:Middlewares/Third_Party/LwIP/src/core/tcp_out.c **** #if LWIP_TCP_TIMESTAMPS
 407:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****   if ((pcb->flags & TF_TIMESTAMP)) {
 408:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****     /* Make sure the timestamp option is only included in data segments if we
 409:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****        agreed about it with the remote host. */
 410:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****     optflags = TF_SEG_OPTS_TS;
 411:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****     optlen = LWIP_TCP_OPT_LENGTH(TF_SEG_OPTS_TS);
 412:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****     /* ensure that segments can hold at least one data byte... */
 413:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****     mss_local = LWIP_MAX(mss_local, LWIP_TCP_OPT_LEN_TS + 1);
 414:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****   }
 415:Middlewares/Third_Party/LwIP/src/core/tcp_out.c **** #endif /* LWIP_TCP_TIMESTAMPS */
 416:Middlewares/Third_Party/LwIP/src/core/tcp_out.c **** 
 417:Middlewares/Third_Party/LwIP/src/core/tcp_out.c **** 
 418:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****   /*
 419:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****    * TCP segmentation is done in three phases with increasing complexity:
 420:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****    *
 421:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****    * 1. Copy data directly into an oversized pbuf.
 422:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****    * 2. Chain a new pbuf to the end of pcb->unsent.
 423:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****    * 3. Create new segments.
 424:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****    *
 425:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****    * We may run out of memory at any point. In that case we must
 426:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****    * return ERR_MEM and not change anything in pcb. Therefore, all
 427:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****    * changes are recorded in local variables and committed at the end
 428:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****    * of the function. Some pcb fields are maintained in local copies:
 429:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****    *
 430:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****    * queuelen = pcb->snd_queuelen
 431:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****    * oversize = pcb->unsent_oversize
 432:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****    *
 433:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****    * These variables are set consistently by the phases:
 434:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****    *
 435:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****    * seg points to the last segment tampered with.
 436:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****    *
 437:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****    * pos records progress as data is segmented.
 438:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****    */
 439:Middlewares/Third_Party/LwIP/src/core/tcp_out.c **** 
 440:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****   /* Find the tail of the unsent queue. */
ARM GAS  C:\Users\Student\AppData\Local\Temp\cc218qF3.s 			page 17


 441:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****   if (pcb->unsent != NULL) {
 442:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****     u16_t space;
 443:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****     u16_t unsent_optlen;
 444:Middlewares/Third_Party/LwIP/src/core/tcp_out.c **** 
 445:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****     /* @todo: this could be sped up by keeping last_unsent in the pcb */
 446:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****     for (last_unsent = pcb->unsent; last_unsent->next != NULL;
 447:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****          last_unsent = last_unsent->next);
 448:Middlewares/Third_Party/LwIP/src/core/tcp_out.c **** 
 449:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****     /* Usable space at the end of the last unsent segment */
 450:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****     unsent_optlen = LWIP_TCP_OPT_LENGTH(last_unsent->flags);
 451:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****     LWIP_ASSERT("mss_local is too small", mss_local >= last_unsent->len + unsent_optlen);
 452:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****     space = mss_local - (last_unsent->len + unsent_optlen);
 453:Middlewares/Third_Party/LwIP/src/core/tcp_out.c **** 
 454:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****     /*
 455:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****      * Phase 1: Copy data directly into an oversized pbuf.
 456:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****      *
 457:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****      * The number of bytes copied is recorded in the oversize_used
 458:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****      * variable. The actual copying is done at the bottom of the
 459:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****      * function.
 460:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****      */
 461:Middlewares/Third_Party/LwIP/src/core/tcp_out.c **** #if TCP_OVERSIZE
 462:Middlewares/Third_Party/LwIP/src/core/tcp_out.c **** #if TCP_OVERSIZE_DBGCHECK
 463:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****     /* check that pcb->unsent_oversize matches last_unsent->unsent_oversize */
 464:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****     LWIP_ASSERT("unsent_oversize mismatch (pcb vs. last_unsent)",
 465:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****                 pcb->unsent_oversize == last_unsent->oversize_left);
 466:Middlewares/Third_Party/LwIP/src/core/tcp_out.c **** #endif /* TCP_OVERSIZE_DBGCHECK */
 467:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****     oversize = pcb->unsent_oversize;
 468:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****     if (oversize > 0) {
 469:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****       LWIP_ASSERT("inconsistent oversize vs. space", oversize_used <= space);
 470:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****       seg = last_unsent;
 471:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****       oversize_used = LWIP_MIN(space, LWIP_MIN(oversize, len));
 472:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****       pos += oversize_used;
 473:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****       oversize -= oversize_used;
 474:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****       space -= oversize_used;
 475:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****     }
 476:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****     /* now we are either finished or oversize is zero */
 477:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****     LWIP_ASSERT("inconsistend oversize vs. len", (oversize == 0) || (pos == len));
 478:Middlewares/Third_Party/LwIP/src/core/tcp_out.c **** #endif /* TCP_OVERSIZE */
 479:Middlewares/Third_Party/LwIP/src/core/tcp_out.c **** 
 480:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****     /*
 481:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****      * Phase 2: Chain a new pbuf to the end of pcb->unsent.
 482:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****      *
 483:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****      * We don't extend segments containing SYN/FIN flags or options
 484:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****      * (len==0). The new pbuf is kept in concat_p and pbuf_cat'ed at
 485:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****      * the end.
 486:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****      */
 487:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****     if ((pos < len) && (space > 0) && (last_unsent->len > 0)) {
 488:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****       u16_t seglen = space < len - pos ? space : len - pos;
 489:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****       seg = last_unsent;
 490:Middlewares/Third_Party/LwIP/src/core/tcp_out.c **** 
 491:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****       /* Create a pbuf with a copy or reference to seglen bytes. We
 492:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****        * can use PBUF_RAW here since the data appears in the middle of
 493:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****        * a segment. A header will never be prepended. */
 494:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****       if (apiflags & TCP_WRITE_FLAG_COPY) {
 495:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****         /* Data is copied */
 496:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****         if ((concat_p = tcp_pbuf_prealloc(PBUF_RAW, seglen, space, &oversize, pcb, apiflags, 1)) ==
 497:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****           LWIP_DEBUGF(TCP_OUTPUT_DEBUG | LWIP_DBG_LEVEL_SERIOUS,
ARM GAS  C:\Users\Student\AppData\Local\Temp\cc218qF3.s 			page 18


 498:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****                       ("tcp_write : could not allocate memory for pbuf copy size %"U16_F"\n",
 499:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****                        seglen));
 500:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****           goto memerr;
 501:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****         }
 502:Middlewares/Third_Party/LwIP/src/core/tcp_out.c **** #if TCP_OVERSIZE_DBGCHECK
 503:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****         last_unsent->oversize_left += oversize;
 504:Middlewares/Third_Party/LwIP/src/core/tcp_out.c **** #endif /* TCP_OVERSIZE_DBGCHECK */
 505:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****         TCP_DATA_COPY2(concat_p->payload, (const u8_t*)arg + pos, seglen, &concat_chksum, &concat_c
 506:Middlewares/Third_Party/LwIP/src/core/tcp_out.c **** #if TCP_CHECKSUM_ON_COPY
 507:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****         concat_chksummed += seglen;
 508:Middlewares/Third_Party/LwIP/src/core/tcp_out.c **** #endif /* TCP_CHECKSUM_ON_COPY */
 509:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****       } else {
 510:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****         /* Data is not copied */
 511:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****         if ((concat_p = pbuf_alloc(PBUF_RAW, seglen, PBUF_ROM)) == NULL) {
 512:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****           LWIP_DEBUGF(TCP_OUTPUT_DEBUG | LWIP_DBG_LEVEL_SERIOUS,
 513:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****                       ("tcp_write: could not allocate memory for zero-copy pbuf\n"));
 514:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****           goto memerr;
 515:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****         }
 516:Middlewares/Third_Party/LwIP/src/core/tcp_out.c **** #if TCP_CHECKSUM_ON_COPY
 517:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****         /* calculate the checksum of nocopy-data */
 518:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****         tcp_seg_add_chksum(~inet_chksum((const u8_t*)arg + pos, seglen), seglen,
 519:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****           &concat_chksum, &concat_chksum_swapped);
 520:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****         concat_chksummed += seglen;
 521:Middlewares/Third_Party/LwIP/src/core/tcp_out.c **** #endif /* TCP_CHECKSUM_ON_COPY */
 522:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****         /* reference the non-volatile payload data */
 523:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****         ((struct pbuf_rom*)concat_p)->payload = (const u8_t*)arg + pos;
 524:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****       }
 525:Middlewares/Third_Party/LwIP/src/core/tcp_out.c **** 
 526:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****       pos += seglen;
 527:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****       queuelen += pbuf_clen(concat_p);
 528:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****     }
 529:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****   } else {
 530:Middlewares/Third_Party/LwIP/src/core/tcp_out.c **** #if TCP_OVERSIZE
 531:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****     LWIP_ASSERT("unsent_oversize mismatch (pcb->unsent is NULL)",
 532:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****                 pcb->unsent_oversize == 0);
 533:Middlewares/Third_Party/LwIP/src/core/tcp_out.c **** #endif /* TCP_OVERSIZE */
 534:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****   }
 535:Middlewares/Third_Party/LwIP/src/core/tcp_out.c **** 
 536:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****   /*
 537:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****    * Phase 3: Create new segments.
 538:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****    *
 539:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****    * The new segments are chained together in the local 'queue'
 540:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****    * variable, ready to be appended to pcb->unsent.
 541:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****    */
 542:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****   while (pos < len) {
 543:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****     struct pbuf *p;
 544:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****     u16_t left = len - pos;
 545:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****     u16_t max_len = mss_local - optlen;
 546:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****     u16_t seglen = left > max_len ? max_len : left;
 547:Middlewares/Third_Party/LwIP/src/core/tcp_out.c **** #if TCP_CHECKSUM_ON_COPY
 548:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****     u16_t chksum = 0;
 549:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****     u8_t chksum_swapped = 0;
 550:Middlewares/Third_Party/LwIP/src/core/tcp_out.c **** #endif /* TCP_CHECKSUM_ON_COPY */
 551:Middlewares/Third_Party/LwIP/src/core/tcp_out.c **** 
 552:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****     if (apiflags & TCP_WRITE_FLAG_COPY) {
 553:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****       /* If copy is set, memory should be allocated and data copied
 554:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****        * into pbuf */
ARM GAS  C:\Users\Student\AppData\Local\Temp\cc218qF3.s 			page 19


 555:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****       if ((p = tcp_pbuf_prealloc(PBUF_TRANSPORT, seglen + optlen, mss_local, &oversize, pcb, apifla
 556:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****         LWIP_DEBUGF(TCP_OUTPUT_DEBUG | LWIP_DBG_LEVEL_SERIOUS, ("tcp_write : could not allocate mem
 557:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****         goto memerr;
 558:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****       }
 559:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****       LWIP_ASSERT("tcp_write: check that first pbuf can hold the complete seglen",
 560:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****                   (p->len >= seglen));
 561:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****       TCP_DATA_COPY2((char *)p->payload + optlen, (const u8_t*)arg + pos, seglen, &chksum, &chksum_
 562:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****     } else {
 563:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****       /* Copy is not set: First allocate a pbuf for holding the data.
 564:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****        * Since the referenced data is available at least until it is
 565:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****        * sent out on the link (as it has to be ACKed by the remote
 566:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****        * party) we can safely use PBUF_ROM instead of PBUF_REF here.
 567:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****        */
 568:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****       struct pbuf *p2;
 569:Middlewares/Third_Party/LwIP/src/core/tcp_out.c **** #if TCP_OVERSIZE
 570:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****       LWIP_ASSERT("oversize == 0", oversize == 0);
 571:Middlewares/Third_Party/LwIP/src/core/tcp_out.c **** #endif /* TCP_OVERSIZE */
 572:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****       if ((p2 = pbuf_alloc(PBUF_TRANSPORT, seglen, PBUF_ROM)) == NULL) {
 573:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****         LWIP_DEBUGF(TCP_OUTPUT_DEBUG | LWIP_DBG_LEVEL_SERIOUS, ("tcp_write: could not allocate memo
 574:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****         goto memerr;
 575:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****       }
 576:Middlewares/Third_Party/LwIP/src/core/tcp_out.c **** #if TCP_CHECKSUM_ON_COPY
 577:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****       /* calculate the checksum of nocopy-data */
 578:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****       chksum = ~inet_chksum((const u8_t*)arg + pos, seglen);
 579:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****       if (seglen & 1) {
 580:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****         chksum_swapped = 1;
 581:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****         chksum = SWAP_BYTES_IN_WORD(chksum);
 582:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****       }
 583:Middlewares/Third_Party/LwIP/src/core/tcp_out.c **** #endif /* TCP_CHECKSUM_ON_COPY */
 584:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****       /* reference the non-volatile payload data */
 585:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****       ((struct pbuf_rom*)p2)->payload = (const u8_t*)arg + pos;
 586:Middlewares/Third_Party/LwIP/src/core/tcp_out.c **** 
 587:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****       /* Second, allocate a pbuf for the headers. */
 588:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****       if ((p = pbuf_alloc(PBUF_TRANSPORT, optlen, PBUF_RAM)) == NULL) {
 589:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****         /* If allocation fails, we have to deallocate the data pbuf as
 590:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****          * well. */
 591:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****         pbuf_free(p2);
 592:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****         LWIP_DEBUGF(TCP_OUTPUT_DEBUG | LWIP_DBG_LEVEL_SERIOUS, ("tcp_write: could not allocate memo
 593:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****         goto memerr;
 594:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****       }
 595:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****       /* Concatenate the headers and data pbufs together. */
 596:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****       pbuf_cat(p/*header*/, p2/*data*/);
 597:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****     }
 598:Middlewares/Third_Party/LwIP/src/core/tcp_out.c **** 
 599:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****     queuelen += pbuf_clen(p);
 600:Middlewares/Third_Party/LwIP/src/core/tcp_out.c **** 
 601:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****     /* Now that there are more segments queued, we check again if the
 602:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****      * length of the queue exceeds the configured maximum or
 603:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****      * overflows. */
 604:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****     if ((queuelen > TCP_SND_QUEUELEN) || (queuelen > TCP_SNDQUEUELEN_OVERFLOW)) {
 605:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****       LWIP_DEBUGF(TCP_OUTPUT_DEBUG | LWIP_DBG_LEVEL_SERIOUS, ("tcp_write: queue too long %"U16_F" (
 606:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****         queuelen, (int)TCP_SND_QUEUELEN));
 607:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****       pbuf_free(p);
 608:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****       goto memerr;
 609:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****     }
 610:Middlewares/Third_Party/LwIP/src/core/tcp_out.c **** 
 611:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****     if ((seg = tcp_create_segment(pcb, p, 0, pcb->snd_lbb + pos, optflags)) == NULL) {
ARM GAS  C:\Users\Student\AppData\Local\Temp\cc218qF3.s 			page 20


 612:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****       goto memerr;
 613:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****     }
 614:Middlewares/Third_Party/LwIP/src/core/tcp_out.c **** #if TCP_OVERSIZE_DBGCHECK
 615:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****     seg->oversize_left = oversize;
 616:Middlewares/Third_Party/LwIP/src/core/tcp_out.c **** #endif /* TCP_OVERSIZE_DBGCHECK */
 617:Middlewares/Third_Party/LwIP/src/core/tcp_out.c **** #if TCP_CHECKSUM_ON_COPY
 618:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****     seg->chksum = chksum;
 619:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****     seg->chksum_swapped = chksum_swapped;
 620:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****     seg->flags |= TF_SEG_DATA_CHECKSUMMED;
 621:Middlewares/Third_Party/LwIP/src/core/tcp_out.c **** #endif /* TCP_CHECKSUM_ON_COPY */
 622:Middlewares/Third_Party/LwIP/src/core/tcp_out.c **** 
 623:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****     /* first segment of to-be-queued data? */
 624:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****     if (queue == NULL) {
 625:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****       queue = seg;
 626:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****     } else {
 627:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****       /* Attach the segment to the end of the queued segments */
 628:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****       LWIP_ASSERT("prev_seg != NULL", prev_seg != NULL);
 629:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****       prev_seg->next = seg;
 630:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****     }
 631:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****     /* remember last segment of to-be-queued data for next iteration */
 632:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****     prev_seg = seg;
 633:Middlewares/Third_Party/LwIP/src/core/tcp_out.c **** 
 634:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****     LWIP_DEBUGF(TCP_OUTPUT_DEBUG | LWIP_DBG_TRACE, ("tcp_write: queueing %"U32_F":%"U32_F"\n",
 635:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****       lwip_ntohl(seg->tcphdr->seqno),
 636:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****       lwip_ntohl(seg->tcphdr->seqno) + TCP_TCPLEN(seg)));
 637:Middlewares/Third_Party/LwIP/src/core/tcp_out.c **** 
 638:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****     pos += seglen;
 639:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****   }
 640:Middlewares/Third_Party/LwIP/src/core/tcp_out.c **** 
 641:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****   /*
 642:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****    * All three segmentation phases were successful. We can commit the
 643:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****    * transaction.
 644:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****    */
 645:Middlewares/Third_Party/LwIP/src/core/tcp_out.c **** 
 646:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****   /*
 647:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****    * Phase 1: If data has been added to the preallocated tail of
 648:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****    * last_unsent, we update the length fields of the pbuf chain.
 649:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****    */
 650:Middlewares/Third_Party/LwIP/src/core/tcp_out.c **** #if TCP_OVERSIZE
 651:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****   if (oversize_used > 0) {
 652:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****     struct pbuf *p;
 653:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****     /* Bump tot_len of whole chain, len of tail */
 654:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****     for (p = last_unsent->p; p; p = p->next) {
 655:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****       p->tot_len += oversize_used;
 656:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****       if (p->next == NULL) {
 657:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****         TCP_DATA_COPY((char *)p->payload + p->len, arg, oversize_used, last_unsent);
 658:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****         p->len += oversize_used;
 659:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****       }
 660:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****     }
 661:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****     last_unsent->len += oversize_used;
 662:Middlewares/Third_Party/LwIP/src/core/tcp_out.c **** #if TCP_OVERSIZE_DBGCHECK
 663:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****     LWIP_ASSERT("last_unsent->oversize_left >= oversize_used",
 664:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****                 last_unsent->oversize_left >= oversize_used);
 665:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****     last_unsent->oversize_left -= oversize_used;
 666:Middlewares/Third_Party/LwIP/src/core/tcp_out.c **** #endif /* TCP_OVERSIZE_DBGCHECK */
 667:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****   }
 668:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****   pcb->unsent_oversize = oversize;
ARM GAS  C:\Users\Student\AppData\Local\Temp\cc218qF3.s 			page 21


 669:Middlewares/Third_Party/LwIP/src/core/tcp_out.c **** #endif /* TCP_OVERSIZE */
 670:Middlewares/Third_Party/LwIP/src/core/tcp_out.c **** 
 671:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****   /*
 672:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****    * Phase 2: concat_p can be concatenated onto last_unsent->p
 673:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****    */
 674:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****   if (concat_p != NULL) {
 675:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****     LWIP_ASSERT("tcp_write: cannot concatenate when pcb->unsent is empty",
 676:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****       (last_unsent != NULL));
 677:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****     pbuf_cat(last_unsent->p, concat_p);
 678:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****     last_unsent->len += concat_p->tot_len;
 679:Middlewares/Third_Party/LwIP/src/core/tcp_out.c **** #if TCP_CHECKSUM_ON_COPY
 680:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****     if (concat_chksummed) {
 681:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****       /*if concat checksumm swapped - swap it back */
 682:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****       if (concat_chksum_swapped) {
 683:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****         concat_chksum = SWAP_BYTES_IN_WORD(concat_chksum);
 684:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****       }
 685:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****       tcp_seg_add_chksum(concat_chksum, concat_chksummed, &last_unsent->chksum,
 686:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****         &last_unsent->chksum_swapped);
 687:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****       last_unsent->flags |= TF_SEG_DATA_CHECKSUMMED;
 688:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****     }
 689:Middlewares/Third_Party/LwIP/src/core/tcp_out.c **** #endif /* TCP_CHECKSUM_ON_COPY */
 690:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****   }
 691:Middlewares/Third_Party/LwIP/src/core/tcp_out.c **** 
 692:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****   /*
 693:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****    * Phase 3: Append queue to pcb->unsent. Queue may be NULL, but that
 694:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****    * is harmless
 695:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****    */
 696:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****   if (last_unsent == NULL) {
 697:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****     pcb->unsent = queue;
 698:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****   } else {
 699:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****     last_unsent->next = queue;
 700:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****   }
 701:Middlewares/Third_Party/LwIP/src/core/tcp_out.c **** 
 702:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****   /*
 703:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****    * Finally update the pcb state.
 704:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****    */
 705:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****   pcb->snd_lbb += len;
 706:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****   pcb->snd_buf -= len;
 707:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****   pcb->snd_queuelen = queuelen;
 708:Middlewares/Third_Party/LwIP/src/core/tcp_out.c **** 
 709:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****   LWIP_DEBUGF(TCP_QLEN_DEBUG, ("tcp_write: %"S16_F" (after enqueued)\n",
 710:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****     pcb->snd_queuelen));
 711:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****   if (pcb->snd_queuelen != 0) {
 712:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****     LWIP_ASSERT("tcp_write: valid queue length",
 713:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****                 pcb->unacked != NULL || pcb->unsent != NULL);
 714:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****   }
 715:Middlewares/Third_Party/LwIP/src/core/tcp_out.c **** 
 716:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****   /* Set the PSH flag in the last segment that we enqueued. */
 717:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****   if (seg != NULL && seg->tcphdr != NULL && ((apiflags & TCP_WRITE_FLAG_MORE)==0)) {
 718:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****     TCPH_SET_FLAG(seg->tcphdr, TCP_PSH);
 719:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****   }
 720:Middlewares/Third_Party/LwIP/src/core/tcp_out.c **** 
 721:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****   return ERR_OK;
 722:Middlewares/Third_Party/LwIP/src/core/tcp_out.c **** memerr:
 723:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****   pcb->flags |= TF_NAGLEMEMERR;
 724:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****   TCP_STATS_INC(tcp.memerr);
 725:Middlewares/Third_Party/LwIP/src/core/tcp_out.c **** 
ARM GAS  C:\Users\Student\AppData\Local\Temp\cc218qF3.s 			page 22


 726:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****   if (concat_p != NULL) {
 727:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****     pbuf_free(concat_p);
 728:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****   }
 729:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****   if (queue != NULL) {
 730:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****     tcp_segs_free(queue);
 731:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****   }
 732:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****   if (pcb->snd_queuelen != 0) {
 733:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****     LWIP_ASSERT("tcp_write: valid queue length", pcb->unacked != NULL ||
 734:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****       pcb->unsent != NULL);
 735:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****   }
 736:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****   LWIP_DEBUGF(TCP_QLEN_DEBUG | LWIP_DBG_STATE, ("tcp_write: %"S16_F" (with mem err)\n", pcb->snd_qu
 737:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****   return ERR_MEM;
 738:Middlewares/Third_Party/LwIP/src/core/tcp_out.c **** }
 739:Middlewares/Third_Party/LwIP/src/core/tcp_out.c **** 
 740:Middlewares/Third_Party/LwIP/src/core/tcp_out.c **** /**
 741:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****  * Enqueue TCP options for transmission.
 742:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****  *
 743:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****  * Called by tcp_connect(), tcp_listen_input(), and tcp_send_ctrl().
 744:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****  *
 745:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****  * @param pcb Protocol control block for the TCP connection.
 746:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****  * @param flags TCP header flags to set in the outgoing segment.
 747:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****  */
 748:Middlewares/Third_Party/LwIP/src/core/tcp_out.c **** err_t
 749:Middlewares/Third_Party/LwIP/src/core/tcp_out.c **** tcp_enqueue_flags(struct tcp_pcb *pcb, u8_t flags)
 750:Middlewares/Third_Party/LwIP/src/core/tcp_out.c **** {
 751:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****   struct pbuf *p;
 752:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****   struct tcp_seg *seg;
 753:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****   u8_t optflags = 0;
 754:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****   u8_t optlen = 0;
 755:Middlewares/Third_Party/LwIP/src/core/tcp_out.c **** 
 756:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****   LWIP_DEBUGF(TCP_QLEN_DEBUG, ("tcp_enqueue_flags: queuelen: %"U16_F"\n", (u16_t)pcb->snd_queuelen)
 757:Middlewares/Third_Party/LwIP/src/core/tcp_out.c **** 
 758:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****   LWIP_ASSERT("tcp_enqueue_flags: need either TCP_SYN or TCP_FIN in flags (programmer violates API)
 759:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****               (flags & (TCP_SYN | TCP_FIN)) != 0);
 760:Middlewares/Third_Party/LwIP/src/core/tcp_out.c **** 
 761:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****   /* check for configured max queuelen and possible overflow (FIN flag should always come through!)
 762:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****   if (((pcb->snd_queuelen >= TCP_SND_QUEUELEN) || (pcb->snd_queuelen > TCP_SNDQUEUELEN_OVERFLOW)) &
 763:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****       ((flags & TCP_FIN) == 0)) {
 764:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****     LWIP_DEBUGF(TCP_OUTPUT_DEBUG | LWIP_DBG_LEVEL_SEVERE, ("tcp_enqueue_flags: too long queue %"U16
 765:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****                                        pcb->snd_queuelen, (u16_t)TCP_SND_QUEUELEN));
 766:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****     TCP_STATS_INC(tcp.memerr);
 767:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****     pcb->flags |= TF_NAGLEMEMERR;
 768:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****     return ERR_MEM;
 769:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****   }
 770:Middlewares/Third_Party/LwIP/src/core/tcp_out.c **** 
 771:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****   if (flags & TCP_SYN) {
 772:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****     optflags = TF_SEG_OPTS_MSS;
 773:Middlewares/Third_Party/LwIP/src/core/tcp_out.c **** #if LWIP_WND_SCALE
 774:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****     if ((pcb->state != SYN_RCVD) || (pcb->flags & TF_WND_SCALE)) {
 775:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****       /* In a <SYN,ACK> (sent in state SYN_RCVD), the window scale option may only
 776:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****          be sent if we received a window scale option from the remote host. */
 777:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****       optflags |= TF_SEG_OPTS_WND_SCALE;
 778:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****     }
 779:Middlewares/Third_Party/LwIP/src/core/tcp_out.c **** #endif /* LWIP_WND_SCALE */
 780:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****   }
 781:Middlewares/Third_Party/LwIP/src/core/tcp_out.c **** #if LWIP_TCP_TIMESTAMPS
 782:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****   if ((pcb->flags & TF_TIMESTAMP)) {
ARM GAS  C:\Users\Student\AppData\Local\Temp\cc218qF3.s 			page 23


 783:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****     /* Make sure the timestamp option is only included in data segments if we
 784:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****        agreed about it with the remote host. */
 785:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****     optflags |= TF_SEG_OPTS_TS;
 786:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****   }
 787:Middlewares/Third_Party/LwIP/src/core/tcp_out.c **** #endif /* LWIP_TCP_TIMESTAMPS */
 788:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****   optlen = LWIP_TCP_OPT_LENGTH(optflags);
 789:Middlewares/Third_Party/LwIP/src/core/tcp_out.c **** 
 790:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****   /* Allocate pbuf with room for TCP header + options */
 791:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****   if ((p = pbuf_alloc(PBUF_TRANSPORT, optlen, PBUF_RAM)) == NULL) {
 792:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****     pcb->flags |= TF_NAGLEMEMERR;
 793:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****     TCP_STATS_INC(tcp.memerr);
 794:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****     return ERR_MEM;
 795:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****   }
 796:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****   LWIP_ASSERT("tcp_enqueue_flags: check that first pbuf can hold optlen",
 797:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****               (p->len >= optlen));
 798:Middlewares/Third_Party/LwIP/src/core/tcp_out.c **** 
 799:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****   /* Allocate memory for tcp_seg, and fill in fields. */
 800:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****   if ((seg = tcp_create_segment(pcb, p, flags, pcb->snd_lbb, optflags)) == NULL) {
 801:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****     pcb->flags |= TF_NAGLEMEMERR;
 802:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****     TCP_STATS_INC(tcp.memerr);
 803:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****     return ERR_MEM;
 804:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****   }
 805:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****   LWIP_ASSERT("seg->tcphdr not aligned", ((mem_ptr_t)seg->tcphdr % LWIP_MIN(MEM_ALIGNMENT, 4)) == 0
 806:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****   LWIP_ASSERT("tcp_enqueue_flags: invalid segment length", seg->len == 0);
 807:Middlewares/Third_Party/LwIP/src/core/tcp_out.c **** 
 808:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****   LWIP_DEBUGF(TCP_OUTPUT_DEBUG | LWIP_DBG_TRACE,
 809:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****               ("tcp_enqueue_flags: queueing %"U32_F":%"U32_F" (0x%"X16_F")\n",
 810:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****                lwip_ntohl(seg->tcphdr->seqno),
 811:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****                lwip_ntohl(seg->tcphdr->seqno) + TCP_TCPLEN(seg),
 812:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****                (u16_t)flags));
 813:Middlewares/Third_Party/LwIP/src/core/tcp_out.c **** 
 814:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****   /* Now append seg to pcb->unsent queue */
 815:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****   if (pcb->unsent == NULL) {
 816:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****     pcb->unsent = seg;
 817:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****   } else {
 818:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****     struct tcp_seg *useg;
 819:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****     for (useg = pcb->unsent; useg->next != NULL; useg = useg->next);
 820:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****     useg->next = seg;
 821:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****   }
 822:Middlewares/Third_Party/LwIP/src/core/tcp_out.c **** #if TCP_OVERSIZE
 823:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****   /* The new unsent tail has no space */
 824:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****   pcb->unsent_oversize = 0;
 825:Middlewares/Third_Party/LwIP/src/core/tcp_out.c **** #endif /* TCP_OVERSIZE */
 826:Middlewares/Third_Party/LwIP/src/core/tcp_out.c **** 
 827:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****   /* SYN and FIN bump the sequence number */
 828:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****   if ((flags & TCP_SYN) || (flags & TCP_FIN)) {
 829:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****     pcb->snd_lbb++;
 830:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****     /* optlen does not influence snd_buf */
 831:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****   }
 832:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****   if (flags & TCP_FIN) {
 833:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****     pcb->flags |= TF_FIN;
 834:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****   }
 835:Middlewares/Third_Party/LwIP/src/core/tcp_out.c **** 
 836:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****   /* update number of segments on the queues */
 837:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****   pcb->snd_queuelen += pbuf_clen(seg->p);
 838:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****   LWIP_DEBUGF(TCP_QLEN_DEBUG, ("tcp_enqueue_flags: %"S16_F" (after enqueued)\n", pcb->snd_queuelen)
 839:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****   if (pcb->snd_queuelen != 0) {
ARM GAS  C:\Users\Student\AppData\Local\Temp\cc218qF3.s 			page 24


 840:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****     LWIP_ASSERT("tcp_enqueue_flags: invalid queue length",
 841:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****       pcb->unacked != NULL || pcb->unsent != NULL);
 842:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****   }
 843:Middlewares/Third_Party/LwIP/src/core/tcp_out.c **** 
 844:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****   return ERR_OK;
 845:Middlewares/Third_Party/LwIP/src/core/tcp_out.c **** }
 846:Middlewares/Third_Party/LwIP/src/core/tcp_out.c **** 
 847:Middlewares/Third_Party/LwIP/src/core/tcp_out.c **** #if LWIP_TCP_TIMESTAMPS
 848:Middlewares/Third_Party/LwIP/src/core/tcp_out.c **** /* Build a timestamp option (12 bytes long) at the specified options pointer)
 849:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****  *
 850:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****  * @param pcb tcp_pcb
 851:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****  * @param opts option pointer where to store the timestamp option
 852:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****  */
 853:Middlewares/Third_Party/LwIP/src/core/tcp_out.c **** static void
 854:Middlewares/Third_Party/LwIP/src/core/tcp_out.c **** tcp_build_timestamp_option(struct tcp_pcb *pcb, u32_t *opts)
 855:Middlewares/Third_Party/LwIP/src/core/tcp_out.c **** {
 856:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****   /* Pad with two NOP options to make everything nicely aligned */
 857:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****   opts[0] = PP_HTONL(0x0101080A);
 858:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****   opts[1] = lwip_htonl(sys_now());
 859:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****   opts[2] = lwip_htonl(pcb->ts_recent);
 860:Middlewares/Third_Party/LwIP/src/core/tcp_out.c **** }
 861:Middlewares/Third_Party/LwIP/src/core/tcp_out.c **** #endif
 862:Middlewares/Third_Party/LwIP/src/core/tcp_out.c **** 
 863:Middlewares/Third_Party/LwIP/src/core/tcp_out.c **** #if LWIP_WND_SCALE
 864:Middlewares/Third_Party/LwIP/src/core/tcp_out.c **** /** Build a window scale option (3 bytes long) at the specified options pointer)
 865:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****  *
 866:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****  * @param opts option pointer where to store the window scale option
 867:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****  */
 868:Middlewares/Third_Party/LwIP/src/core/tcp_out.c **** static void
 869:Middlewares/Third_Party/LwIP/src/core/tcp_out.c **** tcp_build_wnd_scale_option(u32_t *opts)
 870:Middlewares/Third_Party/LwIP/src/core/tcp_out.c **** {
 871:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****   /* Pad with one NOP option to make everything nicely aligned */
 872:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****   opts[0] = PP_HTONL(0x01030300 | TCP_RCV_SCALE);
 873:Middlewares/Third_Party/LwIP/src/core/tcp_out.c **** }
 874:Middlewares/Third_Party/LwIP/src/core/tcp_out.c **** #endif
 875:Middlewares/Third_Party/LwIP/src/core/tcp_out.c **** 
 876:Middlewares/Third_Party/LwIP/src/core/tcp_out.c **** /**
 877:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****  * Send an ACK without data.
 878:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****  *
 879:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****  * @param pcb Protocol control block for the TCP connection to send the ACK
 880:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****  */
 881:Middlewares/Third_Party/LwIP/src/core/tcp_out.c **** err_t
 882:Middlewares/Third_Party/LwIP/src/core/tcp_out.c **** tcp_send_empty_ack(struct tcp_pcb *pcb)
 883:Middlewares/Third_Party/LwIP/src/core/tcp_out.c **** {
 884:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****   err_t err;
 885:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****   struct pbuf *p;
 886:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****   u8_t optlen = 0;
 887:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****   struct netif *netif;
 888:Middlewares/Third_Party/LwIP/src/core/tcp_out.c **** #if LWIP_TCP_TIMESTAMPS || CHECKSUM_GEN_TCP
 889:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****   struct tcp_hdr *tcphdr;
 890:Middlewares/Third_Party/LwIP/src/core/tcp_out.c **** #endif /* LWIP_TCP_TIMESTAMPS || CHECKSUM_GEN_TCP */
 891:Middlewares/Third_Party/LwIP/src/core/tcp_out.c **** 
 892:Middlewares/Third_Party/LwIP/src/core/tcp_out.c **** #if LWIP_TCP_TIMESTAMPS
 893:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****   if (pcb->flags & TF_TIMESTAMP) {
 894:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****     optlen = LWIP_TCP_OPT_LENGTH(TF_SEG_OPTS_TS);
 895:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****   }
 896:Middlewares/Third_Party/LwIP/src/core/tcp_out.c **** #endif
ARM GAS  C:\Users\Student\AppData\Local\Temp\cc218qF3.s 			page 25


 897:Middlewares/Third_Party/LwIP/src/core/tcp_out.c **** 
 898:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****   p = tcp_output_alloc_header(pcb, optlen, 0, lwip_htonl(pcb->snd_nxt));
 899:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****   if (p == NULL) {
 900:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****     /* let tcp_fasttmr retry sending this ACK */
 901:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****     pcb->flags |= (TF_ACK_DELAY | TF_ACK_NOW);
 902:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****     LWIP_DEBUGF(TCP_OUTPUT_DEBUG, ("tcp_output: (ACK) could not allocate pbuf\n"));
 903:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****     return ERR_BUF;
 904:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****   }
 905:Middlewares/Third_Party/LwIP/src/core/tcp_out.c **** #if LWIP_TCP_TIMESTAMPS || CHECKSUM_GEN_TCP
 906:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****   tcphdr = (struct tcp_hdr *)p->payload;
 907:Middlewares/Third_Party/LwIP/src/core/tcp_out.c **** #endif /* LWIP_TCP_TIMESTAMPS || CHECKSUM_GEN_TCP */
 908:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****   LWIP_DEBUGF(TCP_OUTPUT_DEBUG,
 909:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****               ("tcp_output: sending ACK for %"U32_F"\n", pcb->rcv_nxt));
 910:Middlewares/Third_Party/LwIP/src/core/tcp_out.c **** 
 911:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****   /* NB. MSS and window scale options are only sent on SYNs, so ignore them here */
 912:Middlewares/Third_Party/LwIP/src/core/tcp_out.c **** #if LWIP_TCP_TIMESTAMPS
 913:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****   pcb->ts_lastacksent = pcb->rcv_nxt;
 914:Middlewares/Third_Party/LwIP/src/core/tcp_out.c **** 
 915:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****   if (pcb->flags & TF_TIMESTAMP) {
 916:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****     tcp_build_timestamp_option(pcb, (u32_t *)(tcphdr + 1));
 917:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****   }
 918:Middlewares/Third_Party/LwIP/src/core/tcp_out.c **** #endif
 919:Middlewares/Third_Party/LwIP/src/core/tcp_out.c **** 
 920:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****   netif = ip_route(&pcb->local_ip, &pcb->remote_ip);
 921:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****   if (netif == NULL) {
 922:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****     err = ERR_RTE;
 923:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****   } else {
 924:Middlewares/Third_Party/LwIP/src/core/tcp_out.c **** #if CHECKSUM_GEN_TCP
 925:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****     IF__NETIF_CHECKSUM_ENABLED(netif, NETIF_CHECKSUM_GEN_TCP) {
 926:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****       tcphdr->chksum = ip_chksum_pseudo(p, IP_PROTO_TCP, p->tot_len,
 927:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****         &pcb->local_ip, &pcb->remote_ip);
 928:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****     }
 929:Middlewares/Third_Party/LwIP/src/core/tcp_out.c **** #endif
 930:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****     NETIF_SET_HWADDRHINT(netif, &(pcb->addr_hint));
 931:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****     err = ip_output_if(p, &pcb->local_ip, &pcb->remote_ip,
 932:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****       pcb->ttl, pcb->tos, IP_PROTO_TCP, netif);
 933:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****     NETIF_SET_HWADDRHINT(netif, NULL);
 934:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****   }
 935:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****   pbuf_free(p);
 936:Middlewares/Third_Party/LwIP/src/core/tcp_out.c **** 
 937:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****   if (err != ERR_OK) {
 938:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****     /* let tcp_fasttmr retry sending this ACK */
 939:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****     pcb->flags |= (TF_ACK_DELAY | TF_ACK_NOW);
 940:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****   } else {
 941:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****     /* remove ACK flags from the PCB, as we sent an empty ACK now */
 942:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****     pcb->flags &= ~(TF_ACK_DELAY | TF_ACK_NOW);
 943:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****   }
 944:Middlewares/Third_Party/LwIP/src/core/tcp_out.c **** 
 945:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****   return err;
 946:Middlewares/Third_Party/LwIP/src/core/tcp_out.c **** }
 947:Middlewares/Third_Party/LwIP/src/core/tcp_out.c **** 
 948:Middlewares/Third_Party/LwIP/src/core/tcp_out.c **** /**
 949:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****  * @ingroup tcp_raw
 950:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****  * Find out what we can send and send it
 951:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****  *
 952:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****  * @param pcb Protocol control block for the TCP connection to send data
 953:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****  * @return ERR_OK if data has been sent or nothing to send
ARM GAS  C:\Users\Student\AppData\Local\Temp\cc218qF3.s 			page 26


 954:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****  *         another err_t on error
 955:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****  */
 956:Middlewares/Third_Party/LwIP/src/core/tcp_out.c **** err_t
 957:Middlewares/Third_Party/LwIP/src/core/tcp_out.c **** tcp_output(struct tcp_pcb *pcb)
 958:Middlewares/Third_Party/LwIP/src/core/tcp_out.c **** {
 959:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****   struct tcp_seg *seg, *useg;
 960:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****   u32_t wnd, snd_nxt;
 961:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****   err_t err;
 962:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****   struct netif *netif;
 963:Middlewares/Third_Party/LwIP/src/core/tcp_out.c **** #if TCP_CWND_DEBUG
 964:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****   s16_t i = 0;
 965:Middlewares/Third_Party/LwIP/src/core/tcp_out.c **** #endif /* TCP_CWND_DEBUG */
 966:Middlewares/Third_Party/LwIP/src/core/tcp_out.c **** 
 967:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****   /* pcb->state LISTEN not allowed here */
 968:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****   LWIP_ASSERT("don't call tcp_output for listen-pcbs",
 969:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****     pcb->state != LISTEN);
 970:Middlewares/Third_Party/LwIP/src/core/tcp_out.c **** 
 971:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****   /* First, check if we are invoked by the TCP input processing
 972:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****      code. If so, we do not output anything. Instead, we rely on the
 973:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****      input processing code to call us when input processing is done
 974:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****      with. */
 975:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****   if (tcp_input_pcb == pcb) {
 976:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****     return ERR_OK;
 977:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****   }
 978:Middlewares/Third_Party/LwIP/src/core/tcp_out.c **** 
 979:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****   wnd = LWIP_MIN(pcb->snd_wnd, pcb->cwnd);
 980:Middlewares/Third_Party/LwIP/src/core/tcp_out.c **** 
 981:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****   seg = pcb->unsent;
 982:Middlewares/Third_Party/LwIP/src/core/tcp_out.c **** 
 983:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****   /* If the TF_ACK_NOW flag is set and no data will be sent (either
 984:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****    * because the ->unsent queue is empty or because the window does
 985:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****    * not allow it), construct an empty ACK segment and send it.
 986:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****    *
 987:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****    * If data is to be sent, we will just piggyback the ACK (see below).
 988:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****    */
 989:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****   if (pcb->flags & TF_ACK_NOW &&
 990:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****      (seg == NULL ||
 991:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****       lwip_ntohl(seg->tcphdr->seqno) - pcb->lastack + seg->len > wnd)) {
 992:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****      return tcp_send_empty_ack(pcb);
 993:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****   }
 994:Middlewares/Third_Party/LwIP/src/core/tcp_out.c **** 
 995:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****   /* useg should point to last segment on unacked queue */
 996:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****   useg = pcb->unacked;
 997:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****   if (useg != NULL) {
 998:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****     for (; useg->next != NULL; useg = useg->next);
 999:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****   }
1000:Middlewares/Third_Party/LwIP/src/core/tcp_out.c **** 
1001:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****   netif = ip_route(&pcb->local_ip, &pcb->remote_ip);
1002:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****   if (netif == NULL) {
1003:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****     return ERR_RTE;
1004:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****   }
1005:Middlewares/Third_Party/LwIP/src/core/tcp_out.c **** 
1006:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****   /* If we don't have a local IP address, we get one from netif */
1007:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****   if (ip_addr_isany(&pcb->local_ip)) {
1008:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****     const ip_addr_t *local_ip = ip_netif_get_local_ip(netif, &pcb->remote_ip);
1009:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****     if (local_ip == NULL) {
1010:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****       return ERR_RTE;
ARM GAS  C:\Users\Student\AppData\Local\Temp\cc218qF3.s 			page 27


1011:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****     }
1012:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****     ip_addr_copy(pcb->local_ip, *local_ip);
1013:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****   }
1014:Middlewares/Third_Party/LwIP/src/core/tcp_out.c **** 
1015:Middlewares/Third_Party/LwIP/src/core/tcp_out.c **** #if TCP_OUTPUT_DEBUG
1016:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****   if (seg == NULL) {
1017:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****     LWIP_DEBUGF(TCP_OUTPUT_DEBUG, ("tcp_output: nothing to send (%p)\n",
1018:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****                                    (void*)pcb->unsent));
1019:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****   }
1020:Middlewares/Third_Party/LwIP/src/core/tcp_out.c **** #endif /* TCP_OUTPUT_DEBUG */
1021:Middlewares/Third_Party/LwIP/src/core/tcp_out.c **** #if TCP_CWND_DEBUG
1022:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****   if (seg == NULL) {
1023:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****     LWIP_DEBUGF(TCP_CWND_DEBUG, ("tcp_output: snd_wnd %"TCPWNDSIZE_F
1024:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****                                  ", cwnd %"TCPWNDSIZE_F", wnd %"U32_F
1025:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****                                  ", seg == NULL, ack %"U32_F"\n",
1026:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****                                  pcb->snd_wnd, pcb->cwnd, wnd, pcb->lastack));
1027:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****   } else {
1028:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****     LWIP_DEBUGF(TCP_CWND_DEBUG,
1029:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****                 ("tcp_output: snd_wnd %"TCPWNDSIZE_F", cwnd %"TCPWNDSIZE_F", wnd %"U32_F
1030:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****                  ", effwnd %"U32_F", seq %"U32_F", ack %"U32_F"\n",
1031:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****                  pcb->snd_wnd, pcb->cwnd, wnd,
1032:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****                  lwip_ntohl(seg->tcphdr->seqno) - pcb->lastack + seg->len,
1033:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****                  lwip_ntohl(seg->tcphdr->seqno), pcb->lastack));
1034:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****   }
1035:Middlewares/Third_Party/LwIP/src/core/tcp_out.c **** #endif /* TCP_CWND_DEBUG */
1036:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****   /* data available and window allows it to be sent? */
1037:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****   while (seg != NULL &&
1038:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****          lwip_ntohl(seg->tcphdr->seqno) - pcb->lastack + seg->len <= wnd) {
1039:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****     LWIP_ASSERT("RST not expected here!",
1040:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****                 (TCPH_FLAGS(seg->tcphdr) & TCP_RST) == 0);
1041:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****     /* Stop sending if the nagle algorithm would prevent it
1042:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****      * Don't stop:
1043:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****      * - if tcp_write had a memory error before (prevent delayed ACK timeout) or
1044:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****      * - if FIN was already enqueued for this PCB (SYN is always alone in a segment -
1045:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****      *   either seg->next != NULL or pcb->unacked == NULL;
1046:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****      *   RST is no sent using tcp_write/tcp_output.
1047:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****      */
1048:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****     if ((tcp_do_output_nagle(pcb) == 0) &&
1049:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****       ((pcb->flags & (TF_NAGLEMEMERR | TF_FIN)) == 0)) {
1050:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****       break;
1051:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****     }
1052:Middlewares/Third_Party/LwIP/src/core/tcp_out.c **** #if TCP_CWND_DEBUG
1053:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****     LWIP_DEBUGF(TCP_CWND_DEBUG, ("tcp_output: snd_wnd %"TCPWNDSIZE_F", cwnd %"TCPWNDSIZE_F", wnd %"
1054:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****                             pcb->snd_wnd, pcb->cwnd, wnd,
1055:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****                             lwip_ntohl(seg->tcphdr->seqno) + seg->len -
1056:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****                             pcb->lastack,
1057:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****                             lwip_ntohl(seg->tcphdr->seqno), pcb->lastack, i));
1058:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****     ++i;
1059:Middlewares/Third_Party/LwIP/src/core/tcp_out.c **** #endif /* TCP_CWND_DEBUG */
1060:Middlewares/Third_Party/LwIP/src/core/tcp_out.c **** 
1061:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****     if (pcb->state != SYN_SENT) {
1062:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****       TCPH_SET_FLAG(seg->tcphdr, TCP_ACK);
1063:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****     }
1064:Middlewares/Third_Party/LwIP/src/core/tcp_out.c **** 
1065:Middlewares/Third_Party/LwIP/src/core/tcp_out.c **** #if TCP_OVERSIZE_DBGCHECK
1066:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****     seg->oversize_left = 0;
1067:Middlewares/Third_Party/LwIP/src/core/tcp_out.c **** #endif /* TCP_OVERSIZE_DBGCHECK */
ARM GAS  C:\Users\Student\AppData\Local\Temp\cc218qF3.s 			page 28


1068:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****     err = tcp_output_segment(seg, pcb, netif);
1069:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****     if (err != ERR_OK) {
1070:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****       /* segment could not be sent, for whatever reason */
1071:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****       pcb->flags |= TF_NAGLEMEMERR;
1072:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****       return err;
1073:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****     }
1074:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****     pcb->unsent = seg->next;
1075:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****     if (pcb->state != SYN_SENT) {
1076:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****       pcb->flags &= ~(TF_ACK_DELAY | TF_ACK_NOW);
1077:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****     }
1078:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****     snd_nxt = lwip_ntohl(seg->tcphdr->seqno) + TCP_TCPLEN(seg);
1079:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****     if (TCP_SEQ_LT(pcb->snd_nxt, snd_nxt)) {
1080:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****       pcb->snd_nxt = snd_nxt;
1081:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****     }
1082:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****     /* put segment on unacknowledged list if length > 0 */
1083:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****     if (TCP_TCPLEN(seg) > 0) {
1084:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****       seg->next = NULL;
1085:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****       /* unacked list is empty? */
1086:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****       if (pcb->unacked == NULL) {
1087:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****         pcb->unacked = seg;
1088:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****         useg = seg;
1089:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****       /* unacked list is not empty? */
1090:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****       } else {
1091:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****         /* In the case of fast retransmit, the packet should not go to the tail
1092:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****          * of the unacked queue, but rather somewhere before it. We need to check for
1093:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****          * this case. -STJ Jul 27, 2004 */
1094:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****         if (TCP_SEQ_LT(lwip_ntohl(seg->tcphdr->seqno), lwip_ntohl(useg->tcphdr->seqno))) {
1095:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****           /* add segment to before tail of unacked list, keeping the list sorted */
1096:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****           struct tcp_seg **cur_seg = &(pcb->unacked);
1097:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****           while (*cur_seg &&
1098:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****             TCP_SEQ_LT(lwip_ntohl((*cur_seg)->tcphdr->seqno), lwip_ntohl(seg->tcphdr->seqno))) {
1099:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****               cur_seg = &((*cur_seg)->next );
1100:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****           }
1101:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****           seg->next = (*cur_seg);
1102:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****           (*cur_seg) = seg;
1103:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****         } else {
1104:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****           /* add segment to tail of unacked list */
1105:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****           useg->next = seg;
1106:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****           useg = useg->next;
1107:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****         }
1108:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****       }
1109:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****     /* do not queue empty segments on the unacked list */
1110:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****     } else {
1111:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****       tcp_seg_free(seg);
1112:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****     }
1113:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****     seg = pcb->unsent;
1114:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****   }
1115:Middlewares/Third_Party/LwIP/src/core/tcp_out.c **** #if TCP_OVERSIZE
1116:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****   if (pcb->unsent == NULL) {
1117:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****     /* last unsent has been removed, reset unsent_oversize */
1118:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****     pcb->unsent_oversize = 0;
1119:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****   }
1120:Middlewares/Third_Party/LwIP/src/core/tcp_out.c **** #endif /* TCP_OVERSIZE */
1121:Middlewares/Third_Party/LwIP/src/core/tcp_out.c **** 
1122:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****   pcb->flags &= ~TF_NAGLEMEMERR;
1123:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****   return ERR_OK;
1124:Middlewares/Third_Party/LwIP/src/core/tcp_out.c **** }
ARM GAS  C:\Users\Student\AppData\Local\Temp\cc218qF3.s 			page 29


1125:Middlewares/Third_Party/LwIP/src/core/tcp_out.c **** 
1126:Middlewares/Third_Party/LwIP/src/core/tcp_out.c **** /**
1127:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****  * Called by tcp_output() to actually send a TCP segment over IP.
1128:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****  *
1129:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****  * @param seg the tcp_seg to send
1130:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****  * @param pcb the tcp_pcb for the TCP connection used to send the segment
1131:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****  * @param netif the netif used to send the segment
1132:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****  */
1133:Middlewares/Third_Party/LwIP/src/core/tcp_out.c **** static err_t
1134:Middlewares/Third_Party/LwIP/src/core/tcp_out.c **** tcp_output_segment(struct tcp_seg *seg, struct tcp_pcb *pcb, struct netif *netif)
1135:Middlewares/Third_Party/LwIP/src/core/tcp_out.c **** {
 424              		.loc 1 1135 0
 425              		.cfi_startproc
 426              		@ args = 0, pretend = 0, frame = 0
 427              		@ frame_needed = 0, uses_anonymous_args = 0
 428              	.LVL49:
1136:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****   err_t err;
1137:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****   u16_t len;
1138:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****   u32_t *opts;
1139:Middlewares/Third_Party/LwIP/src/core/tcp_out.c **** 
1140:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****   if (seg->p->ref != 1) {
 429              		.loc 1 1140 0
 430 0000 4368     		ldr	r3, [r0, #4]
 431 0002 DB89     		ldrh	r3, [r3, #14]
 432 0004 012B     		cmp	r3, #1
 433 0006 01D0     		beq	.L41
1141:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****     /* This can happen if the pbuf of this segment is still referenced by the
1142:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****        netif driver due to deferred transmission. Since this function modifies
1143:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****        p->len, we must not continue in this case. */
1144:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****     return ERR_OK;
 434              		.loc 1 1144 0
 435 0008 0020     		movs	r0, #0
 436              	.LVL50:
 437 000a 7047     		bx	lr
 438              	.LVL51:
 439              	.L41:
1135:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****   err_t err;
 440              		.loc 1 1135 0
 441 000c F0B5     		push	{r4, r5, r6, r7, lr}
 442              	.LCFI3:
 443              		.cfi_def_cfa_offset 20
 444              		.cfi_offset 4, -20
 445              		.cfi_offset 5, -16
 446              		.cfi_offset 6, -12
 447              		.cfi_offset 7, -8
 448              		.cfi_offset 14, -4
 449 000e 85B0     		sub	sp, sp, #20
 450              	.LCFI4:
 451              		.cfi_def_cfa_offset 40
 452 0010 1646     		mov	r6, r2
 453 0012 0D46     		mov	r5, r1
 454 0014 0446     		mov	r4, r0
1145:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****   }
1146:Middlewares/Third_Party/LwIP/src/core/tcp_out.c **** 
1147:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****   /* The TCP header has already been constructed, but the ackno and
1148:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****    wnd fields remain. */
1149:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****   seg->tcphdr->ackno = lwip_htonl(pcb->rcv_nxt);
ARM GAS  C:\Users\Student\AppData\Local\Temp\cc218qF3.s 			page 30


 455              		.loc 1 1149 0
 456 0016 C768     		ldr	r7, [r0, #12]
 457 0018 486A     		ldr	r0, [r1, #36]
 458              	.LVL52:
 459 001a FFF7FEFF 		bl	lwip_htonl
 460              	.LVL53:
 461 001e B860     		str	r0, [r7, #8]	@ unaligned
1150:Middlewares/Third_Party/LwIP/src/core/tcp_out.c **** 
1151:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****   /* advertise our receive window size in this TCP segment */
1152:Middlewares/Third_Party/LwIP/src/core/tcp_out.c **** #if LWIP_WND_SCALE
1153:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****   if (seg->flags & TF_SEG_OPTS_WND_SCALE) {
1154:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****     /* The Window field in a SYN segment itself (the only type where we send
1155:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****        the window scale option) is never scaled. */
1156:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****     seg->tcphdr->wnd = lwip_htons(TCPWND_MIN16(pcb->rcv_ann_wnd));
1157:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****   } else
1158:Middlewares/Third_Party/LwIP/src/core/tcp_out.c **** #endif /* LWIP_WND_SCALE */
1159:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****   {
1160:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****     seg->tcphdr->wnd = lwip_htons(TCPWND_MIN16(RCV_WND_SCALE(pcb, pcb->rcv_ann_wnd)));
 462              		.loc 1 1160 0
 463 0020 E768     		ldr	r7, [r4, #12]
 464 0022 688D     		ldrh	r0, [r5, #42]
 465 0024 FFF7FEFF 		bl	lwip_htons
 466              	.LVL54:
 467 0028 F881     		strh	r0, [r7, #14]	@ unaligned
1161:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****   }
1162:Middlewares/Third_Party/LwIP/src/core/tcp_out.c **** 
1163:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****   pcb->rcv_ann_right_edge = pcb->rcv_nxt + pcb->rcv_ann_wnd;
 468              		.loc 1 1163 0
 469 002a 6B6A     		ldr	r3, [r5, #36]
 470 002c 6A8D     		ldrh	r2, [r5, #42]
 471 002e 1344     		add	r3, r3, r2
 472 0030 EB62     		str	r3, [r5, #44]
1164:Middlewares/Third_Party/LwIP/src/core/tcp_out.c **** 
1165:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****   /* Add any requested options.  NB MSS option is only set on SYN
1166:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****      packets, so ignore it here */
1167:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****   /* cast through void* to get rid of alignment warnings */
1168:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****   opts = (u32_t *)(void *)(seg->tcphdr + 1);
 473              		.loc 1 1168 0
 474 0032 E768     		ldr	r7, [r4, #12]
 475              	.LVL55:
1169:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****   if (seg->flags & TF_SEG_OPTS_MSS) {
 476              		.loc 1 1169 0
 477 0034 A37A     		ldrb	r3, [r4, #10]	@ zero_extendqisi2
 478 0036 13F0010F 		tst	r3, #1
 479 003a 26D1     		bne	.L42
 480              	.LVL56:
 481              	.L33:
1170:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****     u16_t mss;
1171:Middlewares/Third_Party/LwIP/src/core/tcp_out.c **** #if TCP_CALCULATE_EFF_SEND_MSS
1172:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****     mss = tcp_eff_send_mss(TCP_MSS, &pcb->local_ip, &pcb->remote_ip);
1173:Middlewares/Third_Party/LwIP/src/core/tcp_out.c **** #else /* TCP_CALCULATE_EFF_SEND_MSS */
1174:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****     mss = TCP_MSS;
1175:Middlewares/Third_Party/LwIP/src/core/tcp_out.c **** #endif /* TCP_CALCULATE_EFF_SEND_MSS */
1176:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****     *opts = TCP_BUILD_MSS_OPTION(mss);
1177:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****     opts += 1;
1178:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****   }
1179:Middlewares/Third_Party/LwIP/src/core/tcp_out.c **** #if LWIP_TCP_TIMESTAMPS
ARM GAS  C:\Users\Student\AppData\Local\Temp\cc218qF3.s 			page 31


1180:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****   pcb->ts_lastacksent = pcb->rcv_nxt;
1181:Middlewares/Third_Party/LwIP/src/core/tcp_out.c **** 
1182:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****   if (seg->flags & TF_SEG_OPTS_TS) {
1183:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****     tcp_build_timestamp_option(pcb, opts);
1184:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****     opts += 3;
1185:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****   }
1186:Middlewares/Third_Party/LwIP/src/core/tcp_out.c **** #endif
1187:Middlewares/Third_Party/LwIP/src/core/tcp_out.c **** #if LWIP_WND_SCALE
1188:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****   if (seg->flags & TF_SEG_OPTS_WND_SCALE) {
1189:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****     tcp_build_wnd_scale_option(opts);
1190:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****     opts += 1;
1191:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****   }
1192:Middlewares/Third_Party/LwIP/src/core/tcp_out.c **** #endif
1193:Middlewares/Third_Party/LwIP/src/core/tcp_out.c **** 
1194:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****   /* Set retransmission timer running if it is not currently enabled
1195:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****      This must be set before checking the route. */
1196:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****   if (pcb->rtime < 0) {
 482              		.loc 1 1196 0
 483 003c B5F93030 		ldrsh	r3, [r5, #48]
 484 0040 002B     		cmp	r3, #0
 485 0042 2DDB     		blt	.L43
 486              	.L34:
1197:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****     pcb->rtime = 0;
1198:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****   }
1199:Middlewares/Third_Party/LwIP/src/core/tcp_out.c **** 
1200:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****   if (pcb->rttest == 0) {
 487              		.loc 1 1200 0
 488 0044 6B6B     		ldr	r3, [r5, #52]
 489 0046 002B     		cmp	r3, #0
 490 0048 2DD0     		beq	.L44
 491              	.L35:
1201:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****     pcb->rttest = tcp_ticks;
1202:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****     pcb->rtseq = lwip_ntohl(seg->tcphdr->seqno);
1203:Middlewares/Third_Party/LwIP/src/core/tcp_out.c **** 
1204:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****     LWIP_DEBUGF(TCP_RTO_DEBUG, ("tcp_output_segment: rtseq %"U32_F"\n", pcb->rtseq));
1205:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****   }
1206:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****   LWIP_DEBUGF(TCP_OUTPUT_DEBUG, ("tcp_output_segment: %"U32_F":%"U32_F"\n",
1207:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****           lwip_htonl(seg->tcphdr->seqno), lwip_htonl(seg->tcphdr->seqno) +
1208:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****           seg->len));
1209:Middlewares/Third_Party/LwIP/src/core/tcp_out.c **** 
1210:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****   len = (u16_t)((u8_t *)seg->tcphdr - (u8_t *)seg->p->payload);
 492              		.loc 1 1210 0
 493 004a E368     		ldr	r3, [r4, #12]
 494 004c 6268     		ldr	r2, [r4, #4]
 495 004e 5168     		ldr	r1, [r2, #4]
 496 0050 5B1A     		subs	r3, r3, r1
 497 0052 9BB2     		uxth	r3, r3
 498              	.LVL57:
1211:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****   if (len == 0) {
1212:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****     /** Exclude retransmitted segments from this count. */
1213:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****     MIB2_STATS_INC(mib2.tcpoutsegs);
1214:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****   }
1215:Middlewares/Third_Party/LwIP/src/core/tcp_out.c **** 
1216:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****   seg->p->len -= len;
 499              		.loc 1 1216 0
 500 0054 5189     		ldrh	r1, [r2, #10]
 501 0056 C91A     		subs	r1, r1, r3
ARM GAS  C:\Users\Student\AppData\Local\Temp\cc218qF3.s 			page 32


 502 0058 5181     		strh	r1, [r2, #10]	@ movhi
1217:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****   seg->p->tot_len -= len;
 503              		.loc 1 1217 0
 504 005a 6168     		ldr	r1, [r4, #4]
 505 005c 0A89     		ldrh	r2, [r1, #8]
 506 005e D31A     		subs	r3, r2, r3
 507              	.LVL58:
 508 0060 0B81     		strh	r3, [r1, #8]	@ movhi
1218:Middlewares/Third_Party/LwIP/src/core/tcp_out.c **** 
1219:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****   seg->p->payload = seg->tcphdr;
 509              		.loc 1 1219 0
 510 0062 6368     		ldr	r3, [r4, #4]
 511 0064 E268     		ldr	r2, [r4, #12]
 512 0066 5A60     		str	r2, [r3, #4]
1220:Middlewares/Third_Party/LwIP/src/core/tcp_out.c **** 
1221:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****   seg->tcphdr->chksum = 0;
 513              		.loc 1 1221 0
 514 0068 E368     		ldr	r3, [r4, #12]
 515 006a 0022     		movs	r2, #0
 516 006c 1A74     		strb	r2, [r3, #16]
 517 006e 5A74     		strb	r2, [r3, #17]
1222:Middlewares/Third_Party/LwIP/src/core/tcp_out.c **** #if CHECKSUM_GEN_TCP
1223:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****   IF__NETIF_CHECKSUM_ENABLED(netif, NETIF_CHECKSUM_GEN_TCP) {
1224:Middlewares/Third_Party/LwIP/src/core/tcp_out.c **** #if TCP_CHECKSUM_ON_COPY
1225:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****     u32_t acc;
1226:Middlewares/Third_Party/LwIP/src/core/tcp_out.c **** #if TCP_CHECKSUM_ON_COPY_SANITY_CHECK
1227:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****     u16_t chksum_slow = ip_chksum_pseudo(seg->p, IP_PROTO_TCP,
1228:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****       seg->p->tot_len, &pcb->local_ip, &pcb->remote_ip);
1229:Middlewares/Third_Party/LwIP/src/core/tcp_out.c **** #endif /* TCP_CHECKSUM_ON_COPY_SANITY_CHECK */
1230:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****     if ((seg->flags & TF_SEG_DATA_CHECKSUMMED) == 0) {
1231:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****       LWIP_ASSERT("data included but not checksummed",
1232:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****         seg->p->tot_len == (TCPH_HDRLEN(seg->tcphdr) * 4));
1233:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****     }
1234:Middlewares/Third_Party/LwIP/src/core/tcp_out.c **** 
1235:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****     /* rebuild TCP header checksum (TCP header changes for retransmissions!) */
1236:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****     acc = ip_chksum_pseudo_partial(seg->p, IP_PROTO_TCP,
1237:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****       seg->p->tot_len, TCPH_HDRLEN(seg->tcphdr) * 4, &pcb->local_ip, &pcb->remote_ip);
1238:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****     /* add payload checksum */
1239:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****     if (seg->chksum_swapped) {
1240:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****       seg->chksum = SWAP_BYTES_IN_WORD(seg->chksum);
1241:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****       seg->chksum_swapped = 0;
1242:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****     }
1243:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****     acc += (u16_t)~(seg->chksum);
1244:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****     seg->tcphdr->chksum = FOLD_U32T(acc);
1245:Middlewares/Third_Party/LwIP/src/core/tcp_out.c **** #if TCP_CHECKSUM_ON_COPY_SANITY_CHECK
1246:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****     if (chksum_slow != seg->tcphdr->chksum) {
1247:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****       TCP_CHECKSUM_ON_COPY_SANITY_CHECK_FAIL(
1248:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****                   ("tcp_output_segment: calculated checksum is %"X16_F" instead of %"X16_F"\n",
1249:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****                   seg->tcphdr->chksum, chksum_slow));
1250:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****       seg->tcphdr->chksum = chksum_slow;
1251:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****     }
1252:Middlewares/Third_Party/LwIP/src/core/tcp_out.c **** #endif /* TCP_CHECKSUM_ON_COPY_SANITY_CHECK */
1253:Middlewares/Third_Party/LwIP/src/core/tcp_out.c **** #else /* TCP_CHECKSUM_ON_COPY */
1254:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****     seg->tcphdr->chksum = ip_chksum_pseudo(seg->p, IP_PROTO_TCP,
1255:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****       seg->p->tot_len, &pcb->local_ip, &pcb->remote_ip);
1256:Middlewares/Third_Party/LwIP/src/core/tcp_out.c **** #endif /* TCP_CHECKSUM_ON_COPY */
1257:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****   }
ARM GAS  C:\Users\Student\AppData\Local\Temp\cc218qF3.s 			page 33


1258:Middlewares/Third_Party/LwIP/src/core/tcp_out.c **** #endif /* CHECKSUM_GEN_TCP */
1259:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****   TCP_STATS_INC(tcp.xmit);
1260:Middlewares/Third_Party/LwIP/src/core/tcp_out.c **** 
1261:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****   NETIF_SET_HWADDRHINT(netif, &(pcb->addr_hint));
1262:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****   err = ip_output_if(seg->p, &pcb->local_ip, &pcb->remote_ip, pcb->ttl,
 518              		.loc 1 1262 0
 519 0070 6068     		ldr	r0, [r4, #4]
 520 0072 AB7A     		ldrb	r3, [r5, #10]	@ zero_extendqisi2
 521 0074 6A7A     		ldrb	r2, [r5, #9]	@ zero_extendqisi2
 522 0076 0296     		str	r6, [sp, #8]
 523 0078 0621     		movs	r1, #6
 524 007a 0191     		str	r1, [sp, #4]
 525 007c 0092     		str	r2, [sp]
 526 007e 2A1D     		adds	r2, r5, #4
 527 0080 2946     		mov	r1, r5
 528 0082 FFF7FEFF 		bl	ip4_output_if
 529              	.LVL59:
1263:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****     pcb->tos, IP_PROTO_TCP, netif);
1264:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****   NETIF_SET_HWADDRHINT(netif, NULL);
1265:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****   return err;
1266:Middlewares/Third_Party/LwIP/src/core/tcp_out.c **** }
 530              		.loc 1 1266 0
 531 0086 05B0     		add	sp, sp, #20
 532              	.LCFI5:
 533              		.cfi_remember_state
 534              		.cfi_def_cfa_offset 20
 535              		@ sp needed
 536 0088 F0BD     		pop	{r4, r5, r6, r7, pc}
 537              	.LVL60:
 538              	.L42:
 539              	.LCFI6:
 540              		.cfi_restore_state
 541              	.LBB2:
1172:Middlewares/Third_Party/LwIP/src/core/tcp_out.c **** #else /* TCP_CALCULATE_EFF_SEND_MSS */
 542              		.loc 1 1172 0
 543 008a 291D     		adds	r1, r5, #4
 544 008c 4FF40670 		mov	r0, #536
 545 0090 FFF7FEFF 		bl	tcp_eff_send_mss_impl
 546              	.LVL61:
1176:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****     opts += 1;
 547              		.loc 1 1176 0
 548 0094 40F00170 		orr	r0, r0, #33816576
 549              	.LVL62:
 550 0098 FFF7FEFF 		bl	lwip_htonl
 551              	.LVL63:
 552 009c 7861     		str	r0, [r7, #20]
 553              	.LVL64:
 554 009e CDE7     		b	.L33
 555              	.LVL65:
 556              	.L43:
 557              	.LBE2:
1197:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****   }
 558              		.loc 1 1197 0
 559 00a0 0023     		movs	r3, #0
 560 00a2 2B86     		strh	r3, [r5, #48]	@ movhi
 561 00a4 CEE7     		b	.L34
 562              	.L44:
ARM GAS  C:\Users\Student\AppData\Local\Temp\cc218qF3.s 			page 34


1201:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****     pcb->rtseq = lwip_ntohl(seg->tcphdr->seqno);
 563              		.loc 1 1201 0
 564 00a6 044B     		ldr	r3, .L45
 565 00a8 1B68     		ldr	r3, [r3]
 566 00aa 6B63     		str	r3, [r5, #52]
1202:Middlewares/Third_Party/LwIP/src/core/tcp_out.c **** 
 567              		.loc 1 1202 0
 568 00ac E368     		ldr	r3, [r4, #12]
 569 00ae 5868     		ldr	r0, [r3, #4]	@ unaligned
 570 00b0 FFF7FEFF 		bl	lwip_htonl
 571              	.LVL66:
 572 00b4 A863     		str	r0, [r5, #56]
 573 00b6 C8E7     		b	.L35
 574              	.L46:
 575              		.align	2
 576              	.L45:
 577 00b8 00000000 		.word	tcp_ticks
 578              		.cfi_endproc
 579              	.LFE145:
 581              		.section	.text.tcp_write,"ax",%progbits
 582              		.align	1
 583              		.global	tcp_write
 584              		.syntax unified
 585              		.thumb
 586              		.thumb_func
 587              		.fpu fpv5-sp-d16
 589              	tcp_write:
 590              	.LFB141:
 369:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****   struct pbuf *concat_p = NULL;
 591              		.loc 1 369 0
 592              		.cfi_startproc
 593              		@ args = 0, pretend = 0, frame = 40
 594              		@ frame_needed = 0, uses_anonymous_args = 0
 595              	.LVL67:
 596 0000 2DE9F04F 		push	{r4, r5, r6, r7, r8, r9, r10, fp, lr}
 597              	.LCFI7:
 598              		.cfi_def_cfa_offset 36
 599              		.cfi_offset 4, -36
 600              		.cfi_offset 5, -32
 601              		.cfi_offset 6, -28
 602              		.cfi_offset 7, -24
 603              		.cfi_offset 8, -20
 604              		.cfi_offset 9, -16
 605              		.cfi_offset 10, -12
 606              		.cfi_offset 11, -8
 607              		.cfi_offset 14, -4
 608 0004 8FB0     		sub	sp, sp, #60
 609              	.LCFI8:
 610              		.cfi_def_cfa_offset 96
 611              	.LVL68:
 377:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****   u16_t oversize_used = 0;
 612              		.loc 1 377 0
 613 0006 0024     		movs	r4, #0
 614 0008 ADF83640 		strh	r4, [sp, #54]	@ movhi
 615              	.LVL69:
 387:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****   mss_local = mss_local ? mss_local : pcb->mss;
 616              		.loc 1 387 0
ARM GAS  C:\Users\Student\AppData\Local\Temp\cc218qF3.s 			page 35


 617 000c B0F85E40 		ldrh	r4, [r0, #94]
 618 0010 458E     		ldrh	r5, [r0, #50]
 619 0012 0495     		str	r5, [sp, #16]
 620 0014 6408     		lsrs	r4, r4, #1
 621 0016 AC42     		cmp	r4, r5
 622 0018 28BF     		it	cs
 623 001a 2C46     		movcs	r4, r5
 624              	.LVL70:
 388:Middlewares/Third_Party/LwIP/src/core/tcp_out.c **** 
 625              		.loc 1 388 0
 626 001c 04B1     		cbz	r4, .L48
 627 001e 0494     		str	r4, [sp, #16]
 628              	.L48:
 629              	.LVL71:
 397:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****              arg != NULL, return ERR_ARG;);
 630              		.loc 1 397 0 discriminator 4
 631 0020 0029     		cmp	r1, #0
 632 0022 00F07A81 		beq	.L75
 633 0026 9B46     		mov	fp, r3
 634 0028 9246     		mov	r10, r2
 635 002a 0691     		str	r1, [sp, #24]
 636 002c 8146     		mov	r9, r0
 400:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****   if (err != ERR_OK) {
 637              		.loc 1 400 0
 638 002e 1146     		mov	r1, r2
 639              	.LVL72:
 640 0030 FFF7FEFF 		bl	tcp_write_checks
 641              	.LVL73:
 401:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****     return err;
 642              		.loc 1 401 0
 643 0034 0A90     		str	r0, [sp, #40]
 644 0036 0028     		cmp	r0, #0
 645 0038 40F00681 		bne	.L49
 404:Middlewares/Third_Party/LwIP/src/core/tcp_out.c **** 
 646              		.loc 1 404 0
 647 003c B9F86260 		ldrh	r6, [r9, #98]
 648              	.LVL74:
 441:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****     u16_t space;
 649              		.loc 1 441 0
 650 0040 D9F86830 		ldr	r3, [r9, #104]
 651 0044 0893     		str	r3, [sp, #32]
 652 0046 002B     		cmp	r3, #0
 653 0048 6DD0     		beq	.L88
 654 004a 089B     		ldr	r3, [sp, #32]
 655 004c 00E0     		b	.L51
 656              	.LVL75:
 657              	.L77:
 658              	.LBB3:
 447:Middlewares/Third_Party/LwIP/src/core/tcp_out.c **** 
 659              		.loc 1 447 0
 660 004e 3B46     		mov	r3, r7
 661              	.LVL76:
 662              	.L51:
 446:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****          last_unsent = last_unsent->next);
 663              		.loc 1 446 0 discriminator 1
 664 0050 1F68     		ldr	r7, [r3]
 665 0052 002F     		cmp	r7, #0
ARM GAS  C:\Users\Student\AppData\Local\Temp\cc218qF3.s 			page 36


 666 0054 FBD1     		bne	.L77
 667 0056 0893     		str	r3, [sp, #32]
 450:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****     LWIP_ASSERT("mss_local is too small", mss_local >= last_unsent->len + unsent_optlen);
 668              		.loc 1 450 0
 669 0058 9B7A     		ldrb	r3, [r3, #10]	@ zero_extendqisi2
 670              	.LVL77:
 671 005a 13F0010F 		tst	r3, #1
 672 005e 46D0     		beq	.L78
 673 0060 0422     		movs	r2, #4
 674              	.L52:
 675              	.LVL78:
 451:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****     space = mss_local - (last_unsent->len + unsent_optlen);
 676              		.loc 1 451 0 discriminator 4
 677 0062 089B     		ldr	r3, [sp, #32]
 678 0064 1B89     		ldrh	r3, [r3, #8]
 452:Middlewares/Third_Party/LwIP/src/core/tcp_out.c **** 
 679              		.loc 1 452 0 discriminator 4
 680 0066 1A44     		add	r2, r2, r3
 681              	.LVL79:
 682 0068 92B2     		uxth	r2, r2
 683 006a 0499     		ldr	r1, [sp, #16]
 684 006c 8A1A     		subs	r2, r1, r2
 685 006e 92B2     		uxth	r2, r2
 686              	.LVL80:
 467:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****     if (oversize > 0) {
 687              		.loc 1 467 0 discriminator 4
 688 0070 B9F86410 		ldrh	r1, [r9, #100]
 689 0074 0991     		str	r1, [sp, #36]
 690 0076 ADF83610 		strh	r1, [sp, #54]	@ movhi
 468:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****       LWIP_ASSERT("inconsistent oversize vs. space", oversize_used <= space);
 691              		.loc 1 468 0 discriminator 4
 692 007a 0029     		cmp	r1, #0
 693 007c 39D0     		beq	.L79
 694              	.LVL81:
 471:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****       pos += oversize_used;
 695              		.loc 1 471 0
 696 007e 8A45     		cmp	r10, r1
 697 0080 00D8     		bhi	.L55
 471:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****       pos += oversize_used;
 698              		.loc 1 471 0 is_stmt 0 discriminator 2
 699 0082 5146     		mov	r1, r10
 700              	.L55:
 471:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****       pos += oversize_used;
 701              		.loc 1 471 0 discriminator 4
 702 0084 9142     		cmp	r1, r2
 703 0086 A8BF     		it	ge
 704 0088 1146     		movge	r1, r2
 705              	.LVL82:
 473:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****       space -= oversize_used;
 706              		.loc 1 473 0 is_stmt 1 discriminator 4
 707 008a 0998     		ldr	r0, [sp, #36]
 708              	.LVL83:
 709 008c 401A     		subs	r0, r0, r1
 710 008e ADF83600 		strh	r0, [sp, #54]	@ movhi
 474:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****     }
 711              		.loc 1 474 0 discriminator 4
 712 0092 521A     		subs	r2, r2, r1
ARM GAS  C:\Users\Student\AppData\Local\Temp\cc218qF3.s 			page 37


 713              	.LVL84:
 714 0094 92B2     		uxth	r2, r2
 715              	.LVL85:
 472:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****       oversize -= oversize_used;
 716              		.loc 1 472 0 discriminator 4
 717 0096 0991     		str	r1, [sp, #36]
 470:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****       oversize_used = LWIP_MIN(space, LWIP_MIN(oversize, len));
 718              		.loc 1 470 0 discriminator 4
 719 0098 DDF82080 		ldr	r8, [sp, #32]
 720              	.LVL86:
 721              	.L53:
 487:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****       u16_t seglen = space < len - pos ? space : len - pos;
 722              		.loc 1 487 0
 723 009c 0998     		ldr	r0, [sp, #36]
 724 009e 002A     		cmp	r2, #0
 725 00a0 18BF     		it	ne
 726 00a2 5045     		cmpne	r0, r10
 727 00a4 46D2     		bcs	.L80
 487:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****       u16_t seglen = space < len - pos ? space : len - pos;
 728              		.loc 1 487 0 is_stmt 0 discriminator 1
 729 00a6 002B     		cmp	r3, #0
 730 00a8 51D0     		beq	.L81
 731              	.LBB4:
 488:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****       seg = last_unsent;
 732              		.loc 1 488 0 is_stmt 1
 733 00aa AAEB0005 		sub	r5, r10, r0
 734 00ae 9542     		cmp	r5, r2
 735 00b0 A8BF     		it	ge
 736 00b2 1546     		movge	r5, r2
 737 00b4 ACB2     		uxth	r4, r5
 738              	.LVL87:
 494:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****         /* Data is copied */
 739              		.loc 1 494 0
 740 00b6 1BF0010F 		tst	fp, #1
 741 00ba 1CD0     		beq	.L56
 496:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****           LWIP_DEBUGF(TCP_OUTPUT_DEBUG | LWIP_DBG_LEVEL_SERIOUS,
 742              		.loc 1 496 0
 743 00bc 0123     		movs	r3, #1
 744 00be 0293     		str	r3, [sp, #8]
 745 00c0 CDF804B0 		str	fp, [sp, #4]
 746 00c4 CDF80090 		str	r9, [sp]
 747 00c8 0DF13603 		add	r3, sp, #54
 748 00cc 2146     		mov	r1, r4
 749 00ce 0420     		movs	r0, #4
 750 00d0 FFF7FEFF 		bl	tcp_pbuf_prealloc
 751              	.LVL88:
 752 00d4 8646     		mov	lr, r0
 753 00d6 0B90     		str	r0, [sp, #44]
 754 00d8 0028     		cmp	r0, #0
 755 00da 00F0A380 		beq	.L57
 505:Middlewares/Third_Party/LwIP/src/core/tcp_out.c **** #if TCP_CHECKSUM_ON_COPY
 756              		.loc 1 505 0
 757 00de 2246     		mov	r2, r4
 758 00e0 0699     		ldr	r1, [sp, #24]
 759 00e2 099B     		ldr	r3, [sp, #36]
 760 00e4 1944     		add	r1, r1, r3
 761 00e6 4068     		ldr	r0, [r0, #4]
ARM GAS  C:\Users\Student\AppData\Local\Temp\cc218qF3.s 			page 38


 762              	.LVL89:
 763 00e8 FFF7FEFF 		bl	memcpy
 764              	.LVL90:
 765 00ec 10E0     		b	.L58
 766              	.LVL91:
 767              	.L78:
 768              	.LBE4:
 450:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****     LWIP_ASSERT("mss_local is too small", mss_local >= last_unsent->len + unsent_optlen);
 769              		.loc 1 450 0
 770 00ee 0022     		movs	r2, #0
 771 00f0 B7E7     		b	.L52
 772              	.LVL92:
 773              	.L79:
 774              	.LBE3:
 371:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****   u16_t pos = 0; /* position in 'arg' data */
 775              		.loc 1 371 0
 776 00f2 B846     		mov	r8, r7
 777 00f4 D2E7     		b	.L53
 778              	.LVL93:
 779              	.L56:
 780              	.LBB6:
 781              	.LBB5:
 511:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****           LWIP_DEBUGF(TCP_OUTPUT_DEBUG | LWIP_DBG_LEVEL_SERIOUS,
 782              		.loc 1 511 0
 783 00f6 0122     		movs	r2, #1
 784              	.LVL94:
 785 00f8 2146     		mov	r1, r4
 786 00fa 0420     		movs	r0, #4
 787 00fc FFF7FEFF 		bl	pbuf_alloc
 788              	.LVL95:
 789 0100 0B90     		str	r0, [sp, #44]
 790 0102 0028     		cmp	r0, #0
 791 0104 00F08E80 		beq	.L57
 523:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****       }
 792              		.loc 1 523 0
 793 0108 069B     		ldr	r3, [sp, #24]
 794 010a 099A     		ldr	r2, [sp, #36]
 795 010c 1344     		add	r3, r3, r2
 796 010e 4360     		str	r3, [r0, #4]
 797              	.LVL96:
 798              	.L58:
 526:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****       queuelen += pbuf_clen(concat_p);
 799              		.loc 1 526 0
 800 0110 099B     		ldr	r3, [sp, #36]
 801 0112 1C44     		add	r4, r4, r3
 802              	.LVL97:
 803 0114 A4B2     		uxth	r4, r4
 804              	.LVL98:
 527:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****     }
 805              		.loc 1 527 0
 806 0116 0B98     		ldr	r0, [sp, #44]
 807 0118 FFF7FEFF 		bl	pbuf_clen
 808              	.LVL99:
 809 011c 0644     		add	r6, r6, r0
 810              	.LVL100:
 811 011e B6B2     		uxth	r6, r6
 812              	.LVL101:
ARM GAS  C:\Users\Student\AppData\Local\Temp\cc218qF3.s 			page 39


 489:Middlewares/Third_Party/LwIP/src/core/tcp_out.c **** 
 813              		.loc 1 489 0
 814 0120 DDF82080 		ldr	r8, [sp, #32]
 815 0124 09E0     		b	.L50
 816              	.LVL102:
 817              	.L88:
 818              	.LBE5:
 819              	.LBE6:
 371:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****   u16_t pos = 0; /* position in 'arg' data */
 820              		.loc 1 371 0
 821 0126 DDF82080 		ldr	r8, [sp, #32]
 378:Middlewares/Third_Party/LwIP/src/core/tcp_out.c **** #endif /* TCP_OVERSIZE */
 822              		.loc 1 378 0
 823 012a 0023     		movs	r3, #0
 824 012c 0993     		str	r3, [sp, #36]
 372:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****   u16_t queuelen;
 825              		.loc 1 372 0
 826 012e 1C46     		mov	r4, r3
 370:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****   struct tcp_seg *last_unsent = NULL, *seg = NULL, *prev_seg = NULL, *queue = NULL;
 827              		.loc 1 370 0
 828 0130 0B93     		str	r3, [sp, #44]
 829 0132 02E0     		b	.L50
 830              	.LVL103:
 831              	.L80:
 832              	.LBB7:
 833 0134 099C     		ldr	r4, [sp, #36]
 834              	.LBE7:
 835 0136 0023     		movs	r3, #0
 836 0138 0B93     		str	r3, [sp, #44]
 837              	.LVL104:
 838              	.L50:
 839              	.LBB8:
 625:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****     } else {
 840              		.loc 1 625 0
 841 013a 0027     		movs	r7, #0
 842 013c 0597     		str	r7, [sp, #20]
 843 013e 4346     		mov	r3, r8
 844 0140 4A46     		mov	r2, r9
 845 0142 B946     		mov	r9, r7
 846              	.LVL105:
 847 0144 D846     		mov	r8, fp
 848 0146 DDF810B0 		ldr	fp, [sp, #16]
 849 014a 1746     		mov	r7, r2
 850 014c 36E0     		b	.L59
 851              	.LVL106:
 852              	.L81:
 853              	.LBE8:
 854              	.LBB11:
 855 014e 099C     		ldr	r4, [sp, #36]
 856              	.LBE11:
 370:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****   struct tcp_seg *last_unsent = NULL, *seg = NULL, *prev_seg = NULL, *queue = NULL;
 857              		.loc 1 370 0
 858 0150 0023     		movs	r3, #0
 859 0152 0B93     		str	r3, [sp, #44]
 860 0154 F1E7     		b	.L50
 861              	.LVL107:
 862              	.L60:
ARM GAS  C:\Users\Student\AppData\Local\Temp\cc218qF3.s 			page 40


 863              	.LBB12:
 864              	.LBB9:
 572:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****         LWIP_DEBUGF(TCP_OUTPUT_DEBUG | LWIP_DBG_LEVEL_SERIOUS, ("tcp_write: could not allocate memo
 865              		.loc 1 572 0
 866 0156 0122     		movs	r2, #1
 867 0158 2946     		mov	r1, r5
 868 015a 0020     		movs	r0, #0
 869 015c FFF7FEFF 		bl	pbuf_alloc
 870              	.LVL108:
 871 0160 0790     		str	r0, [sp, #28]
 872 0162 0028     		cmp	r0, #0
 873 0164 00F0D180 		beq	.L85
 585:Middlewares/Third_Party/LwIP/src/core/tcp_out.c **** 
 874              		.loc 1 585 0
 875 0168 069B     		ldr	r3, [sp, #24]
 876 016a 2344     		add	r3, r3, r4
 877 016c 4360     		str	r3, [r0, #4]
 588:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****         /* If allocation fails, we have to deallocate the data pbuf as
 878              		.loc 1 588 0
 879 016e 0022     		movs	r2, #0
 880 0170 1146     		mov	r1, r2
 881 0172 1046     		mov	r0, r2
 882              	.LVL109:
 883 0174 FFF7FEFF 		bl	pbuf_alloc
 884              	.LVL110:
 885 0178 0490     		str	r0, [sp, #16]
 886 017a 0028     		cmp	r0, #0
 887 017c 43D0     		beq	.L89
 596:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****     }
 888              		.loc 1 596 0
 889 017e 0799     		ldr	r1, [sp, #28]
 890 0180 0498     		ldr	r0, [sp, #16]
 891 0182 FFF7FEFF 		bl	pbuf_cat
 892              	.LVL111:
 893              	.L61:
 894              	.LBE9:
 599:Middlewares/Third_Party/LwIP/src/core/tcp_out.c **** 
 895              		.loc 1 599 0
 896 0186 0498     		ldr	r0, [sp, #16]
 897 0188 FFF7FEFF 		bl	pbuf_clen
 898              	.LVL112:
 899 018c 0644     		add	r6, r6, r0
 900              	.LVL113:
 901 018e B6B2     		uxth	r6, r6
 902              	.LVL114:
 604:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****       LWIP_DEBUGF(TCP_OUTPUT_DEBUG | LWIP_DBG_LEVEL_SERIOUS, ("tcp_write: queue too long %"U16_F" (
 903              		.loc 1 604 0
 904 0190 092E     		cmp	r6, #9
 905 0192 3FD8     		bhi	.L90
 611:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****       goto memerr;
 906              		.loc 1 611 0
 907 0194 BB6D     		ldr	r3, [r7, #88]
 908 0196 0022     		movs	r2, #0
 909 0198 0092     		str	r2, [sp]
 910 019a 2344     		add	r3, r3, r4
 911 019c 0499     		ldr	r1, [sp, #16]
 912 019e 3846     		mov	r0, r7
ARM GAS  C:\Users\Student\AppData\Local\Temp\cc218qF3.s 			page 41


 913 01a0 FFF7FEFF 		bl	tcp_create_segment
 914              	.LVL115:
 915 01a4 0346     		mov	r3, r0
 916 01a6 0028     		cmp	r0, #0
 917 01a8 00F0B380 		beq	.L86
 624:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****       queue = seg;
 918              		.loc 1 624 0
 919 01ac B9F1000F 		cmp	r9, #0
 920 01b0 4ED0     		beq	.L82
 629:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****     }
 921              		.loc 1 629 0
 922 01b2 059A     		ldr	r2, [sp, #20]
 923 01b4 1060     		str	r0, [r2]
 924              	.LVL116:
 925              	.L64:
 638:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****   }
 926              		.loc 1 638 0
 927 01b6 2C44     		add	r4, r4, r5
 928              	.LVL117:
 929 01b8 A4B2     		uxth	r4, r4
 930              	.LVL118:
 632:Middlewares/Third_Party/LwIP/src/core/tcp_out.c **** 
 931              		.loc 1 632 0
 932 01ba 0593     		str	r3, [sp, #20]
 933              	.LVL119:
 934              	.L59:
 935              	.LBE12:
 542:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****     struct pbuf *p;
 936              		.loc 1 542 0
 937 01bc 5445     		cmp	r4, r10
 938 01be 49D2     		bcs	.L91
 939              	.LBB13:
 544:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****     u16_t max_len = mss_local - optlen;
 940              		.loc 1 544 0
 941 01c0 AAEB0405 		sub	r5, r10, r4
 942 01c4 ADB2     		uxth	r5, r5
 943              	.LVL120:
 546:Middlewares/Third_Party/LwIP/src/core/tcp_out.c **** #if TCP_CHECKSUM_ON_COPY
 944              		.loc 1 546 0
 945 01c6 5D45     		cmp	r5, fp
 946 01c8 28BF     		it	cs
 947 01ca 5D46     		movcs	r5, fp
 948              	.LVL121:
 552:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****       /* If copy is set, memory should be allocated and data copied
 949              		.loc 1 552 0
 950 01cc 18F0010F 		tst	r8, #1
 951 01d0 C1D0     		beq	.L60
 555:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****         LWIP_DEBUGF(TCP_OUTPUT_DEBUG | LWIP_DBG_LEVEL_SERIOUS, ("tcp_write : could not allocate mem
 952              		.loc 1 555 0
 953 01d2 B9FA89F3 		clz	r3, r9
 954              	.LVL122:
 955 01d6 5B09     		lsrs	r3, r3, #5
 956 01d8 0293     		str	r3, [sp, #8]
 957 01da CDF80480 		str	r8, [sp, #4]
 958 01de 0097     		str	r7, [sp]
 959 01e0 0DF13603 		add	r3, sp, #54
 960 01e4 5A46     		mov	r2, fp
ARM GAS  C:\Users\Student\AppData\Local\Temp\cc218qF3.s 			page 42


 961 01e6 2946     		mov	r1, r5
 962 01e8 0020     		movs	r0, #0
 963 01ea FFF7FEFF 		bl	tcp_pbuf_prealloc
 964              	.LVL123:
 965 01ee 8646     		mov	lr, r0
 966 01f0 0490     		str	r0, [sp, #16]
 967 01f2 0028     		cmp	r0, #0
 968 01f4 00F08580 		beq	.L84
 561:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****     } else {
 969              		.loc 1 561 0
 970 01f8 2A46     		mov	r2, r5
 971 01fa 069B     		ldr	r3, [sp, #24]
 972 01fc 1919     		adds	r1, r3, r4
 973 01fe 4068     		ldr	r0, [r0, #4]
 974              	.LVL124:
 975 0200 FFF7FEFF 		bl	memcpy
 976              	.LVL125:
 977 0204 BFE7     		b	.L61
 978              	.LVL126:
 979              	.L89:
 980 0206 3B46     		mov	r3, r7
 981 0208 4F46     		mov	r7, r9
 982              	.LVL127:
 983 020a 9946     		mov	r9, r3
 984              	.LVL128:
 985              	.LBB10:
 591:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****         LWIP_DEBUGF(TCP_OUTPUT_DEBUG | LWIP_DBG_LEVEL_SERIOUS, ("tcp_write: could not allocate memo
 986              		.loc 1 591 0
 987 020c 0798     		ldr	r0, [sp, #28]
 988              	.LVL129:
 989 020e FFF7FEFF 		bl	pbuf_free
 990              	.LVL130:
 593:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****       }
 991              		.loc 1 593 0
 992 0212 07E0     		b	.L57
 993              	.LVL131:
 994              	.L90:
 995 0214 DDF81080 		ldr	r8, [sp, #16]
 996 0218 3B46     		mov	r3, r7
 997 021a 4F46     		mov	r7, r9
 998              	.LVL132:
 999 021c 9946     		mov	r9, r3
 1000              	.LVL133:
 1001              	.LBE10:
 607:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****       goto memerr;
 1002              		.loc 1 607 0
 1003 021e 4046     		mov	r0, r8
 1004 0220 FFF7FEFF 		bl	pbuf_free
 1005              	.LVL134:
 1006              	.L57:
 1007              	.LBE13:
 723:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****   TCP_STATS_INC(tcp.memerr);
 1008              		.loc 1 723 0
 1009 0224 99F81A30 		ldrb	r3, [r9, #26]	@ zero_extendqisi2
 1010 0228 63F07F03 		orn	r3, r3, #127
 1011 022c 89F81A30 		strb	r3, [r9, #26]
 726:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****     pbuf_free(concat_p);
ARM GAS  C:\Users\Student\AppData\Local\Temp\cc218qF3.s 			page 43


 1012              		.loc 1 726 0
 1013 0230 0B9B     		ldr	r3, [sp, #44]
 1014 0232 13B1     		cbz	r3, .L73
 727:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****   }
 1015              		.loc 1 727 0
 1016 0234 1846     		mov	r0, r3
 1017 0236 FFF7FEFF 		bl	pbuf_free
 1018              	.LVL135:
 1019              	.L73:
 729:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****     tcp_segs_free(queue);
 1020              		.loc 1 729 0
 1021 023a 17B1     		cbz	r7, .L74
 730:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****   }
 1022              		.loc 1 730 0
 1023 023c 3846     		mov	r0, r7
 1024 023e FFF7FEFF 		bl	tcp_segs_free
 1025              	.LVL136:
 1026              	.L74:
 737:Middlewares/Third_Party/LwIP/src/core/tcp_out.c **** }
 1027              		.loc 1 737 0
 1028 0242 4FF0FF33 		mov	r3, #-1
 1029 0246 0A93     		str	r3, [sp, #40]
 1030              	.LVL137:
 1031              	.L49:
 738:Middlewares/Third_Party/LwIP/src/core/tcp_out.c **** 
 1032              		.loc 1 738 0
 1033 0248 0A98     		ldr	r0, [sp, #40]
 1034 024a 0FB0     		add	sp, sp, #60
 1035              	.LCFI9:
 1036              		.cfi_remember_state
 1037              		.cfi_def_cfa_offset 36
 1038              		@ sp needed
 1039 024c BDE8F08F 		pop	{r4, r5, r6, r7, r8, r9, r10, fp, pc}
 1040              	.LVL138:
 1041              	.L82:
 1042              	.LCFI10:
 1043              		.cfi_restore_state
 1044              	.LBB14:
 625:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****     } else {
 1045              		.loc 1 625 0
 1046 0250 8146     		mov	r9, r0
 1047              	.LVL139:
 1048 0252 B0E7     		b	.L64
 1049              	.LVL140:
 1050              	.L91:
 1051 0254 3A46     		mov	r2, r7
 1052 0256 4F46     		mov	r7, r9
 1053              	.LVL141:
 1054 0258 C346     		mov	fp, r8
 1055 025a 9846     		mov	r8, r3
 1056 025c 9146     		mov	r9, r2
 1057              	.LVL142:
 1058              	.LBE14:
 651:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****     struct pbuf *p;
 1059              		.loc 1 651 0
 1060 025e 099B     		ldr	r3, [sp, #36]
 1061              	.LVL143:
ARM GAS  C:\Users\Student\AppData\Local\Temp\cc218qF3.s 			page 44


 1062 0260 DBB1     		cbz	r3, .L66
 1063              	.LBB15:
 654:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****       p->tot_len += oversize_used;
 1064              		.loc 1 654 0
 1065 0262 089A     		ldr	r2, [sp, #32]
 1066              	.LVL144:
 1067 0264 5468     		ldr	r4, [r2, #4]
 1068              	.LVL145:
 1069 0266 1D46     		mov	r5, r3
 1070 0268 00E0     		b	.L67
 1071              	.L68:
 654:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****       p->tot_len += oversize_used;
 1072              		.loc 1 654 0 is_stmt 0 discriminator 2
 1073 026a 2468     		ldr	r4, [r4]
 1074              	.LVL146:
 1075              	.L67:
 654:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****       p->tot_len += oversize_used;
 1076              		.loc 1 654 0 discriminator 1
 1077 026c 84B1     		cbz	r4, .L92
 655:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****       if (p->next == NULL) {
 1078              		.loc 1 655 0 is_stmt 1
 1079 026e 2389     		ldrh	r3, [r4, #8]
 1080 0270 2B44     		add	r3, r3, r5
 1081 0272 2381     		strh	r3, [r4, #8]	@ movhi
 656:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****         TCP_DATA_COPY((char *)p->payload + p->len, arg, oversize_used, last_unsent);
 1082              		.loc 1 656 0
 1083 0274 2368     		ldr	r3, [r4]
 1084 0276 002B     		cmp	r3, #0
 1085 0278 F7D1     		bne	.L68
 657:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****         p->len += oversize_used;
 1086              		.loc 1 657 0
 1087 027a 6068     		ldr	r0, [r4, #4]
 1088 027c 6389     		ldrh	r3, [r4, #10]
 1089 027e 2A46     		mov	r2, r5
 1090 0280 0699     		ldr	r1, [sp, #24]
 1091 0282 1844     		add	r0, r0, r3
 1092 0284 FFF7FEFF 		bl	memcpy
 1093              	.LVL147:
 658:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****       }
 1094              		.loc 1 658 0
 1095 0288 6389     		ldrh	r3, [r4, #10]
 1096 028a 2B44     		add	r3, r3, r5
 1097 028c 6381     		strh	r3, [r4, #10]	@ movhi
 1098 028e ECE7     		b	.L68
 1099              	.L92:
 661:Middlewares/Third_Party/LwIP/src/core/tcp_out.c **** #if TCP_OVERSIZE_DBGCHECK
 1100              		.loc 1 661 0
 1101 0290 089A     		ldr	r2, [sp, #32]
 1102 0292 1389     		ldrh	r3, [r2, #8]
 1103 0294 0999     		ldr	r1, [sp, #36]
 1104 0296 1944     		add	r1, r1, r3
 1105 0298 1181     		strh	r1, [r2, #8]	@ movhi
 1106              	.LVL148:
 1107              	.L66:
 1108              	.LBE15:
 668:Middlewares/Third_Party/LwIP/src/core/tcp_out.c **** #endif /* TCP_OVERSIZE */
 1109              		.loc 1 668 0
ARM GAS  C:\Users\Student\AppData\Local\Temp\cc218qF3.s 			page 45


 1110 029a BDF83630 		ldrh	r3, [sp, #54]
 1111 029e A9F86430 		strh	r3, [r9, #100]	@ movhi
 674:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****     LWIP_ASSERT("tcp_write: cannot concatenate when pcb->unsent is empty",
 1112              		.loc 1 674 0
 1113 02a2 0B9D     		ldr	r5, [sp, #44]
 1114 02a4 45B1     		cbz	r5, .L70
 677:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****     last_unsent->len += concat_p->tot_len;
 1115              		.loc 1 677 0
 1116 02a6 2946     		mov	r1, r5
 1117 02a8 089C     		ldr	r4, [sp, #32]
 1118 02aa 6068     		ldr	r0, [r4, #4]
 1119 02ac FFF7FEFF 		bl	pbuf_cat
 1120              	.LVL149:
 678:Middlewares/Third_Party/LwIP/src/core/tcp_out.c **** #if TCP_CHECKSUM_ON_COPY
 1121              		.loc 1 678 0
 1122 02b0 2B89     		ldrh	r3, [r5, #8]
 1123 02b2 2289     		ldrh	r2, [r4, #8]
 1124 02b4 1344     		add	r3, r3, r2
 1125 02b6 2381     		strh	r3, [r4, #8]	@ movhi
 1126              	.L70:
 696:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****     pcb->unsent = queue;
 1127              		.loc 1 696 0
 1128 02b8 089B     		ldr	r3, [sp, #32]
 1129 02ba FBB1     		cbz	r3, .L93
 699:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****   }
 1130              		.loc 1 699 0
 1131 02bc 089B     		ldr	r3, [sp, #32]
 1132 02be 1F60     		str	r7, [r3]
 1133              	.L72:
 705:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****   pcb->snd_buf -= len;
 1134              		.loc 1 705 0
 1135 02c0 D9F85830 		ldr	r3, [r9, #88]
 1136 02c4 5344     		add	r3, r3, r10
 1137 02c6 C9F85830 		str	r3, [r9, #88]
 706:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****   pcb->snd_queuelen = queuelen;
 1138              		.loc 1 706 0
 1139 02ca B9F86030 		ldrh	r3, [r9, #96]
 1140 02ce A3EB0A0A 		sub	r10, r3, r10
 1141 02d2 A9F860A0 		strh	r10, [r9, #96]	@ movhi
 707:Middlewares/Third_Party/LwIP/src/core/tcp_out.c **** 
 1142              		.loc 1 707 0
 1143 02d6 A9F86260 		strh	r6, [r9, #98]	@ movhi
 717:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****     TCPH_SET_FLAG(seg->tcphdr, TCP_PSH);
 1144              		.loc 1 717 0
 1145 02da B8F1000F 		cmp	r8, #0
 1146 02de B3D0     		beq	.L49
 717:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****     TCPH_SET_FLAG(seg->tcphdr, TCP_PSH);
 1147              		.loc 1 717 0 is_stmt 0 discriminator 1
 1148 02e0 D8F80C40 		ldr	r4, [r8, #12]
 1149 02e4 002C     		cmp	r4, #0
 1150 02e6 AFD0     		beq	.L49
 717:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****     TCPH_SET_FLAG(seg->tcphdr, TCP_PSH);
 1151              		.loc 1 717 0 discriminator 2
 1152 02e8 1BF0020F 		tst	fp, #2
 1153 02ec ACD1     		bne	.L49
 718:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****   }
 1154              		.loc 1 718 0 is_stmt 1
ARM GAS  C:\Users\Student\AppData\Local\Temp\cc218qF3.s 			page 46


 1155 02ee A589     		ldrh	r5, [r4, #12]	@ unaligned
 1156 02f0 0820     		movs	r0, #8
 1157 02f2 FFF7FEFF 		bl	lwip_htons
 1158              	.LVL150:
 1159 02f6 2843     		orrs	r0, r0, r5
 1160 02f8 A081     		strh	r0, [r4, #12]	@ unaligned
 1161 02fa A5E7     		b	.L49
 1162              	.L93:
 697:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****   } else {
 1163              		.loc 1 697 0
 1164 02fc C9F86870 		str	r7, [r9, #104]
 1165 0300 DEE7     		b	.L72
 1166              	.LVL151:
 1167              	.L84:
 1168 0302 3B46     		mov	r3, r7
 1169 0304 4F46     		mov	r7, r9
 1170              	.LVL152:
 1171 0306 9946     		mov	r9, r3
 1172              	.LVL153:
 1173 0308 8CE7     		b	.L57
 1174              	.LVL154:
 1175              	.L85:
 1176 030a 3B46     		mov	r3, r7
 1177 030c 4F46     		mov	r7, r9
 1178              	.LVL155:
 1179 030e 9946     		mov	r9, r3
 1180              	.LVL156:
 1181 0310 88E7     		b	.L57
 1182              	.LVL157:
 1183              	.L86:
 1184 0312 3B46     		mov	r3, r7
 1185 0314 4F46     		mov	r7, r9
 1186              	.LVL158:
 1187 0316 9946     		mov	r9, r3
 1188              	.LVL159:
 1189 0318 84E7     		b	.L57
 1190              	.LVL160:
 1191              	.L75:
 397:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****              arg != NULL, return ERR_ARG;);
 1192              		.loc 1 397 0
 1193 031a 6FF00F03 		mvn	r3, #15
 1194              	.LVL161:
 1195 031e 0A93     		str	r3, [sp, #40]
 1196 0320 92E7     		b	.L49
 1197              		.cfi_endproc
 1198              	.LFE141:
 1200              		.section	.text.tcp_enqueue_flags,"ax",%progbits
 1201              		.align	1
 1202              		.global	tcp_enqueue_flags
 1203              		.syntax unified
 1204              		.thumb
 1205              		.thumb_func
 1206              		.fpu fpv5-sp-d16
 1208              	tcp_enqueue_flags:
 1209              	.LFB142:
 750:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****   struct pbuf *p;
 1210              		.loc 1 750 0
ARM GAS  C:\Users\Student\AppData\Local\Temp\cc218qF3.s 			page 47


 1211              		.cfi_startproc
 1212              		@ args = 0, pretend = 0, frame = 0
 1213              		@ frame_needed = 0, uses_anonymous_args = 0
 1214              	.LVL162:
 1215 0000 F0B5     		push	{r4, r5, r6, r7, lr}
 1216              	.LCFI11:
 1217              		.cfi_def_cfa_offset 20
 1218              		.cfi_offset 4, -20
 1219              		.cfi_offset 5, -16
 1220              		.cfi_offset 6, -12
 1221              		.cfi_offset 7, -8
 1222              		.cfi_offset 14, -4
 1223 0002 83B0     		sub	sp, sp, #12
 1224              	.LCFI12:
 1225              		.cfi_def_cfa_offset 32
 1226 0004 0D46     		mov	r5, r1
 1227              	.LVL163:
 1228 0006 01F00307 		and	r7, r1, #3
 762:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****       ((flags & TCP_FIN) == 0)) {
 1229              		.loc 1 762 0
 1230 000a B0F86230 		ldrh	r3, [r0, #98]
 1231 000e 082B     		cmp	r3, #8
 1232 0010 02D9     		bls	.L95
 762:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****       ((flags & TCP_FIN) == 0)) {
 1233              		.loc 1 762 0 is_stmt 0 discriminator 1
 1234 0012 11F0010F 		tst	r1, #1
 1235 0016 18D0     		beq	.L109
 1236              	.L95:
 771:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****     optflags = TF_SEG_OPTS_MSS;
 1237              		.loc 1 771 0 is_stmt 1
 1238 0018 15F0020F 		tst	r5, #2
 1239 001c 1CD1     		bne	.L105
 753:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****   u8_t optlen = 0;
 1240              		.loc 1 753 0
 1241 001e 0026     		movs	r6, #0
 1242              	.L97:
 1243              	.LVL164:
 788:Middlewares/Third_Party/LwIP/src/core/tcp_out.c **** 
 1244              		.loc 1 788 0
 1245 0020 E6B1     		cbz	r6, .L106
 1246 0022 0421     		movs	r1, #4
 1247              	.LVL165:
 1248              	.L98:
 1249 0024 0446     		mov	r4, r0
 1250              	.LVL166:
 791:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****     pcb->flags |= TF_NAGLEMEMERR;
 1251              		.loc 1 791 0 discriminator 4
 1252 0026 0022     		movs	r2, #0
 1253 0028 1046     		mov	r0, r2
 1254              	.LVL167:
 1255 002a FFF7FEFF 		bl	pbuf_alloc
 1256              	.LVL168:
 1257 002e 0146     		mov	r1, r0
 1258 0030 B0B1     		cbz	r0, .L110
 800:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****     pcb->flags |= TF_NAGLEMEMERR;
 1259              		.loc 1 800 0
 1260 0032 0096     		str	r6, [sp]
ARM GAS  C:\Users\Student\AppData\Local\Temp\cc218qF3.s 			page 48


 1261 0034 A36D     		ldr	r3, [r4, #88]
 1262 0036 2A46     		mov	r2, r5
 1263 0038 2046     		mov	r0, r4
 1264              	.LVL169:
 1265 003a FFF7FEFF 		bl	tcp_create_segment
 1266              	.LVL170:
 1267 003e 0146     		mov	r1, r0
 1268 0040 A8B1     		cbz	r0, .L111
 815:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****     pcb->unsent = seg;
 1269              		.loc 1 815 0
 1270 0042 A26E     		ldr	r2, [r4, #104]
 1271 0044 DAB9     		cbnz	r2, .L101
 816:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****   } else {
 1272              		.loc 1 816 0
 1273 0046 A066     		str	r0, [r4, #104]
 1274 0048 1DE0     		b	.L102
 1275              	.LVL171:
 1276              	.L109:
 767:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****     return ERR_MEM;
 1277              		.loc 1 767 0
 1278 004a 837E     		ldrb	r3, [r0, #26]	@ zero_extendqisi2
 1279 004c 63F07F03 		orn	r3, r3, #127
 1280 0050 8376     		strb	r3, [r0, #26]
 768:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****   }
 1281              		.loc 1 768 0
 1282 0052 4FF0FF30 		mov	r0, #-1
 1283              	.LVL172:
 1284 0056 2DE0     		b	.L96
 1285              	.LVL173:
 1286              	.L105:
 772:Middlewares/Third_Party/LwIP/src/core/tcp_out.c **** #if LWIP_WND_SCALE
 1287              		.loc 1 772 0
 1288 0058 0126     		movs	r6, #1
 1289 005a E1E7     		b	.L97
 1290              	.LVL174:
 1291              	.L106:
 788:Middlewares/Third_Party/LwIP/src/core/tcp_out.c **** 
 1292              		.loc 1 788 0
 1293 005c 0021     		movs	r1, #0
 1294              	.LVL175:
 1295 005e E1E7     		b	.L98
 1296              	.LVL176:
 1297              	.L110:
 792:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****     TCP_STATS_INC(tcp.memerr);
 1298              		.loc 1 792 0
 1299 0060 A37E     		ldrb	r3, [r4, #26]	@ zero_extendqisi2
 1300 0062 63F07F03 		orn	r3, r3, #127
 1301 0066 A376     		strb	r3, [r4, #26]
 794:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****   }
 1302              		.loc 1 794 0
 1303 0068 4FF0FF30 		mov	r0, #-1
 1304              	.LVL177:
 1305 006c 22E0     		b	.L96
 1306              	.LVL178:
 1307              	.L111:
 801:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****     TCP_STATS_INC(tcp.memerr);
 1308              		.loc 1 801 0
ARM GAS  C:\Users\Student\AppData\Local\Temp\cc218qF3.s 			page 49


 1309 006e A37E     		ldrb	r3, [r4, #26]	@ zero_extendqisi2
 1310 0070 63F07F03 		orn	r3, r3, #127
 1311 0074 A376     		strb	r3, [r4, #26]
 803:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****   }
 1312              		.loc 1 803 0
 1313 0076 4FF0FF30 		mov	r0, #-1
 1314              	.LVL179:
 1315 007a 1BE0     		b	.L96
 1316              	.LVL180:
 1317              	.L107:
 1318              	.LBB16:
 819:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****     useg->next = seg;
 1319              		.loc 1 819 0
 1320 007c 1A46     		mov	r2, r3
 1321              	.LVL181:
 1322              	.L101:
 819:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****     useg->next = seg;
 1323              		.loc 1 819 0 is_stmt 0 discriminator 1
 1324 007e 1368     		ldr	r3, [r2]
 1325 0080 002B     		cmp	r3, #0
 1326 0082 FBD1     		bne	.L107
 820:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****   }
 1327              		.loc 1 820 0 is_stmt 1
 1328 0084 1160     		str	r1, [r2]
 1329              	.LVL182:
 1330              	.L102:
 1331              	.LBE16:
 824:Middlewares/Third_Party/LwIP/src/core/tcp_out.c **** #endif /* TCP_OVERSIZE */
 1332              		.loc 1 824 0
 1333 0086 0023     		movs	r3, #0
 1334 0088 A4F86430 		strh	r3, [r4, #100]	@ movhi
 828:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****     pcb->snd_lbb++;
 1335              		.loc 1 828 0
 1336 008c 17B1     		cbz	r7, .L103
 829:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****     /* optlen does not influence snd_buf */
 1337              		.loc 1 829 0
 1338 008e A36D     		ldr	r3, [r4, #88]
 1339 0090 0133     		adds	r3, r3, #1
 1340 0092 A365     		str	r3, [r4, #88]
 1341              	.L103:
 832:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****     pcb->flags |= TF_FIN;
 1342              		.loc 1 832 0
 1343 0094 15F0010F 		tst	r5, #1
 1344 0098 03D0     		beq	.L104
 833:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****   }
 1345              		.loc 1 833 0
 1346 009a A37E     		ldrb	r3, [r4, #26]	@ zero_extendqisi2
 1347 009c 43F02003 		orr	r3, r3, #32
 1348 00a0 A376     		strb	r3, [r4, #26]
 1349              	.L104:
 837:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****   LWIP_DEBUGF(TCP_QLEN_DEBUG, ("tcp_enqueue_flags: %"S16_F" (after enqueued)\n", pcb->snd_queuelen)
 1350              		.loc 1 837 0
 1351 00a2 4868     		ldr	r0, [r1, #4]
 1352              	.LVL183:
 1353 00a4 FFF7FEFF 		bl	pbuf_clen
 1354              	.LVL184:
 1355 00a8 B4F86230 		ldrh	r3, [r4, #98]
ARM GAS  C:\Users\Student\AppData\Local\Temp\cc218qF3.s 			page 50


 1356 00ac 1844     		add	r0, r0, r3
 1357 00ae A4F86200 		strh	r0, [r4, #98]	@ movhi
 844:Middlewares/Third_Party/LwIP/src/core/tcp_out.c **** }
 1358              		.loc 1 844 0
 1359 00b2 0020     		movs	r0, #0
 1360              	.LVL185:
 1361              	.L96:
 845:Middlewares/Third_Party/LwIP/src/core/tcp_out.c **** 
 1362              		.loc 1 845 0
 1363 00b4 03B0     		add	sp, sp, #12
 1364              	.LCFI13:
 1365              		.cfi_def_cfa_offset 20
 1366              		@ sp needed
 1367 00b6 F0BD     		pop	{r4, r5, r6, r7, pc}
 1368              		.cfi_endproc
 1369              	.LFE142:
 1371              		.section	.text.tcp_send_fin,"ax",%progbits
 1372              		.align	1
 1373              		.global	tcp_send_fin
 1374              		.syntax unified
 1375              		.thumb
 1376              		.thumb_func
 1377              		.fpu fpv5-sp-d16
 1379              	tcp_send_fin:
 1380              	.LFB137:
 140:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****   /* first, try to add the fin to the last unsent segment */
 1381              		.loc 1 140 0
 1382              		.cfi_startproc
 1383              		@ args = 0, pretend = 0, frame = 0
 1384              		@ frame_needed = 0, uses_anonymous_args = 0
 1385              	.LVL186:
 1386 0000 70B5     		push	{r4, r5, r6, lr}
 1387              	.LCFI14:
 1388              		.cfi_def_cfa_offset 16
 1389              		.cfi_offset 4, -16
 1390              		.cfi_offset 5, -12
 1391              		.cfi_offset 6, -8
 1392              		.cfi_offset 14, -4
 1393 0002 0546     		mov	r5, r0
 142:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****     struct tcp_seg *last_unsent;
 1394              		.loc 1 142 0
 1395 0004 846E     		ldr	r4, [r0, #104]
 1396 0006 0CB9     		cbnz	r4, .L114
 1397 0008 0AE0     		b	.L113
 1398              	.LVL187:
 1399              	.L116:
 1400              	.LBB17:
 145:Middlewares/Third_Party/LwIP/src/core/tcp_out.c **** 
 1401              		.loc 1 145 0
 1402 000a 1C46     		mov	r4, r3
 1403              	.LVL188:
 1404              	.L114:
 144:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****          last_unsent = last_unsent->next);
 1405              		.loc 1 144 0 discriminator 1
 1406 000c 2368     		ldr	r3, [r4]
 1407 000e 002B     		cmp	r3, #0
 1408 0010 FBD1     		bne	.L116
ARM GAS  C:\Users\Student\AppData\Local\Temp\cc218qF3.s 			page 51


 147:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****       /* no SYN/FIN/RST flag in the header, we can add the FIN flag */
 1409              		.loc 1 147 0
 1410 0012 E368     		ldr	r3, [r4, #12]
 1411 0014 9889     		ldrh	r0, [r3, #12]	@ unaligned
 1412              	.LVL189:
 1413 0016 FFF7FEFF 		bl	lwip_htons
 1414              	.LVL190:
 1415 001a 10F0070F 		tst	r0, #7
 1416 001e 04D0     		beq	.L118
 1417              	.LVL191:
 1418              	.L113:
 1419              	.LBE17:
 155:Middlewares/Third_Party/LwIP/src/core/tcp_out.c **** }
 1420              		.loc 1 155 0
 1421 0020 0121     		movs	r1, #1
 1422 0022 2846     		mov	r0, r5
 1423 0024 FFF7FEFF 		bl	tcp_enqueue_flags
 1424              	.LVL192:
 156:Middlewares/Third_Party/LwIP/src/core/tcp_out.c **** 
 1425              		.loc 1 156 0
 1426 0028 70BD     		pop	{r4, r5, r6, pc}
 1427              	.LVL193:
 1428              	.L118:
 1429              	.LBB18:
 149:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****       pcb->flags |= TF_FIN;
 1430              		.loc 1 149 0
 1431 002a E668     		ldr	r6, [r4, #12]
 1432 002c B489     		ldrh	r4, [r6, #12]	@ unaligned
 1433              	.LVL194:
 1434 002e 0120     		movs	r0, #1
 1435 0030 FFF7FEFF 		bl	lwip_htons
 1436              	.LVL195:
 1437 0034 2043     		orrs	r0, r0, r4
 1438 0036 B081     		strh	r0, [r6, #12]	@ unaligned
 150:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****       return ERR_OK;
 1439              		.loc 1 150 0
 1440 0038 AB7E     		ldrb	r3, [r5, #26]	@ zero_extendqisi2
 1441 003a 43F02003 		orr	r3, r3, #32
 1442 003e AB76     		strb	r3, [r5, #26]
 151:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****     }
 1443              		.loc 1 151 0
 1444 0040 0020     		movs	r0, #0
 1445 0042 70BD     		pop	{r4, r5, r6, pc}
 1446              	.LBE18:
 1447              		.cfi_endproc
 1448              	.LFE137:
 1450              		.section	.text.tcp_send_empty_ack,"ax",%progbits
 1451              		.align	1
 1452              		.global	tcp_send_empty_ack
 1453              		.syntax unified
 1454              		.thumb
 1455              		.thumb_func
 1456              		.fpu fpv5-sp-d16
 1458              	tcp_send_empty_ack:
 1459              	.LFB143:
 883:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****   err_t err;
 1460              		.loc 1 883 0
ARM GAS  C:\Users\Student\AppData\Local\Temp\cc218qF3.s 			page 52


 1461              		.cfi_startproc
 1462              		@ args = 0, pretend = 0, frame = 0
 1463              		@ frame_needed = 0, uses_anonymous_args = 0
 1464              	.LVL196:
 1465 0000 70B5     		push	{r4, r5, r6, lr}
 1466              	.LCFI15:
 1467              		.cfi_def_cfa_offset 16
 1468              		.cfi_offset 4, -16
 1469              		.cfi_offset 5, -12
 1470              		.cfi_offset 6, -8
 1471              		.cfi_offset 14, -4
 1472 0002 84B0     		sub	sp, sp, #16
 1473              	.LCFI16:
 1474              		.cfi_def_cfa_offset 32
 1475 0004 0446     		mov	r4, r0
 1476              	.LVL197:
 898:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****   if (p == NULL) {
 1477              		.loc 1 898 0
 1478 0006 C06C     		ldr	r0, [r0, #76]
 1479              	.LVL198:
 1480 0008 FFF7FEFF 		bl	lwip_htonl
 1481              	.LVL199:
 1482 000c 0346     		mov	r3, r0
 1483 000e 0022     		movs	r2, #0
 1484 0010 1146     		mov	r1, r2
 1485 0012 2046     		mov	r0, r4
 1486 0014 FFF7FEFF 		bl	tcp_output_alloc_header
 1487              	.LVL200:
 899:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****     /* let tcp_fasttmr retry sending this ACK */
 1488              		.loc 1 899 0
 1489 0018 E0B1     		cbz	r0, .L126
 1490 001a 0646     		mov	r6, r0
 920:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****   if (netif == NULL) {
 1491              		.loc 1 920 0
 1492 001c 251D     		adds	r5, r4, #4
 1493 001e 2846     		mov	r0, r5
 1494              	.LVL201:
 1495 0020 FFF7FEFF 		bl	ip4_route
 1496              	.LVL202:
 921:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****     err = ERR_RTE;
 1497              		.loc 1 921 0
 1498 0024 E8B1     		cbz	r0, .L124
 931:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****       pcb->ttl, pcb->tos, IP_PROTO_TCP, netif);
 1499              		.loc 1 931 0
 1500 0026 A37A     		ldrb	r3, [r4, #10]	@ zero_extendqisi2
 1501 0028 617A     		ldrb	r1, [r4, #9]	@ zero_extendqisi2
 1502 002a 0290     		str	r0, [sp, #8]
 1503 002c 0622     		movs	r2, #6
 1504 002e 0192     		str	r2, [sp, #4]
 1505 0030 0091     		str	r1, [sp]
 1506 0032 2A46     		mov	r2, r5
 1507 0034 2146     		mov	r1, r4
 1508 0036 3046     		mov	r0, r6
 1509              	.LVL203:
 1510 0038 FFF7FEFF 		bl	ip4_output_if
 1511              	.LVL204:
 1512 003c 0546     		mov	r5, r0
ARM GAS  C:\Users\Student\AppData\Local\Temp\cc218qF3.s 			page 53


 1513              	.LVL205:
 1514              	.L122:
 935:Middlewares/Third_Party/LwIP/src/core/tcp_out.c **** 
 1515              		.loc 1 935 0
 1516 003e 3046     		mov	r0, r6
 1517 0040 FFF7FEFF 		bl	pbuf_free
 1518              	.LVL206:
 937:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****     /* let tcp_fasttmr retry sending this ACK */
 1519              		.loc 1 937 0
 1520 0044 85B9     		cbnz	r5, .L127
 942:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****   }
 1521              		.loc 1 942 0
 1522 0046 A37E     		ldrb	r3, [r4, #26]	@ zero_extendqisi2
 1523 0048 23F00303 		bic	r3, r3, #3
 1524 004c A376     		strb	r3, [r4, #26]
 1525              	.LVL207:
 1526              	.L121:
 946:Middlewares/Third_Party/LwIP/src/core/tcp_out.c **** 
 1527              		.loc 1 946 0
 1528 004e 2846     		mov	r0, r5
 1529 0050 04B0     		add	sp, sp, #16
 1530              	.LCFI17:
 1531              		.cfi_remember_state
 1532              		.cfi_def_cfa_offset 16
 1533              		@ sp needed
 1534 0052 70BD     		pop	{r4, r5, r6, pc}
 1535              	.LVL208:
 1536              	.L126:
 1537              	.LCFI18:
 1538              		.cfi_restore_state
 901:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****     LWIP_DEBUGF(TCP_OUTPUT_DEBUG, ("tcp_output: (ACK) could not allocate pbuf\n"));
 1539              		.loc 1 901 0
 1540 0054 A37E     		ldrb	r3, [r4, #26]	@ zero_extendqisi2
 1541 0056 43F00303 		orr	r3, r3, #3
 1542 005a A376     		strb	r3, [r4, #26]
 903:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****   }
 1543              		.loc 1 903 0
 1544 005c 6FF00105 		mvn	r5, #1
 1545 0060 F5E7     		b	.L121
 1546              	.LVL209:
 1547              	.L124:
 922:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****   } else {
 1548              		.loc 1 922 0
 1549 0062 6FF00305 		mvn	r5, #3
 1550 0066 EAE7     		b	.L122
 1551              	.LVL210:
 1552              	.L127:
 939:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****   } else {
 1553              		.loc 1 939 0
 1554 0068 A37E     		ldrb	r3, [r4, #26]	@ zero_extendqisi2
 1555 006a 43F00303 		orr	r3, r3, #3
 1556 006e A376     		strb	r3, [r4, #26]
 1557 0070 EDE7     		b	.L121
 1558              		.cfi_endproc
 1559              	.LFE143:
 1561              		.section	.text.tcp_output,"ax",%progbits
 1562              		.align	1
ARM GAS  C:\Users\Student\AppData\Local\Temp\cc218qF3.s 			page 54


 1563              		.global	tcp_output
 1564              		.syntax unified
 1565              		.thumb
 1566              		.thumb_func
 1567              		.fpu fpv5-sp-d16
 1569              	tcp_output:
 1570              	.LFB144:
 958:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****   struct tcp_seg *seg, *useg;
 1571              		.loc 1 958 0
 1572              		.cfi_startproc
 1573              		@ args = 0, pretend = 0, frame = 0
 1574              		@ frame_needed = 0, uses_anonymous_args = 0
 1575              	.LVL211:
 975:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****     return ERR_OK;
 1576              		.loc 1 975 0
 1577 0000 8B4B     		ldr	r3, .L180
 1578 0002 1B68     		ldr	r3, [r3]
 1579 0004 9842     		cmp	r0, r3
 1580 0006 00F00A81 		beq	.L158
 958:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****   struct tcp_seg *seg, *useg;
 1581              		.loc 1 958 0
 1582 000a 2DE9F047 		push	{r4, r5, r6, r7, r8, r9, r10, lr}
 1583              	.LCFI19:
 1584              		.cfi_def_cfa_offset 32
 1585              		.cfi_offset 4, -32
 1586              		.cfi_offset 5, -28
 1587              		.cfi_offset 6, -24
 1588              		.cfi_offset 7, -20
 1589              		.cfi_offset 8, -16
 1590              		.cfi_offset 9, -12
 1591              		.cfi_offset 10, -8
 1592              		.cfi_offset 14, -4
 979:Middlewares/Third_Party/LwIP/src/core/tcp_out.c **** 
 1593              		.loc 1 979 0
 1594 000e B0F85C30 		ldrh	r3, [r0, #92]
 1595 0012 B0F84870 		ldrh	r7, [r0, #72]
 1596 0016 BB42     		cmp	r3, r7
 1597 0018 00D2     		bcs	.L131
 979:Middlewares/Third_Party/LwIP/src/core/tcp_out.c **** 
 1598              		.loc 1 979 0 is_stmt 0 discriminator 1
 1599 001a 1F46     		mov	r7, r3
 1600              	.L131:
 1601 001c 0546     		mov	r5, r0
 1602              	.LVL212:
 981:Middlewares/Third_Party/LwIP/src/core/tcp_out.c **** 
 1603              		.loc 1 981 0 is_stmt 1 discriminator 4
 1604 001e 846E     		ldr	r4, [r0, #104]
 1605              	.LVL213:
 989:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****      (seg == NULL ||
 1606              		.loc 1 989 0 discriminator 4
 1607 0020 837E     		ldrb	r3, [r0, #26]	@ zero_extendqisi2
 1608 0022 13F0020F 		tst	r3, #2
 1609 0026 0AD0     		beq	.L132
 989:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****      (seg == NULL ||
 1610              		.loc 1 989 0 is_stmt 0 discriminator 1
 1611 0028 64B1     		cbz	r4, .L133
 991:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****      return tcp_send_empty_ack(pcb);
ARM GAS  C:\Users\Student\AppData\Local\Temp\cc218qF3.s 			page 55


 1612              		.loc 1 991 0 is_stmt 1
 1613 002a E368     		ldr	r3, [r4, #12]
 1614 002c 5868     		ldr	r0, [r3, #4]	@ unaligned
 1615              	.LVL214:
 1616 002e FFF7FEFF 		bl	lwip_htonl
 1617              	.LVL215:
 1618 0032 6B6C     		ldr	r3, [r5, #68]
 1619 0034 C31A     		subs	r3, r0, r3
 1620 0036 2089     		ldrh	r0, [r4, #8]
 1621 0038 0344     		add	r3, r3, r0
 990:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****       lwip_ntohl(seg->tcphdr->seqno) - pcb->lastack + seg->len > wnd)) {
 1622              		.loc 1 990 0
 1623 003a 9F42     		cmp	r7, r3
 1624 003c 02D3     		bcc	.L133
 1625              	.L132:
 996:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****   if (useg != NULL) {
 1626              		.loc 1 996 0
 1627 003e EE6E     		ldr	r6, [r5, #108]
 1628              	.LVL216:
 997:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****     for (; useg->next != NULL; useg = useg->next);
 1629              		.loc 1 997 0
 1630 0040 36B9     		cbnz	r6, .L135
 1631 0042 08E0     		b	.L134
 1632              	.LVL217:
 1633              	.L133:
 992:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****   }
 1634              		.loc 1 992 0
 1635 0044 2846     		mov	r0, r5
 1636 0046 FFF7FEFF 		bl	tcp_send_empty_ack
 1637              	.LVL218:
 1638 004a 0346     		mov	r3, r0
 1639 004c E1E0     		b	.L129
 1640              	.LVL219:
 1641              	.L159:
 998:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****   }
 1642              		.loc 1 998 0
 1643 004e 1E46     		mov	r6, r3
 1644              	.LVL220:
 1645              	.L135:
 998:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****   }
 1646              		.loc 1 998 0 is_stmt 0 discriminator 1
 1647 0050 3368     		ldr	r3, [r6]
 1648 0052 002B     		cmp	r3, #0
 1649 0054 FBD1     		bne	.L159
 1650              	.L134:
1001:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****   if (netif == NULL) {
 1651              		.loc 1 1001 0 is_stmt 1
 1652 0056 281D     		adds	r0, r5, #4
 1653 0058 FFF7FEFF 		bl	ip4_route
 1654              	.LVL221:
1002:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****     return ERR_RTE;
 1655              		.loc 1 1002 0
 1656 005c 8046     		mov	r8, r0
 1657 005e 0028     		cmp	r0, #0
 1658 0060 00F0E080 		beq	.L160
1007:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****     const ip_addr_t *local_ip = ip_netif_get_local_ip(netif, &pcb->remote_ip);
 1659              		.loc 1 1007 0
ARM GAS  C:\Users\Student\AppData\Local\Temp\cc218qF3.s 			page 56


 1660 0064 15B1     		cbz	r5, .L136
1007:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****     const ip_addr_t *local_ip = ip_netif_get_local_ip(netif, &pcb->remote_ip);
 1661              		.loc 1 1007 0 is_stmt 0 discriminator 1
 1662 0066 2B68     		ldr	r3, [r5]
 1663 0068 002B     		cmp	r3, #0
 1664 006a 77D1     		bne	.L138
 1665              	.L136:
 1666              	.LVL222:
 1667              	.LBB19:
1009:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****       return ERR_RTE;
 1668              		.loc 1 1009 0 is_stmt 1 discriminator 1
 1669 006c 18F1040F 		cmn	r8, #4
 1670 0070 00F0DB80 		beq	.L161
1012:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****   }
 1671              		.loc 1 1012 0
 1672 0074 D8F80430 		ldr	r3, [r8, #4]
 1673 0078 2B60     		str	r3, [r5]
 1674 007a 6FE0     		b	.L138
 1675              	.LVL223:
 1676              	.L178:
 1677              	.LBE19:
1048:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****       ((pcb->flags & (TF_NAGLEMEMERR | TF_FIN)) == 0)) {
 1678              		.loc 1 1048 0 discriminator 8
 1679 007c 1A89     		ldrh	r2, [r3, #8]
 1680 007e 6B8E     		ldrh	r3, [r5, #50]
 1681 0080 9A42     		cmp	r2, r3
 1682 0082 80F08C80 		bcs	.L165
 1683              	.L140:
1048:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****       ((pcb->flags & (TF_NAGLEMEMERR | TF_FIN)) == 0)) {
 1684              		.loc 1 1048 0 is_stmt 0 discriminator 10
 1685 0086 B5F86030 		ldrh	r3, [r5, #96]
 1686 008a 002B     		cmp	r3, #0
 1687 008c 00F08980 		beq	.L166
1048:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****       ((pcb->flags & (TF_NAGLEMEMERR | TF_FIN)) == 0)) {
 1688              		.loc 1 1048 0 discriminator 12
 1689 0090 B5F86230 		ldrh	r3, [r5, #98]
 1690 0094 082B     		cmp	r3, #8
 1691 0096 40F28680 		bls	.L167
1048:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****       ((pcb->flags & (TF_NAGLEMEMERR | TF_FIN)) == 0)) {
 1692              		.loc 1 1048 0
 1693 009a 0123     		movs	r3, #1
 1694 009c 02E0     		b	.L139
 1695              	.L162:
 1696 009e 0123     		movs	r3, #1
 1697 00a0 00E0     		b	.L139
 1698              	.L163:
 1699 00a2 0123     		movs	r3, #1
 1700              	.L139:
1048:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****       ((pcb->flags & (TF_NAGLEMEMERR | TF_FIN)) == 0)) {
 1701              		.loc 1 1048 0 discriminator 16
 1702 00a4 23B9     		cbnz	r3, .L141
1049:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****       break;
 1703              		.loc 1 1049 0 is_stmt 1 discriminator 17
 1704 00a6 AB7E     		ldrb	r3, [r5, #26]	@ zero_extendqisi2
1048:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****       ((pcb->flags & (TF_NAGLEMEMERR | TF_FIN)) == 0)) {
 1705              		.loc 1 1048 0 discriminator 17
 1706 00a8 13F0A00F 		tst	r3, #160
ARM GAS  C:\Users\Student\AppData\Local\Temp\cc218qF3.s 			page 57


 1707 00ac 00F0AA80 		beq	.L142
 1708              	.L141:
1061:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****       TCPH_SET_FLAG(seg->tcphdr, TCP_ACK);
 1709              		.loc 1 1061 0
 1710 00b0 2B7D     		ldrb	r3, [r5, #20]	@ zero_extendqisi2
 1711 00b2 022B     		cmp	r3, #2
 1712 00b4 0AD0     		beq	.L143
1062:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****     }
 1713              		.loc 1 1062 0
 1714 00b6 D4F80CA0 		ldr	r10, [r4, #12]
 1715 00ba BAF80C90 		ldrh	r9, [r10, #12]	@ unaligned
 1716 00be 1020     		movs	r0, #16
 1717 00c0 FFF7FEFF 		bl	lwip_htons
 1718              	.LVL224:
 1719 00c4 49EA0000 		orr	r0, r9, r0
 1720 00c8 AAF80C00 		strh	r0, [r10, #12]	@ unaligned
 1721              	.L143:
1068:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****     if (err != ERR_OK) {
 1722              		.loc 1 1068 0
 1723 00cc 4246     		mov	r2, r8
 1724 00ce 2946     		mov	r1, r5
 1725 00d0 2046     		mov	r0, r4
 1726 00d2 FFF7FEFF 		bl	tcp_output_segment
 1727              	.LVL225:
1069:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****       /* segment could not be sent, for whatever reason */
 1728              		.loc 1 1069 0
 1729 00d6 0346     		mov	r3, r0
 1730 00d8 0028     		cmp	r0, #0
 1731 00da 66D1     		bne	.L174
1074:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****     if (pcb->state != SYN_SENT) {
 1732              		.loc 1 1074 0
 1733 00dc 2368     		ldr	r3, [r4]
 1734 00de AB66     		str	r3, [r5, #104]
1075:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****       pcb->flags &= ~(TF_ACK_DELAY | TF_ACK_NOW);
 1735              		.loc 1 1075 0
 1736 00e0 2B7D     		ldrb	r3, [r5, #20]	@ zero_extendqisi2
 1737 00e2 022B     		cmp	r3, #2
 1738 00e4 03D0     		beq	.L145
1076:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****     }
 1739              		.loc 1 1076 0
 1740 00e6 AB7E     		ldrb	r3, [r5, #26]	@ zero_extendqisi2
 1741 00e8 23F00303 		bic	r3, r3, #3
 1742 00ec AB76     		strb	r3, [r5, #26]
 1743              	.L145:
1078:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****     if (TCP_SEQ_LT(pcb->snd_nxt, snd_nxt)) {
 1744              		.loc 1 1078 0
 1745 00ee E368     		ldr	r3, [r4, #12]
 1746 00f0 5868     		ldr	r0, [r3, #4]	@ unaligned
 1747              	.LVL226:
 1748 00f2 FFF7FEFF 		bl	lwip_htonl
 1749              	.LVL227:
 1750 00f6 8146     		mov	r9, r0
 1751 00f8 B4F808A0 		ldrh	r10, [r4, #8]
 1752 00fc E368     		ldr	r3, [r4, #12]
 1753 00fe 9889     		ldrh	r0, [r3, #12]	@ unaligned
 1754 0100 FFF7FEFF 		bl	lwip_htons
 1755              	.LVL228:
ARM GAS  C:\Users\Student\AppData\Local\Temp\cc218qF3.s 			page 58


 1756 0104 10F0030F 		tst	r0, #3
 1757 0108 54D0     		beq	.L168
 1758 010a 0120     		movs	r0, #1
 1759              	.L146:
1078:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****     if (TCP_SEQ_LT(pcb->snd_nxt, snd_nxt)) {
 1760              		.loc 1 1078 0 is_stmt 0 discriminator 4
 1761 010c 5044     		add	r0, r0, r10
 1762 010e 4844     		add	r0, r0, r9
 1763              	.LVL229:
1079:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****       pcb->snd_nxt = snd_nxt;
 1764              		.loc 1 1079 0 is_stmt 1 discriminator 4
 1765 0110 EB6C     		ldr	r3, [r5, #76]
 1766 0112 1B1A     		subs	r3, r3, r0
 1767 0114 002B     		cmp	r3, #0
 1768 0116 4FDB     		blt	.L175
 1769              	.L147:
1083:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****       seg->next = NULL;
 1770              		.loc 1 1083 0
 1771 0118 B4F80890 		ldrh	r9, [r4, #8]
 1772 011c E368     		ldr	r3, [r4, #12]
 1773 011e 9889     		ldrh	r0, [r3, #12]	@ unaligned
 1774              	.LVL230:
 1775 0120 FFF7FEFF 		bl	lwip_htons
 1776              	.LVL231:
 1777 0124 10F0030F 		tst	r0, #3
 1778 0128 48D0     		beq	.L169
 1779 012a 0123     		movs	r3, #1
 1780              	.L148:
1083:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****       seg->next = NULL;
 1781              		.loc 1 1083 0 is_stmt 0 discriminator 4
 1782 012c 13EB090F 		cmn	r3, r9
 1783 0130 64D0     		beq	.L149
1084:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****       /* unacked list is empty? */
 1784              		.loc 1 1084 0 is_stmt 1
 1785 0132 0023     		movs	r3, #0
 1786 0134 2360     		str	r3, [r4]
1086:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****         pcb->unacked = seg;
 1787              		.loc 1 1086 0
 1788 0136 EB6E     		ldr	r3, [r5, #108]
 1789 0138 002B     		cmp	r3, #0
 1790 013a 41D0     		beq	.L176
1094:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****           /* add segment to before tail of unacked list, keeping the list sorted */
 1791              		.loc 1 1094 0
 1792 013c E368     		ldr	r3, [r4, #12]
 1793 013e 5868     		ldr	r0, [r3, #4]	@ unaligned
 1794 0140 FFF7FEFF 		bl	lwip_htonl
 1795              	.LVL232:
 1796 0144 8146     		mov	r9, r0
 1797 0146 F368     		ldr	r3, [r6, #12]
 1798 0148 5868     		ldr	r0, [r3, #4]	@ unaligned
 1799 014a FFF7FEFF 		bl	lwip_htonl
 1800              	.LVL233:
 1801 014e A9EB0000 		sub	r0, r9, r0
 1802 0152 0028     		cmp	r0, #0
 1803 0154 37DB     		blt	.L177
1105:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****           useg = useg->next;
 1804              		.loc 1 1105 0
ARM GAS  C:\Users\Student\AppData\Local\Temp\cc218qF3.s 			page 59


 1805 0156 3460     		str	r4, [r6]
 1806              	.LVL234:
1106:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****         }
 1807              		.loc 1 1106 0
 1808 0158 2646     		mov	r6, r4
 1809              	.LVL235:
 1810              	.L151:
1113:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****   }
 1811              		.loc 1 1113 0
 1812 015a AC6E     		ldr	r4, [r5, #104]
 1813              	.LVL236:
 1814              	.L138:
1037:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****          lwip_ntohl(seg->tcphdr->seqno) - pcb->lastack + seg->len <= wnd) {
 1815              		.loc 1 1037 0
 1816 015c 002C     		cmp	r4, #0
 1817 015e 51D0     		beq	.L142
1038:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****     LWIP_ASSERT("RST not expected here!",
 1818              		.loc 1 1038 0 discriminator 1
 1819 0160 E368     		ldr	r3, [r4, #12]
 1820 0162 5868     		ldr	r0, [r3, #4]	@ unaligned
 1821 0164 FFF7FEFF 		bl	lwip_htonl
 1822              	.LVL237:
 1823 0168 6B6C     		ldr	r3, [r5, #68]
 1824 016a C01A     		subs	r0, r0, r3
 1825 016c 2389     		ldrh	r3, [r4, #8]
 1826 016e 1844     		add	r0, r0, r3
1037:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****          lwip_ntohl(seg->tcphdr->seqno) - pcb->lastack + seg->len <= wnd) {
 1827              		.loc 1 1037 0 discriminator 1
 1828 0170 8742     		cmp	r7, r0
 1829 0172 47D3     		bcc	.L142
1039:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****                 (TCPH_FLAGS(seg->tcphdr) & TCP_RST) == 0);
 1830              		.loc 1 1039 0
 1831 0174 E368     		ldr	r3, [r4, #12]
 1832 0176 9889     		ldrh	r0, [r3, #12]	@ unaligned
 1833 0178 FFF7FEFF 		bl	lwip_htons
 1834              	.LVL238:
1048:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****       ((pcb->flags & (TF_NAGLEMEMERR | TF_FIN)) == 0)) {
 1835              		.loc 1 1048 0
 1836 017c EB6E     		ldr	r3, [r5, #108]
 1837 017e 002B     		cmp	r3, #0
 1838 0180 8DD0     		beq	.L162
1048:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****       ((pcb->flags & (TF_NAGLEMEMERR | TF_FIN)) == 0)) {
 1839              		.loc 1 1048 0 is_stmt 0 discriminator 2
 1840 0182 AB7E     		ldrb	r3, [r5, #26]	@ zero_extendqisi2
 1841 0184 13F0440F 		tst	r3, #68
 1842 0188 8BD1     		bne	.L163
1048:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****       ((pcb->flags & (TF_NAGLEMEMERR | TF_FIN)) == 0)) {
 1843              		.loc 1 1048 0 discriminator 4
 1844 018a AB6E     		ldr	r3, [r5, #104]
 1845 018c 002B     		cmp	r3, #0
 1846 018e 3FF47AAF 		beq	.L140
1048:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****       ((pcb->flags & (TF_NAGLEMEMERR | TF_FIN)) == 0)) {
 1847              		.loc 1 1048 0 discriminator 5
 1848 0192 1A68     		ldr	r2, [r3]
 1849 0194 002A     		cmp	r2, #0
 1850 0196 3FF471AF 		beq	.L178
1048:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****       ((pcb->flags & (TF_NAGLEMEMERR | TF_FIN)) == 0)) {
ARM GAS  C:\Users\Student\AppData\Local\Temp\cc218qF3.s 			page 60


 1851              		.loc 1 1048 0
 1852 019a 0123     		movs	r3, #1
 1853 019c 82E7     		b	.L139
 1854              	.L165:
 1855 019e 0123     		movs	r3, #1
 1856 01a0 80E7     		b	.L139
 1857              	.L166:
 1858 01a2 0123     		movs	r3, #1
 1859 01a4 7EE7     		b	.L139
 1860              	.L167:
 1861 01a6 0023     		movs	r3, #0
 1862 01a8 7CE7     		b	.L139
 1863              	.LVL239:
 1864              	.L174:
1071:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****       return err;
 1865              		.loc 1 1071 0 is_stmt 1
 1866 01aa AA7E     		ldrb	r2, [r5, #26]	@ zero_extendqisi2
 1867 01ac 62F07F02 		orn	r2, r2, #127
 1868 01b0 AA76     		strb	r2, [r5, #26]
1072:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****     }
 1869              		.loc 1 1072 0
 1870 01b2 2EE0     		b	.L129
 1871              	.LVL240:
 1872              	.L168:
1078:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****     if (TCP_SEQ_LT(pcb->snd_nxt, snd_nxt)) {
 1873              		.loc 1 1078 0
 1874 01b4 0020     		movs	r0, #0
 1875 01b6 A9E7     		b	.L146
 1876              	.LVL241:
 1877              	.L175:
1080:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****     }
 1878              		.loc 1 1080 0
 1879 01b8 E864     		str	r0, [r5, #76]
 1880 01ba ADE7     		b	.L147
 1881              	.LVL242:
 1882              	.L169:
1083:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****       seg->next = NULL;
 1883              		.loc 1 1083 0
 1884 01bc 0023     		movs	r3, #0
 1885 01be B5E7     		b	.L148
 1886              	.L176:
1087:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****         useg = seg;
 1887              		.loc 1 1087 0
 1888 01c0 EC66     		str	r4, [r5, #108]
 1889              	.LVL243:
1088:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****       /* unacked list is not empty? */
 1890              		.loc 1 1088 0
 1891 01c2 2646     		mov	r6, r4
 1892 01c4 C9E7     		b	.L151
 1893              	.LVL244:
 1894              	.L177:
 1895              	.LBB20:
1096:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****           while (*cur_seg &&
 1896              		.loc 1 1096 0
 1897 01c6 05F16C0A 		add	r10, r5, #108
 1898              	.LVL245:
1097:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****             TCP_SEQ_LT(lwip_ntohl((*cur_seg)->tcphdr->seqno), lwip_ntohl(seg->tcphdr->seqno))) {
ARM GAS  C:\Users\Student\AppData\Local\Temp\cc218qF3.s 			page 61


 1899              		.loc 1 1097 0
 1900 01ca 01E0     		b	.L153
 1901              	.L155:
1099:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****           }
 1902              		.loc 1 1099 0
 1903 01cc DAF800A0 		ldr	r10, [r10]
 1904              	.LVL246:
 1905              	.L153:
1097:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****             TCP_SEQ_LT(lwip_ntohl((*cur_seg)->tcphdr->seqno), lwip_ntohl(seg->tcphdr->seqno))) {
 1906              		.loc 1 1097 0
 1907 01d0 DAF80030 		ldr	r3, [r10]
 1908 01d4 63B1     		cbz	r3, .L154
1098:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****               cur_seg = &((*cur_seg)->next );
 1909              		.loc 1 1098 0 discriminator 1
 1910 01d6 DB68     		ldr	r3, [r3, #12]
 1911 01d8 5868     		ldr	r0, [r3, #4]	@ unaligned
 1912 01da FFF7FEFF 		bl	lwip_htonl
 1913              	.LVL247:
 1914 01de 8146     		mov	r9, r0
 1915 01e0 E368     		ldr	r3, [r4, #12]
 1916 01e2 5868     		ldr	r0, [r3, #4]	@ unaligned
 1917 01e4 FFF7FEFF 		bl	lwip_htonl
 1918              	.LVL248:
 1919 01e8 A9EB0000 		sub	r0, r9, r0
1097:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****             TCP_SEQ_LT(lwip_ntohl((*cur_seg)->tcphdr->seqno), lwip_ntohl(seg->tcphdr->seqno))) {
 1920              		.loc 1 1097 0 discriminator 1
 1921 01ec 0028     		cmp	r0, #0
 1922 01ee EDDB     		blt	.L155
 1923              	.L154:
1101:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****           (*cur_seg) = seg;
 1924              		.loc 1 1101 0
 1925 01f0 DAF80030 		ldr	r3, [r10]
 1926 01f4 2360     		str	r3, [r4]
1102:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****         } else {
 1927              		.loc 1 1102 0
 1928 01f6 CAF80040 		str	r4, [r10]
 1929              	.LBE20:
 1930 01fa AEE7     		b	.L151
 1931              	.LVL249:
 1932              	.L149:
1111:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****     }
 1933              		.loc 1 1111 0
 1934 01fc 2046     		mov	r0, r4
 1935 01fe FFF7FEFF 		bl	tcp_seg_free
 1936              	.LVL250:
 1937 0202 AAE7     		b	.L151
 1938              	.L142:
1116:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****     /* last unsent has been removed, reset unsent_oversize */
 1939              		.loc 1 1116 0
 1940 0204 AB6E     		ldr	r3, [r5, #104]
 1941 0206 3BB1     		cbz	r3, .L179
 1942              	.L157:
1122:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****   return ERR_OK;
 1943              		.loc 1 1122 0
 1944 0208 AB7E     		ldrb	r3, [r5, #26]	@ zero_extendqisi2
 1945 020a 03F07F03 		and	r3, r3, #127
 1946 020e AB76     		strb	r3, [r5, #26]
ARM GAS  C:\Users\Student\AppData\Local\Temp\cc218qF3.s 			page 62


1123:Middlewares/Third_Party/LwIP/src/core/tcp_out.c **** }
 1947              		.loc 1 1123 0
 1948 0210 0023     		movs	r3, #0
 1949              	.LVL251:
 1950              	.L129:
1124:Middlewares/Third_Party/LwIP/src/core/tcp_out.c **** 
 1951              		.loc 1 1124 0
 1952 0212 1846     		mov	r0, r3
 1953 0214 BDE8F087 		pop	{r4, r5, r6, r7, r8, r9, r10, pc}
 1954              	.LVL252:
 1955              	.L179:
1118:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****   }
 1956              		.loc 1 1118 0
 1957 0218 A5F86430 		strh	r3, [r5, #100]	@ movhi
 1958 021c F4E7     		b	.L157
 1959              	.LVL253:
 1960              	.L158:
 1961              	.LCFI20:
 1962              		.cfi_def_cfa_offset 0
 1963              		.cfi_restore 4
 1964              		.cfi_restore 5
 1965              		.cfi_restore 6
 1966              		.cfi_restore 7
 1967              		.cfi_restore 8
 1968              		.cfi_restore 9
 1969              		.cfi_restore 10
 1970              		.cfi_restore 14
 976:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****   }
 1971              		.loc 1 976 0
 1972 021e 0023     		movs	r3, #0
1124:Middlewares/Third_Party/LwIP/src/core/tcp_out.c **** 
 1973              		.loc 1 1124 0
 1974 0220 1846     		mov	r0, r3
 1975              	.LVL254:
 1976 0222 7047     		bx	lr
 1977              	.LVL255:
 1978              	.L160:
 1979              	.LCFI21:
 1980              		.cfi_def_cfa_offset 32
 1981              		.cfi_offset 4, -32
 1982              		.cfi_offset 5, -28
 1983              		.cfi_offset 6, -24
 1984              		.cfi_offset 7, -20
 1985              		.cfi_offset 8, -16
 1986              		.cfi_offset 9, -12
 1987              		.cfi_offset 10, -8
 1988              		.cfi_offset 14, -4
1003:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****   }
 1989              		.loc 1 1003 0
 1990 0224 6FF00303 		mvn	r3, #3
 1991 0228 F3E7     		b	.L129
 1992              	.LVL256:
 1993              	.L161:
 1994              	.LBB21:
1010:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****     }
 1995              		.loc 1 1010 0
 1996 022a 6FF00303 		mvn	r3, #3
ARM GAS  C:\Users\Student\AppData\Local\Temp\cc218qF3.s 			page 63


 1997 022e F0E7     		b	.L129
 1998              	.L181:
 1999              		.align	2
 2000              	.L180:
 2001 0230 00000000 		.word	tcp_input_pcb
 2002              	.LBE21:
 2003              		.cfi_endproc
 2004              	.LFE144:
 2006              		.section	.text.tcp_rst,"ax",%progbits
 2007              		.align	1
 2008              		.global	tcp_rst
 2009              		.syntax unified
 2010              		.thumb
 2011              		.thumb_func
 2012              		.fpu fpv5-sp-d16
 2014              	tcp_rst:
 2015              	.LFB146:
1267:Middlewares/Third_Party/LwIP/src/core/tcp_out.c **** 
1268:Middlewares/Third_Party/LwIP/src/core/tcp_out.c **** /**
1269:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****  * Send a TCP RESET packet (empty segment with RST flag set) either to
1270:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****  * abort a connection or to show that there is no matching local connection
1271:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****  * for a received segment.
1272:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****  *
1273:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****  * Called by tcp_abort() (to abort a local connection), tcp_input() (if no
1274:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****  * matching local pcb was found), tcp_listen_input() (if incoming segment
1275:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****  * has ACK flag set) and tcp_process() (received segment in the wrong state)
1276:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****  *
1277:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****  * Since a RST segment is in most cases not sent for an active connection,
1278:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****  * tcp_rst() has a number of arguments that are taken from a tcp_pcb for
1279:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****  * most other segment output functions.
1280:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****  *
1281:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****  * @param seqno the sequence number to use for the outgoing segment
1282:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****  * @param ackno the acknowledge number to use for the outgoing segment
1283:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****  * @param local_ip the local IP address to send the segment from
1284:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****  * @param remote_ip the remote IP address to send the segment to
1285:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****  * @param local_port the local TCP port to send the segment from
1286:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****  * @param remote_port the remote TCP port to send the segment to
1287:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****  */
1288:Middlewares/Third_Party/LwIP/src/core/tcp_out.c **** void
1289:Middlewares/Third_Party/LwIP/src/core/tcp_out.c **** tcp_rst(u32_t seqno, u32_t ackno,
1290:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****   const ip_addr_t *local_ip, const ip_addr_t *remote_ip,
1291:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****   u16_t local_port, u16_t remote_port)
1292:Middlewares/Third_Party/LwIP/src/core/tcp_out.c **** {
 2016              		.loc 1 1292 0
 2017              		.cfi_startproc
 2018              		@ args = 8, pretend = 0, frame = 0
 2019              		@ frame_needed = 0, uses_anonymous_args = 0
 2020              	.LVL257:
 2021 0000 2DE9F043 		push	{r4, r5, r6, r7, r8, r9, lr}
 2022              	.LCFI22:
 2023              		.cfi_def_cfa_offset 28
 2024              		.cfi_offset 4, -28
 2025              		.cfi_offset 5, -24
 2026              		.cfi_offset 6, -20
 2027              		.cfi_offset 7, -16
 2028              		.cfi_offset 8, -12
 2029              		.cfi_offset 9, -8
ARM GAS  C:\Users\Student\AppData\Local\Temp\cc218qF3.s 			page 64


 2030              		.cfi_offset 14, -4
 2031 0004 85B0     		sub	sp, sp, #20
 2032              	.LCFI23:
 2033              		.cfi_def_cfa_offset 48
 2034 0006 8046     		mov	r8, r0
 2035 0008 0F46     		mov	r7, r1
 2036 000a 9146     		mov	r9, r2
 2037 000c 1E46     		mov	r6, r3
1293:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****   struct pbuf *p;
1294:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****   struct tcp_hdr *tcphdr;
1295:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****   struct netif *netif;
1296:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****   p = pbuf_alloc(PBUF_IP, TCP_HLEN, PBUF_RAM);
 2038              		.loc 1 1296 0
 2039 000e 0022     		movs	r2, #0
 2040              	.LVL258:
 2041 0010 1421     		movs	r1, #20
 2042              	.LVL259:
 2043 0012 0120     		movs	r0, #1
 2044              	.LVL260:
 2045 0014 FFF7FEFF 		bl	pbuf_alloc
 2046              	.LVL261:
1297:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****   if (p == NULL) {
 2047              		.loc 1 1297 0
 2048 0018 98B3     		cbz	r0, .L182
 2049 001a 0546     		mov	r5, r0
1298:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****     LWIP_DEBUGF(TCP_DEBUG, ("tcp_rst: could not allocate memory for pbuf\n"));
1299:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****     return;
1300:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****   }
1301:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****   LWIP_ASSERT("check that first pbuf can hold struct tcp_hdr",
1302:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****               (p->len >= sizeof(struct tcp_hdr)));
1303:Middlewares/Third_Party/LwIP/src/core/tcp_out.c **** 
1304:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****   tcphdr = (struct tcp_hdr *)p->payload;
 2050              		.loc 1 1304 0
 2051 001c 4468     		ldr	r4, [r0, #4]
 2052              	.LVL262:
1305:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****   tcphdr->src = lwip_htons(local_port);
 2053              		.loc 1 1305 0
 2054 001e BDF83000 		ldrh	r0, [sp, #48]
 2055              	.LVL263:
 2056 0022 FFF7FEFF 		bl	lwip_htons
 2057              	.LVL264:
 2058 0026 2080     		strh	r0, [r4]	@ unaligned
1306:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****   tcphdr->dest = lwip_htons(remote_port);
 2059              		.loc 1 1306 0
 2060 0028 BDF83400 		ldrh	r0, [sp, #52]
 2061 002c FFF7FEFF 		bl	lwip_htons
 2062              	.LVL265:
 2063 0030 6080     		strh	r0, [r4, #2]	@ unaligned
1307:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****   tcphdr->seqno = lwip_htonl(seqno);
 2064              		.loc 1 1307 0
 2065 0032 4046     		mov	r0, r8
 2066 0034 FFF7FEFF 		bl	lwip_htonl
 2067              	.LVL266:
 2068 0038 6060     		str	r0, [r4, #4]	@ unaligned
1308:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****   tcphdr->ackno = lwip_htonl(ackno);
 2069              		.loc 1 1308 0
 2070 003a 3846     		mov	r0, r7
ARM GAS  C:\Users\Student\AppData\Local\Temp\cc218qF3.s 			page 65


 2071 003c FFF7FEFF 		bl	lwip_htonl
 2072              	.LVL267:
 2073 0040 A060     		str	r0, [r4, #8]	@ unaligned
1309:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****   TCPH_HDRLEN_FLAGS_SET(tcphdr, TCP_HLEN/4, TCP_RST | TCP_ACK);
 2074              		.loc 1 1309 0
 2075 0042 45F21400 		movw	r0, #20500
 2076 0046 FFF7FEFF 		bl	lwip_htons
 2077              	.LVL268:
 2078 004a A081     		strh	r0, [r4, #12]	@ unaligned
1310:Middlewares/Third_Party/LwIP/src/core/tcp_out.c **** #if LWIP_WND_SCALE
1311:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****   tcphdr->wnd = PP_HTONS(((TCP_WND >> TCP_RCV_SCALE) & 0xFFFF));
1312:Middlewares/Third_Party/LwIP/src/core/tcp_out.c **** #else
1313:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****   tcphdr->wnd = PP_HTONS(TCP_WND);
 2079              		.loc 1 1313 0
 2080 004c 0023     		movs	r3, #0
 2081 004e 0822     		movs	r2, #8
 2082 0050 A273     		strb	r2, [r4, #14]
 2083 0052 6022     		movs	r2, #96
 2084 0054 E273     		strb	r2, [r4, #15]
1314:Middlewares/Third_Party/LwIP/src/core/tcp_out.c **** #endif
1315:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****   tcphdr->chksum = 0;
 2085              		.loc 1 1315 0
 2086 0056 2374     		strb	r3, [r4, #16]
 2087 0058 6374     		strb	r3, [r4, #17]
1316:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****   tcphdr->urgp = 0;
 2088              		.loc 1 1316 0
 2089 005a A374     		strb	r3, [r4, #18]
 2090 005c E374     		strb	r3, [r4, #19]
1317:Middlewares/Third_Party/LwIP/src/core/tcp_out.c **** 
1318:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****   TCP_STATS_INC(tcp.xmit);
1319:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****   MIB2_STATS_INC(mib2.tcpoutrsts);
1320:Middlewares/Third_Party/LwIP/src/core/tcp_out.c **** 
1321:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****   netif = ip_route(local_ip, remote_ip);
 2091              		.loc 1 1321 0
 2092 005e 3046     		mov	r0, r6
 2093 0060 FFF7FEFF 		bl	ip4_route
 2094              	.LVL269:
1322:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****   if (netif != NULL) {
 2095              		.loc 1 1322 0
 2096 0064 50B1     		cbz	r0, .L184
1323:Middlewares/Third_Party/LwIP/src/core/tcp_out.c **** #if CHECKSUM_GEN_TCP
1324:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****     IF__NETIF_CHECKSUM_ENABLED(netif, NETIF_CHECKSUM_GEN_TCP) {
1325:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****       tcphdr->chksum = ip_chksum_pseudo(p, IP_PROTO_TCP, p->tot_len,
1326:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****                                         local_ip, remote_ip);
1327:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****     }
1328:Middlewares/Third_Party/LwIP/src/core/tcp_out.c **** #endif
1329:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****     /* Send output with hardcoded TTL/HL since we have no access to the pcb */
1330:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****     ip_output_if(p, local_ip, remote_ip, TCP_TTL, 0, IP_PROTO_TCP, netif);
 2097              		.loc 1 1330 0
 2098 0066 0290     		str	r0, [sp, #8]
 2099 0068 0623     		movs	r3, #6
 2100 006a 0193     		str	r3, [sp, #4]
 2101 006c 0023     		movs	r3, #0
 2102 006e 0093     		str	r3, [sp]
 2103 0070 FF23     		movs	r3, #255
 2104 0072 3246     		mov	r2, r6
 2105 0074 4946     		mov	r1, r9
ARM GAS  C:\Users\Student\AppData\Local\Temp\cc218qF3.s 			page 66


 2106 0076 2846     		mov	r0, r5
 2107              	.LVL270:
 2108 0078 FFF7FEFF 		bl	ip4_output_if
 2109              	.LVL271:
 2110              	.L184:
1331:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****   }
1332:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****   pbuf_free(p);
 2111              		.loc 1 1332 0
 2112 007c 2846     		mov	r0, r5
 2113 007e FFF7FEFF 		bl	pbuf_free
 2114              	.LVL272:
 2115              	.L182:
1333:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****   LWIP_DEBUGF(TCP_RST_DEBUG, ("tcp_rst: seqno %"U32_F" ackno %"U32_F".\n", seqno, ackno));
1334:Middlewares/Third_Party/LwIP/src/core/tcp_out.c **** }
 2116              		.loc 1 1334 0
 2117 0082 05B0     		add	sp, sp, #20
 2118              	.LCFI24:
 2119              		.cfi_def_cfa_offset 28
 2120              		@ sp needed
 2121 0084 BDE8F083 		pop	{r4, r5, r6, r7, r8, r9, pc}
 2122              		.cfi_endproc
 2123              	.LFE146:
 2125              		.section	.text.tcp_rexmit_rto,"ax",%progbits
 2126              		.align	1
 2127              		.global	tcp_rexmit_rto
 2128              		.syntax unified
 2129              		.thumb
 2130              		.thumb_func
 2131              		.fpu fpv5-sp-d16
 2133              	tcp_rexmit_rto:
 2134              	.LFB147:
1335:Middlewares/Third_Party/LwIP/src/core/tcp_out.c **** 
1336:Middlewares/Third_Party/LwIP/src/core/tcp_out.c **** /**
1337:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****  * Requeue all unacked segments for retransmission
1338:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****  *
1339:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****  * Called by tcp_slowtmr() for slow retransmission.
1340:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****  *
1341:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****  * @param pcb the tcp_pcb for which to re-enqueue all unacked segments
1342:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****  */
1343:Middlewares/Third_Party/LwIP/src/core/tcp_out.c **** void
1344:Middlewares/Third_Party/LwIP/src/core/tcp_out.c **** tcp_rexmit_rto(struct tcp_pcb *pcb)
1345:Middlewares/Third_Party/LwIP/src/core/tcp_out.c **** {
 2135              		.loc 1 1345 0
 2136              		.cfi_startproc
 2137              		@ args = 0, pretend = 0, frame = 0
 2138              		@ frame_needed = 0, uses_anonymous_args = 0
 2139              	.LVL273:
1346:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****   struct tcp_seg *seg;
1347:Middlewares/Third_Party/LwIP/src/core/tcp_out.c **** 
1348:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****   if (pcb->unacked == NULL) {
 2140              		.loc 1 1348 0
 2141 0000 C26E     		ldr	r2, [r0, #108]
 2142 0002 0AB1     		cbz	r2, .L193
1345:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****   struct tcp_seg *seg;
 2143              		.loc 1 1345 0
 2144 0004 08B5     		push	{r3, lr}
 2145              	.LCFI25:
ARM GAS  C:\Users\Student\AppData\Local\Temp\cc218qF3.s 			page 67


 2146              		.cfi_def_cfa_offset 8
 2147              		.cfi_offset 3, -8
 2148              		.cfi_offset 14, -4
 2149 0006 01E0     		b	.L188
 2150              	.L193:
 2151              	.LCFI26:
 2152              		.cfi_def_cfa_offset 0
 2153              		.cfi_restore 3
 2154              		.cfi_restore 14
 2155 0008 7047     		bx	lr
 2156              	.LVL274:
 2157              	.L189:
 2158              	.LCFI27:
 2159              		.cfi_def_cfa_offset 8
 2160              		.cfi_offset 3, -8
 2161              		.cfi_offset 14, -4
1349:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****     return;
1350:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****   }
1351:Middlewares/Third_Party/LwIP/src/core/tcp_out.c **** 
1352:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****   /* Move all unacked segments to the head of the unsent queue */
1353:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****   for (seg = pcb->unacked; seg->next != NULL; seg = seg->next);
 2162              		.loc 1 1353 0
 2163 000a 1A46     		mov	r2, r3
 2164              	.LVL275:
 2165              	.L188:
 2166              		.loc 1 1353 0 is_stmt 0 discriminator 1
 2167 000c 1368     		ldr	r3, [r2]
 2168 000e 002B     		cmp	r3, #0
 2169 0010 FBD1     		bne	.L189
1354:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****   /* concatenate unsent queue after unacked queue */
1355:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****   seg->next = pcb->unsent;
 2170              		.loc 1 1355 0 is_stmt 1
 2171 0012 836E     		ldr	r3, [r0, #104]
 2172 0014 1360     		str	r3, [r2]
1356:Middlewares/Third_Party/LwIP/src/core/tcp_out.c **** #if TCP_OVERSIZE_DBGCHECK
1357:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****   /* if last unsent changed, we need to update unsent_oversize */
1358:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****   if (pcb->unsent == NULL) {
1359:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****     pcb->unsent_oversize = seg->oversize_left;
1360:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****   }
1361:Middlewares/Third_Party/LwIP/src/core/tcp_out.c **** #endif /* TCP_OVERSIZE_DBGCHECK */
1362:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****   /* unsent queue is the concatenated queue (of unacked, unsent) */
1363:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****   pcb->unsent = pcb->unacked;
 2173              		.loc 1 1363 0
 2174 0016 C36E     		ldr	r3, [r0, #108]
 2175 0018 8366     		str	r3, [r0, #104]
1364:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****   /* unacked queue is now empty */
1365:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****   pcb->unacked = NULL;
 2176              		.loc 1 1365 0
 2177 001a 0022     		movs	r2, #0
 2178              	.LVL276:
 2179 001c C266     		str	r2, [r0, #108]
1366:Middlewares/Third_Party/LwIP/src/core/tcp_out.c **** 
1367:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****   /* increment number of retransmissions */
1368:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****   ++pcb->nrtx;
 2180              		.loc 1 1368 0
 2181 001e 90F84230 		ldrb	r3, [r0, #66]	@ zero_extendqisi2
 2182 0022 0133     		adds	r3, r3, #1
ARM GAS  C:\Users\Student\AppData\Local\Temp\cc218qF3.s 			page 68


 2183 0024 80F84230 		strb	r3, [r0, #66]
1369:Middlewares/Third_Party/LwIP/src/core/tcp_out.c **** 
1370:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****   /* Don't take any RTT measurements after retransmitting. */
1371:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****   pcb->rttest = 0;
 2184              		.loc 1 1371 0
 2185 0028 4263     		str	r2, [r0, #52]
1372:Middlewares/Third_Party/LwIP/src/core/tcp_out.c **** 
1373:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****   /* Do the actual retransmission */
1374:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****   tcp_output(pcb);
 2186              		.loc 1 1374 0
 2187 002a FFF7FEFF 		bl	tcp_output
 2188              	.LVL277:
 2189 002e 08BD     		pop	{r3, pc}
 2190              		.cfi_endproc
 2191              	.LFE147:
 2193              		.section	.text.tcp_rexmit,"ax",%progbits
 2194              		.align	1
 2195              		.global	tcp_rexmit
 2196              		.syntax unified
 2197              		.thumb
 2198              		.thumb_func
 2199              		.fpu fpv5-sp-d16
 2201              	tcp_rexmit:
 2202              	.LFB148:
1375:Middlewares/Third_Party/LwIP/src/core/tcp_out.c **** }
1376:Middlewares/Third_Party/LwIP/src/core/tcp_out.c **** 
1377:Middlewares/Third_Party/LwIP/src/core/tcp_out.c **** /**
1378:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****  * Requeue the first unacked segment for retransmission
1379:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****  *
1380:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****  * Called by tcp_receive() for fast retransmit.
1381:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****  *
1382:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****  * @param pcb the tcp_pcb for which to retransmit the first unacked segment
1383:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****  */
1384:Middlewares/Third_Party/LwIP/src/core/tcp_out.c **** void
1385:Middlewares/Third_Party/LwIP/src/core/tcp_out.c **** tcp_rexmit(struct tcp_pcb *pcb)
1386:Middlewares/Third_Party/LwIP/src/core/tcp_out.c **** {
 2203              		.loc 1 1386 0
 2204              		.cfi_startproc
 2205              		@ args = 0, pretend = 0, frame = 0
 2206              		@ frame_needed = 0, uses_anonymous_args = 0
 2207              	.LVL278:
 2208 0000 F8B5     		push	{r3, r4, r5, r6, r7, lr}
 2209              	.LCFI28:
 2210              		.cfi_def_cfa_offset 24
 2211              		.cfi_offset 3, -24
 2212              		.cfi_offset 4, -20
 2213              		.cfi_offset 5, -16
 2214              		.cfi_offset 6, -12
 2215              		.cfi_offset 7, -8
 2216              		.cfi_offset 14, -4
1387:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****   struct tcp_seg *seg;
1388:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****   struct tcp_seg **cur_seg;
1389:Middlewares/Third_Party/LwIP/src/core/tcp_out.c **** 
1390:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****   if (pcb->unacked == NULL) {
 2217              		.loc 1 1390 0
 2218 0002 C66E     		ldr	r6, [r0, #108]
 2219 0004 06B3     		cbz	r6, .L194
ARM GAS  C:\Users\Student\AppData\Local\Temp\cc218qF3.s 			page 69


 2220 0006 0746     		mov	r7, r0
 2221              	.LVL279:
1391:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****     return;
1392:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****   }
1393:Middlewares/Third_Party/LwIP/src/core/tcp_out.c **** 
1394:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****   /* Move the first unacked segment to the unsent queue */
1395:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****   /* Keep the unsent queue sorted. */
1396:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****   seg = pcb->unacked;
1397:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****   pcb->unacked = seg->next;
 2222              		.loc 1 1397 0
 2223 0008 3368     		ldr	r3, [r6]
 2224 000a C366     		str	r3, [r0, #108]
1398:Middlewares/Third_Party/LwIP/src/core/tcp_out.c **** 
1399:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****   cur_seg = &(pcb->unsent);
 2225              		.loc 1 1399 0
 2226 000c 00F16805 		add	r5, r0, #104
 2227              	.LVL280:
1400:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****   while (*cur_seg &&
 2228              		.loc 1 1400 0
 2229 0010 00E0     		b	.L196
 2230              	.LVL281:
 2231              	.L198:
1401:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****     TCP_SEQ_LT(lwip_ntohl((*cur_seg)->tcphdr->seqno), lwip_ntohl(seg->tcphdr->seqno))) {
1402:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****       cur_seg = &((*cur_seg)->next );
 2232              		.loc 1 1402 0
 2233 0012 2D68     		ldr	r5, [r5]
 2234              	.LVL282:
 2235              	.L196:
1400:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****   while (*cur_seg &&
 2236              		.loc 1 1400 0
 2237 0014 2B68     		ldr	r3, [r5]
 2238 0016 5BB1     		cbz	r3, .L197
1401:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****     TCP_SEQ_LT(lwip_ntohl((*cur_seg)->tcphdr->seqno), lwip_ntohl(seg->tcphdr->seqno))) {
 2239              		.loc 1 1401 0 discriminator 1
 2240 0018 DB68     		ldr	r3, [r3, #12]
 2241 001a 5868     		ldr	r0, [r3, #4]	@ unaligned
 2242 001c FFF7FEFF 		bl	lwip_htonl
 2243              	.LVL283:
 2244 0020 0446     		mov	r4, r0
 2245 0022 F368     		ldr	r3, [r6, #12]
 2246 0024 5868     		ldr	r0, [r3, #4]	@ unaligned
 2247 0026 FFF7FEFF 		bl	lwip_htonl
 2248              	.LVL284:
 2249 002a 201A     		subs	r0, r4, r0
1400:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****   while (*cur_seg &&
 2250              		.loc 1 1400 0 discriminator 1
 2251 002c 0028     		cmp	r0, #0
 2252 002e F0DB     		blt	.L198
 2253              	.L197:
1403:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****   }
1404:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****   seg->next = *cur_seg;
 2254              		.loc 1 1404 0
 2255 0030 2B68     		ldr	r3, [r5]
 2256 0032 3360     		str	r3, [r6]
1405:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****   *cur_seg = seg;
 2257              		.loc 1 1405 0
 2258 0034 2E60     		str	r6, [r5]
ARM GAS  C:\Users\Student\AppData\Local\Temp\cc218qF3.s 			page 70


1406:Middlewares/Third_Party/LwIP/src/core/tcp_out.c **** #if TCP_OVERSIZE
1407:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****   if (seg->next == NULL) {
 2259              		.loc 1 1407 0
 2260 0036 3368     		ldr	r3, [r6]
 2261 0038 3BB1     		cbz	r3, .L201
 2262              	.L199:
1408:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****     /* the retransmitted segment is last in unsent, so reset unsent_oversize */
1409:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****     pcb->unsent_oversize = 0;
1410:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****   }
1411:Middlewares/Third_Party/LwIP/src/core/tcp_out.c **** #endif /* TCP_OVERSIZE */
1412:Middlewares/Third_Party/LwIP/src/core/tcp_out.c **** 
1413:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****   ++pcb->nrtx;
 2263              		.loc 1 1413 0
 2264 003a 97F84230 		ldrb	r3, [r7, #66]	@ zero_extendqisi2
 2265 003e 0133     		adds	r3, r3, #1
 2266 0040 87F84230 		strb	r3, [r7, #66]
1414:Middlewares/Third_Party/LwIP/src/core/tcp_out.c **** 
1415:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****   /* Don't take any rtt measurements after retransmitting. */
1416:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****   pcb->rttest = 0;
 2267              		.loc 1 1416 0
 2268 0044 0023     		movs	r3, #0
 2269 0046 7B63     		str	r3, [r7, #52]
 2270              	.LVL285:
 2271              	.L194:
 2272 0048 F8BD     		pop	{r3, r4, r5, r6, r7, pc}
 2273              	.LVL286:
 2274              	.L201:
1409:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****   }
 2275              		.loc 1 1409 0
 2276 004a A7F86430 		strh	r3, [r7, #100]	@ movhi
 2277 004e F4E7     		b	.L199
 2278              		.cfi_endproc
 2279              	.LFE148:
 2281              		.section	.text.tcp_rexmit_fast,"ax",%progbits
 2282              		.align	1
 2283              		.global	tcp_rexmit_fast
 2284              		.syntax unified
 2285              		.thumb
 2286              		.thumb_func
 2287              		.fpu fpv5-sp-d16
 2289              	tcp_rexmit_fast:
 2290              	.LFB149:
1417:Middlewares/Third_Party/LwIP/src/core/tcp_out.c **** 
1418:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****   /* Do the actual retransmission. */
1419:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****   MIB2_STATS_INC(mib2.tcpretranssegs);
1420:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****   /* No need to call tcp_output: we are always called from tcp_input()
1421:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****      and thus tcp_output directly returns. */
1422:Middlewares/Third_Party/LwIP/src/core/tcp_out.c **** }
1423:Middlewares/Third_Party/LwIP/src/core/tcp_out.c **** 
1424:Middlewares/Third_Party/LwIP/src/core/tcp_out.c **** 
1425:Middlewares/Third_Party/LwIP/src/core/tcp_out.c **** /**
1426:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****  * Handle retransmission after three dupacks received
1427:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****  *
1428:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****  * @param pcb the tcp_pcb for which to retransmit the first unacked segment
1429:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****  */
1430:Middlewares/Third_Party/LwIP/src/core/tcp_out.c **** void
1431:Middlewares/Third_Party/LwIP/src/core/tcp_out.c **** tcp_rexmit_fast(struct tcp_pcb *pcb)
ARM GAS  C:\Users\Student\AppData\Local\Temp\cc218qF3.s 			page 71


1432:Middlewares/Third_Party/LwIP/src/core/tcp_out.c **** {
 2291              		.loc 1 1432 0
 2292              		.cfi_startproc
 2293              		@ args = 0, pretend = 0, frame = 0
 2294              		@ frame_needed = 0, uses_anonymous_args = 0
 2295              	.LVL287:
1433:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****   if (pcb->unacked != NULL && !(pcb->flags & TF_INFR)) {
 2296              		.loc 1 1433 0
 2297 0000 C36E     		ldr	r3, [r0, #108]
 2298 0002 1BB1     		cbz	r3, .L208
 2299              		.loc 1 1433 0 is_stmt 0 discriminator 1
 2300 0004 837E     		ldrb	r3, [r0, #26]	@ zero_extendqisi2
 2301 0006 13F0040F 		tst	r3, #4
 2302 000a 00D0     		beq	.L211
 2303              	.L208:
 2304 000c 7047     		bx	lr
 2305              	.L211:
1432:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****   if (pcb->unacked != NULL && !(pcb->flags & TF_INFR)) {
 2306              		.loc 1 1432 0 is_stmt 1
 2307 000e 10B5     		push	{r4, lr}
 2308              	.LCFI29:
 2309              		.cfi_def_cfa_offset 8
 2310              		.cfi_offset 4, -8
 2311              		.cfi_offset 14, -4
 2312 0010 0446     		mov	r4, r0
1434:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****     /* This is fast retransmit. Retransmit the first unacked segment. */
1435:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****     LWIP_DEBUGF(TCP_FR_DEBUG,
1436:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****                 ("tcp_receive: dupacks %"U16_F" (%"U32_F
1437:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****                  "), fast retransmit %"U32_F"\n",
1438:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****                  (u16_t)pcb->dupacks, pcb->lastack,
1439:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****                  lwip_ntohl(pcb->unacked->tcphdr->seqno)));
1440:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****     tcp_rexmit(pcb);
 2313              		.loc 1 1440 0
 2314 0012 FFF7FEFF 		bl	tcp_rexmit
 2315              	.LVL288:
1441:Middlewares/Third_Party/LwIP/src/core/tcp_out.c **** 
1442:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****     /* Set ssthresh to half of the minimum of the current
1443:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****      * cwnd and the advertised window */
1444:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****     if (pcb->cwnd > pcb->snd_wnd) {
 2316              		.loc 1 1444 0
 2317 0016 B4F84830 		ldrh	r3, [r4, #72]
 2318 001a B4F85C20 		ldrh	r2, [r4, #92]
 2319 001e 9342     		cmp	r3, r2
 2320 0020 1AD9     		bls	.L204
1445:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****       pcb->ssthresh = pcb->snd_wnd / 2;
 2321              		.loc 1 1445 0
 2322 0022 5208     		lsrs	r2, r2, #1
 2323 0024 A4F84A20 		strh	r2, [r4, #74]	@ movhi
 2324              	.L205:
1446:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****     } else {
1447:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****       pcb->ssthresh = pcb->cwnd / 2;
1448:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****     }
1449:Middlewares/Third_Party/LwIP/src/core/tcp_out.c **** 
1450:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****     /* The minimum value for ssthresh should be 2 MSS */
1451:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****     if (pcb->ssthresh < (2U * pcb->mss)) {
 2325              		.loc 1 1451 0
 2326 0028 B4F84A20 		ldrh	r2, [r4, #74]
ARM GAS  C:\Users\Student\AppData\Local\Temp\cc218qF3.s 			page 72


 2327 002c 638E     		ldrh	r3, [r4, #50]
 2328 002e B2EB430F 		cmp	r2, r3, lsl #1
 2329 0032 02D2     		bcs	.L206
1452:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****       LWIP_DEBUGF(TCP_FR_DEBUG,
1453:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****                   ("tcp_receive: The minimum value for ssthresh %"TCPWNDSIZE_F
1454:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****                    " should be min 2 mss %"U16_F"...\n",
1455:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****                    pcb->ssthresh, (u16_t)(2*pcb->mss)));
1456:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****       pcb->ssthresh = 2*pcb->mss;
 2330              		.loc 1 1456 0
 2331 0034 5A00     		lsls	r2, r3, #1
 2332 0036 A4F84A20 		strh	r2, [r4, #74]	@ movhi
 2333              	.L206:
1457:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****     }
1458:Middlewares/Third_Party/LwIP/src/core/tcp_out.c **** 
1459:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****     pcb->cwnd = pcb->ssthresh + 3 * pcb->mss;
 2334              		.loc 1 1459 0
 2335 003a B4F84A20 		ldrh	r2, [r4, #74]
 2336 003e 03EB4303 		add	r3, r3, r3, lsl #1
 2337 0042 12FA83F3 		uxtah	r3, r2, r3
 2338 0046 A4F84830 		strh	r3, [r4, #72]	@ movhi
1460:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****     pcb->flags |= TF_INFR;
 2339              		.loc 1 1460 0
 2340 004a A37E     		ldrb	r3, [r4, #26]	@ zero_extendqisi2
 2341 004c 43F00403 		orr	r3, r3, #4
 2342 0050 A376     		strb	r3, [r4, #26]
1461:Middlewares/Third_Party/LwIP/src/core/tcp_out.c **** 
1462:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****     /* Reset the retransmission timer to prevent immediate rto retransmissions */
1463:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****     pcb->rtime = 0;
 2343              		.loc 1 1463 0
 2344 0052 0023     		movs	r3, #0
 2345 0054 2386     		strh	r3, [r4, #48]	@ movhi
 2346 0056 10BD     		pop	{r4, pc}
 2347              	.LVL289:
 2348              	.L204:
1447:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****     }
 2349              		.loc 1 1447 0
 2350 0058 5B08     		lsrs	r3, r3, #1
 2351 005a A4F84A30 		strh	r3, [r4, #74]	@ movhi
 2352 005e E3E7     		b	.L205
 2353              		.cfi_endproc
 2354              	.LFE149:
 2356              		.section	.text.tcp_keepalive,"ax",%progbits
 2357              		.align	1
 2358              		.global	tcp_keepalive
 2359              		.syntax unified
 2360              		.thumb
 2361              		.thumb_func
 2362              		.fpu fpv5-sp-d16
 2364              	tcp_keepalive:
 2365              	.LFB150:
1464:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****   }
1465:Middlewares/Third_Party/LwIP/src/core/tcp_out.c **** }
1466:Middlewares/Third_Party/LwIP/src/core/tcp_out.c **** 
1467:Middlewares/Third_Party/LwIP/src/core/tcp_out.c **** 
1468:Middlewares/Third_Party/LwIP/src/core/tcp_out.c **** /**
1469:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****  * Send keepalive packets to keep a connection active although
1470:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****  * no data is sent over it.
ARM GAS  C:\Users\Student\AppData\Local\Temp\cc218qF3.s 			page 73


1471:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****  *
1472:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****  * Called by tcp_slowtmr()
1473:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****  *
1474:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****  * @param pcb the tcp_pcb for which to send a keepalive packet
1475:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****  */
1476:Middlewares/Third_Party/LwIP/src/core/tcp_out.c **** err_t
1477:Middlewares/Third_Party/LwIP/src/core/tcp_out.c **** tcp_keepalive(struct tcp_pcb *pcb)
1478:Middlewares/Third_Party/LwIP/src/core/tcp_out.c **** {
 2366              		.loc 1 1478 0
 2367              		.cfi_startproc
 2368              		@ args = 0, pretend = 0, frame = 0
 2369              		@ frame_needed = 0, uses_anonymous_args = 0
 2370              	.LVL290:
 2371 0000 70B5     		push	{r4, r5, r6, lr}
 2372              	.LCFI30:
 2373              		.cfi_def_cfa_offset 16
 2374              		.cfi_offset 4, -16
 2375              		.cfi_offset 5, -12
 2376              		.cfi_offset 6, -8
 2377              		.cfi_offset 14, -4
 2378 0002 84B0     		sub	sp, sp, #16
 2379              	.LCFI31:
 2380              		.cfi_def_cfa_offset 32
 2381 0004 0446     		mov	r4, r0
1479:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****   err_t err;
1480:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****   struct pbuf *p;
1481:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****   struct netif *netif;
1482:Middlewares/Third_Party/LwIP/src/core/tcp_out.c **** 
1483:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****   LWIP_DEBUGF(TCP_DEBUG, ("tcp_keepalive: sending KEEPALIVE probe to "));
1484:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****   ip_addr_debug_print(TCP_DEBUG, &pcb->remote_ip);
1485:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****   LWIP_DEBUGF(TCP_DEBUG, ("\n"));
1486:Middlewares/Third_Party/LwIP/src/core/tcp_out.c **** 
1487:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****   LWIP_DEBUGF(TCP_DEBUG, ("tcp_keepalive: tcp_ticks %"U32_F"   pcb->tmr %"U32_F" pcb->keep_cnt_sent
1488:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****                           tcp_ticks, pcb->tmr, (u16_t)pcb->keep_cnt_sent));
1489:Middlewares/Third_Party/LwIP/src/core/tcp_out.c **** 
1490:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****   p = tcp_output_alloc_header(pcb, 0, 0, lwip_htonl(pcb->snd_nxt - 1));
 2382              		.loc 1 1490 0
 2383 0006 C06C     		ldr	r0, [r0, #76]
 2384              	.LVL291:
 2385 0008 0138     		subs	r0, r0, #1
 2386 000a FFF7FEFF 		bl	lwip_htonl
 2387              	.LVL292:
 2388 000e 0346     		mov	r3, r0
 2389 0010 0022     		movs	r2, #0
 2390 0012 1146     		mov	r1, r2
 2391 0014 2046     		mov	r0, r4
 2392 0016 FFF7FEFF 		bl	tcp_output_alloc_header
 2393              	.LVL293:
1491:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****   if (p == NULL) {
 2394              		.loc 1 1491 0
 2395 001a D0B1     		cbz	r0, .L215
 2396 001c 0546     		mov	r5, r0
1492:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****     LWIP_DEBUGF(TCP_DEBUG,
1493:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****                 ("tcp_keepalive: could not allocate memory for pbuf\n"));
1494:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****     return ERR_MEM;
1495:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****   }
1496:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****   netif = ip_route(&pcb->local_ip, &pcb->remote_ip);
ARM GAS  C:\Users\Student\AppData\Local\Temp\cc218qF3.s 			page 74


 2397              		.loc 1 1496 0
 2398 001e 261D     		adds	r6, r4, #4
 2399 0020 3046     		mov	r0, r6
 2400              	.LVL294:
 2401 0022 FFF7FEFF 		bl	ip4_route
 2402              	.LVL295:
1497:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****   if (netif == NULL) {
 2403              		.loc 1 1497 0
 2404 0026 88B1     		cbz	r0, .L216
1498:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****     err = ERR_RTE;
1499:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****   } else {
1500:Middlewares/Third_Party/LwIP/src/core/tcp_out.c **** #if CHECKSUM_GEN_TCP
1501:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****     IF__NETIF_CHECKSUM_ENABLED(netif, NETIF_CHECKSUM_GEN_TCP) {
1502:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****       struct tcp_hdr *tcphdr = (struct tcp_hdr *)p->payload;
1503:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****       tcphdr->chksum = ip_chksum_pseudo(p, IP_PROTO_TCP, p->tot_len,
1504:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****         &pcb->local_ip, &pcb->remote_ip);
1505:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****     }
1506:Middlewares/Third_Party/LwIP/src/core/tcp_out.c **** #endif /* CHECKSUM_GEN_TCP */
1507:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****     TCP_STATS_INC(tcp.xmit);
1508:Middlewares/Third_Party/LwIP/src/core/tcp_out.c **** 
1509:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****     /* Send output to IP */
1510:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****     NETIF_SET_HWADDRHINT(netif, &(pcb->addr_hint));
1511:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****     err = ip_output_if(p, &pcb->local_ip, &pcb->remote_ip, pcb->ttl, 0, IP_PROTO_TCP, netif);
 2405              		.loc 1 1511 0
 2406 0028 A37A     		ldrb	r3, [r4, #10]	@ zero_extendqisi2
 2407 002a 0290     		str	r0, [sp, #8]
 2408 002c 0622     		movs	r2, #6
 2409 002e 0192     		str	r2, [sp, #4]
 2410 0030 0022     		movs	r2, #0
 2411 0032 0092     		str	r2, [sp]
 2412 0034 3246     		mov	r2, r6
 2413 0036 2146     		mov	r1, r4
 2414 0038 2846     		mov	r0, r5
 2415              	.LVL296:
 2416 003a FFF7FEFF 		bl	ip4_output_if
 2417              	.LVL297:
 2418 003e 0446     		mov	r4, r0
 2419              	.LVL298:
 2420              	.L214:
1512:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****     NETIF_SET_HWADDRHINT(netif, NULL);
1513:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****   }
1514:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****   pbuf_free(p);
 2421              		.loc 1 1514 0
 2422 0040 2846     		mov	r0, r5
 2423 0042 FFF7FEFF 		bl	pbuf_free
 2424              	.LVL299:
 2425              	.L213:
1515:Middlewares/Third_Party/LwIP/src/core/tcp_out.c **** 
1516:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****   LWIP_DEBUGF(TCP_DEBUG, ("tcp_keepalive: seqno %"U32_F" ackno %"U32_F" err %d.\n",
1517:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****                           pcb->snd_nxt - 1, pcb->rcv_nxt, (int)err));
1518:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****   return err;
1519:Middlewares/Third_Party/LwIP/src/core/tcp_out.c **** }
 2426              		.loc 1 1519 0
 2427 0046 2046     		mov	r0, r4
 2428 0048 04B0     		add	sp, sp, #16
 2429              	.LCFI32:
 2430              		.cfi_remember_state
ARM GAS  C:\Users\Student\AppData\Local\Temp\cc218qF3.s 			page 75


 2431              		.cfi_def_cfa_offset 16
 2432              		@ sp needed
 2433 004a 70BD     		pop	{r4, r5, r6, pc}
 2434              	.LVL300:
 2435              	.L216:
 2436              	.LCFI33:
 2437              		.cfi_restore_state
1498:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****   } else {
 2438              		.loc 1 1498 0
 2439 004c 6FF00304 		mvn	r4, #3
 2440              	.LVL301:
 2441 0050 F6E7     		b	.L214
 2442              	.LVL302:
 2443              	.L215:
1494:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****   }
 2444              		.loc 1 1494 0
 2445 0052 4FF0FF34 		mov	r4, #-1
 2446              	.LVL303:
 2447 0056 F6E7     		b	.L213
 2448              		.cfi_endproc
 2449              	.LFE150:
 2451              		.section	.text.tcp_zero_window_probe,"ax",%progbits
 2452              		.align	1
 2453              		.global	tcp_zero_window_probe
 2454              		.syntax unified
 2455              		.thumb
 2456              		.thumb_func
 2457              		.fpu fpv5-sp-d16
 2459              	tcp_zero_window_probe:
 2460              	.LFB151:
1520:Middlewares/Third_Party/LwIP/src/core/tcp_out.c **** 
1521:Middlewares/Third_Party/LwIP/src/core/tcp_out.c **** 
1522:Middlewares/Third_Party/LwIP/src/core/tcp_out.c **** /**
1523:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****  * Send persist timer zero-window probes to keep a connection active
1524:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****  * when a window update is lost.
1525:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****  *
1526:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****  * Called by tcp_slowtmr()
1527:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****  *
1528:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****  * @param pcb the tcp_pcb for which to send a zero-window probe packet
1529:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****  */
1530:Middlewares/Third_Party/LwIP/src/core/tcp_out.c **** err_t
1531:Middlewares/Third_Party/LwIP/src/core/tcp_out.c **** tcp_zero_window_probe(struct tcp_pcb *pcb)
1532:Middlewares/Third_Party/LwIP/src/core/tcp_out.c **** {
 2461              		.loc 1 1532 0
 2462              		.cfi_startproc
 2463              		@ args = 0, pretend = 0, frame = 0
 2464              		@ frame_needed = 0, uses_anonymous_args = 0
 2465              	.LVL304:
 2466 0000 2DE9F041 		push	{r4, r5, r6, r7, r8, lr}
 2467              	.LCFI34:
 2468              		.cfi_def_cfa_offset 24
 2469              		.cfi_offset 4, -24
 2470              		.cfi_offset 5, -20
 2471              		.cfi_offset 6, -16
 2472              		.cfi_offset 7, -12
 2473              		.cfi_offset 8, -8
 2474              		.cfi_offset 14, -4
ARM GAS  C:\Users\Student\AppData\Local\Temp\cc218qF3.s 			page 76


 2475 0004 84B0     		sub	sp, sp, #16
 2476              	.LCFI35:
 2477              		.cfi_def_cfa_offset 40
1533:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****   err_t err;
1534:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****   struct pbuf *p;
1535:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****   struct tcp_hdr *tcphdr;
1536:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****   struct tcp_seg *seg;
1537:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****   u16_t len;
1538:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****   u8_t is_fin;
1539:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****   u32_t snd_nxt;
1540:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****   struct netif *netif;
1541:Middlewares/Third_Party/LwIP/src/core/tcp_out.c **** 
1542:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****   LWIP_DEBUGF(TCP_DEBUG, ("tcp_zero_window_probe: sending ZERO WINDOW probe to "));
1543:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****   ip_addr_debug_print(TCP_DEBUG, &pcb->remote_ip);
1544:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****   LWIP_DEBUGF(TCP_DEBUG, ("\n"));
1545:Middlewares/Third_Party/LwIP/src/core/tcp_out.c **** 
1546:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****   LWIP_DEBUGF(TCP_DEBUG,
1547:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****               ("tcp_zero_window_probe: tcp_ticks %"U32_F
1548:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****                "   pcb->tmr %"U32_F" pcb->keep_cnt_sent %"U16_F"\n",
1549:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****                tcp_ticks, pcb->tmr, (u16_t)pcb->keep_cnt_sent));
1550:Middlewares/Third_Party/LwIP/src/core/tcp_out.c **** 
1551:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****   seg = pcb->unacked;
 2478              		.loc 1 1551 0
 2479 0006 C56E     		ldr	r5, [r0, #108]
 2480              	.LVL305:
1552:Middlewares/Third_Party/LwIP/src/core/tcp_out.c **** 
1553:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****   if (seg == NULL) {
 2481              		.loc 1 1553 0
 2482 0008 75B1     		cbz	r5, .L232
 2483              	.L219:
1554:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****     seg = pcb->unsent;
1555:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****   }
1556:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****   if (seg == NULL) {
 2484              		.loc 1 1556 0
 2485 000a 002D     		cmp	r5, #0
 2486 000c 5DD0     		beq	.L226
 2487 000e 0446     		mov	r4, r0
1557:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****     /* nothing to send, zero window probe not needed */
1558:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****     return ERR_OK;
1559:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****   }
1560:Middlewares/Third_Party/LwIP/src/core/tcp_out.c **** 
1561:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****   is_fin = ((TCPH_FLAGS(seg->tcphdr) & TCP_FIN) != 0) && (seg->len == 0);
 2488              		.loc 1 1561 0
 2489 0010 EB68     		ldr	r3, [r5, #12]
 2490 0012 9889     		ldrh	r0, [r3, #12]	@ unaligned
 2491              	.LVL306:
 2492 0014 FFF7FEFF 		bl	lwip_htons
 2493              	.LVL307:
 2494 0018 10F0010F 		tst	r0, #1
 2495 001c 06D0     		beq	.L227
 2496              		.loc 1 1561 0 is_stmt 0 discriminator 1
 2497 001e 2B89     		ldrh	r3, [r5, #8]
 2498 0020 002B     		cmp	r3, #0
 2499 0022 40D0     		beq	.L228
 2500              		.loc 1 1561 0
 2501 0024 0022     		movs	r2, #0
 2502 0026 02E0     		b	.L221
ARM GAS  C:\Users\Student\AppData\Local\Temp\cc218qF3.s 			page 77


 2503              	.LVL308:
 2504              	.L232:
1554:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****     seg = pcb->unsent;
 2505              		.loc 1 1554 0 is_stmt 1
 2506 0028 856E     		ldr	r5, [r0, #104]
 2507              	.LVL309:
 2508 002a EEE7     		b	.L219
 2509              	.LVL310:
 2510              	.L227:
 2511              		.loc 1 1561 0
 2512 002c 0022     		movs	r2, #0
 2513              	.L221:
 2514              	.LVL311:
1562:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****   /* we want to send one seqno: either FIN or data (no options) */
1563:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****   len = is_fin ? 0 : 1;
 2515              		.loc 1 1563 0 discriminator 6
 2516 002e 02F0FF06 		and	r6, r2, #255
 2517              	.LVL312:
1564:Middlewares/Third_Party/LwIP/src/core/tcp_out.c **** 
1565:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****   p = tcp_output_alloc_header(pcb, 0, len, seg->tcphdr->seqno);
 2518              		.loc 1 1565 0 discriminator 6
 2519 0032 EB68     		ldr	r3, [r5, #12]
 2520 0034 5B68     		ldr	r3, [r3, #4]	@ unaligned
 2521 0036 82F00102 		eor	r2, r2, #1
 2522              	.LVL313:
 2523 003a 0021     		movs	r1, #0
 2524 003c 2046     		mov	r0, r4
 2525 003e FFF7FEFF 		bl	tcp_output_alloc_header
 2526              	.LVL314:
1566:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****   if (p == NULL) {
 2527              		.loc 1 1566 0 discriminator 6
 2528 0042 0746     		mov	r7, r0
 2529 0044 0028     		cmp	r0, #0
 2530 0046 42D0     		beq	.L229
1567:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****     LWIP_DEBUGF(TCP_DEBUG, ("tcp_zero_window_probe: no memory for pbuf\n"));
1568:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****     return ERR_MEM;
1569:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****   }
1570:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****   tcphdr = (struct tcp_hdr *)p->payload;
 2531              		.loc 1 1570 0
 2532 0048 D0F80480 		ldr	r8, [r0, #4]
 2533              	.LVL315:
1571:Middlewares/Third_Party/LwIP/src/core/tcp_out.c **** 
1572:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****   if (is_fin) {
 2534              		.loc 1 1572 0
 2535 004c 6EB3     		cbz	r6, .L222
1573:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****     /* FIN segment, no data */
1574:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****     TCPH_FLAGS_SET(tcphdr, TCP_ACK | TCP_FIN);
 2536              		.loc 1 1574 0
 2537 004e B8F80C60 		ldrh	r6, [r8, #12]	@ unaligned
 2538 0052 26F47C56 		bic	r6, r6, #16128
 2539 0056 B6B2     		uxth	r6, r6
 2540 0058 1120     		movs	r0, #17
 2541              	.LVL316:
 2542 005a FFF7FEFF 		bl	lwip_htons
 2543              	.LVL317:
 2544 005e 3043     		orrs	r0, r0, r6
 2545 0060 A8F80C00 		strh	r0, [r8, #12]	@ unaligned
ARM GAS  C:\Users\Student\AppData\Local\Temp\cc218qF3.s 			page 78


 2546              	.L223:
1575:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****   } else {
1576:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****     /* Data segment, copy in one byte from the head of the unacked queue */
1577:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****     char *d = ((char *)p->payload + TCP_HLEN);
1578:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****     /* Depending on whether the segment has already been sent (unacked) or not
1579:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****        (unsent), seg->p->payload points to the IP header or TCP header.
1580:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****        Ensure we copy the first TCP data byte: */
1581:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****     pbuf_copy_partial(seg->p, d, 1, seg->p->tot_len - seg->len);
1582:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****   }
1583:Middlewares/Third_Party/LwIP/src/core/tcp_out.c **** 
1584:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****   /* The byte may be acknowledged without the window being opened. */
1585:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****   snd_nxt = lwip_ntohl(seg->tcphdr->seqno) + 1;
 2547              		.loc 1 1585 0
 2548 0064 EB68     		ldr	r3, [r5, #12]
 2549 0066 5868     		ldr	r0, [r3, #4]	@ unaligned
 2550 0068 FFF7FEFF 		bl	lwip_htonl
 2551              	.LVL318:
 2552 006c 0130     		adds	r0, r0, #1
 2553              	.LVL319:
1586:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****   if (TCP_SEQ_LT(pcb->snd_nxt, snd_nxt)) {
 2554              		.loc 1 1586 0
 2555 006e E36C     		ldr	r3, [r4, #76]
 2556 0070 1B1A     		subs	r3, r3, r0
 2557 0072 002B     		cmp	r3, #0
 2558 0074 24DB     		blt	.L233
 2559              	.L224:
1587:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****     pcb->snd_nxt = snd_nxt;
1588:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****   }
1589:Middlewares/Third_Party/LwIP/src/core/tcp_out.c **** 
1590:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****   netif = ip_route(&pcb->local_ip, &pcb->remote_ip);
 2560              		.loc 1 1590 0
 2561 0076 251D     		adds	r5, r4, #4
 2562              	.LVL320:
 2563 0078 2846     		mov	r0, r5
 2564              	.LVL321:
 2565 007a FFF7FEFF 		bl	ip4_route
 2566              	.LVL322:
1591:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****   if (netif == NULL) {
 2567              		.loc 1 1591 0
 2568 007e 08B3     		cbz	r0, .L230
1592:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****     err = ERR_RTE;
1593:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****   } else {
1594:Middlewares/Third_Party/LwIP/src/core/tcp_out.c **** #if CHECKSUM_GEN_TCP
1595:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****     IF__NETIF_CHECKSUM_ENABLED(netif, NETIF_CHECKSUM_GEN_TCP) {
1596:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****       tcphdr->chksum = ip_chksum_pseudo(p, IP_PROTO_TCP, p->tot_len,
1597:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****         &pcb->local_ip, &pcb->remote_ip);
1598:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****     }
1599:Middlewares/Third_Party/LwIP/src/core/tcp_out.c **** #endif
1600:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****     TCP_STATS_INC(tcp.xmit);
1601:Middlewares/Third_Party/LwIP/src/core/tcp_out.c **** 
1602:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****     /* Send output to IP */
1603:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****     NETIF_SET_HWADDRHINT(netif, &(pcb->addr_hint));
1604:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****     err = ip_output_if(p, &pcb->local_ip, &pcb->remote_ip, pcb->ttl,
 2569              		.loc 1 1604 0
 2570 0080 A37A     		ldrb	r3, [r4, #10]	@ zero_extendqisi2
 2571 0082 0290     		str	r0, [sp, #8]
 2572 0084 0622     		movs	r2, #6
ARM GAS  C:\Users\Student\AppData\Local\Temp\cc218qF3.s 			page 79


 2573 0086 0192     		str	r2, [sp, #4]
 2574 0088 0022     		movs	r2, #0
 2575 008a 0092     		str	r2, [sp]
 2576 008c 2A46     		mov	r2, r5
 2577 008e 2146     		mov	r1, r4
 2578 0090 3846     		mov	r0, r7
 2579              	.LVL323:
 2580 0092 FFF7FEFF 		bl	ip4_output_if
 2581              	.LVL324:
 2582 0096 0446     		mov	r4, r0
 2583              	.LVL325:
 2584              	.L225:
1605:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****       0, IP_PROTO_TCP, netif);
1606:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****     NETIF_SET_HWADDRHINT(netif, NULL);
1607:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****   }
1608:Middlewares/Third_Party/LwIP/src/core/tcp_out.c **** 
1609:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****   pbuf_free(p);
 2585              		.loc 1 1609 0
 2586 0098 3846     		mov	r0, r7
 2587 009a FFF7FEFF 		bl	pbuf_free
 2588              	.LVL326:
 2589              	.L220:
1610:Middlewares/Third_Party/LwIP/src/core/tcp_out.c **** 
1611:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****   LWIP_DEBUGF(TCP_DEBUG, ("tcp_zero_window_probe: seqno %"U32_F
1612:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****                           " ackno %"U32_F" err %d.\n",
1613:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****                           pcb->snd_nxt - 1, pcb->rcv_nxt, (int)err));
1614:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****   return err;
1615:Middlewares/Third_Party/LwIP/src/core/tcp_out.c **** }
 2590              		.loc 1 1615 0
 2591 009e 2046     		mov	r0, r4
 2592 00a0 04B0     		add	sp, sp, #16
 2593              	.LCFI36:
 2594              		.cfi_remember_state
 2595              		.cfi_def_cfa_offset 24
 2596              		@ sp needed
 2597 00a2 BDE8F081 		pop	{r4, r5, r6, r7, r8, pc}
 2598              	.LVL327:
 2599              	.L228:
 2600              	.LCFI37:
 2601              		.cfi_restore_state
1561:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****   /* we want to send one seqno: either FIN or data (no options) */
 2602              		.loc 1 1561 0
 2603 00a6 0122     		movs	r2, #1
 2604 00a8 C1E7     		b	.L221
 2605              	.LVL328:
 2606              	.L222:
 2607              	.LBB22:
1581:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****   }
 2608              		.loc 1 1581 0
 2609 00aa 6868     		ldr	r0, [r5, #4]
 2610              	.LVL329:
 2611 00ac 0389     		ldrh	r3, [r0, #8]
 2612 00ae 2A89     		ldrh	r2, [r5, #8]
 2613 00b0 9B1A     		subs	r3, r3, r2
 2614 00b2 9BB2     		uxth	r3, r3
 2615 00b4 0122     		movs	r2, #1
 2616 00b6 08F11401 		add	r1, r8, #20
ARM GAS  C:\Users\Student\AppData\Local\Temp\cc218qF3.s 			page 80


 2617              	.LVL330:
 2618 00ba FFF7FEFF 		bl	pbuf_copy_partial
 2619              	.LVL331:
 2620 00be D1E7     		b	.L223
 2621              	.LVL332:
 2622              	.L233:
 2623              	.LBE22:
1587:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****   }
 2624              		.loc 1 1587 0
 2625 00c0 E064     		str	r0, [r4, #76]
 2626 00c2 D8E7     		b	.L224
 2627              	.LVL333:
 2628              	.L230:
1592:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****   } else {
 2629              		.loc 1 1592 0
 2630 00c4 6FF00304 		mvn	r4, #3
 2631              	.LVL334:
 2632 00c8 E6E7     		b	.L225
 2633              	.LVL335:
 2634              	.L226:
1558:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****   }
 2635              		.loc 1 1558 0
 2636 00ca 0024     		movs	r4, #0
 2637 00cc E7E7     		b	.L220
 2638              	.LVL336:
 2639              	.L229:
1568:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****   }
 2640              		.loc 1 1568 0
 2641 00ce 4FF0FF34 		mov	r4, #-1
 2642              	.LVL337:
 2643 00d2 E4E7     		b	.L220
 2644              		.cfi_endproc
 2645              	.LFE151:
 2647              		.text
 2648              	.Letext0:
 2649              		.file 2 "c:\\gcc_toolchain\\6_2017-q1-update\\arm-none-eabi\\include\\machine\\_default_types.h"
 2650              		.file 3 "c:\\gcc_toolchain\\6_2017-q1-update\\arm-none-eabi\\include\\sys\\_stdint.h"
 2651              		.file 4 "Drivers/CMSIS/Include/core_cm7.h"
 2652              		.file 5 "Drivers/CMSIS/Device/ST/STM32F7xx/Include/system_stm32f7xx.h"
 2653              		.file 6 "c:\\gcc_toolchain\\6_2017-q1-update\\arm-none-eabi\\include\\sys\\lock.h"
 2654              		.file 7 "c:\\gcc_toolchain\\6_2017-q1-update\\arm-none-eabi\\include\\sys\\_types.h"
 2655              		.file 8 "c:\\gcc_toolchain\\6_2017-q1-update\\lib\\gcc\\arm-none-eabi\\6.3.1\\include\\stddef.h"
 2656              		.file 9 "c:\\gcc_toolchain\\6_2017-q1-update\\arm-none-eabi\\include\\sys\\reent.h"
 2657              		.file 10 "c:\\gcc_toolchain\\6_2017-q1-update\\arm-none-eabi\\include\\stdlib.h"
 2658              		.file 11 "Middlewares/Third_Party/LwIP/src/include/lwip/arch.h"
 2659              		.file 12 "Middlewares/Third_Party/LwIP/src/include/lwip/err.h"
 2660              		.file 13 "Middlewares/Third_Party/LwIP/src/include/lwip/pbuf.h"
 2661              		.file 14 "Middlewares/Third_Party/LwIP/src/include/lwip/ip4_addr.h"
 2662              		.file 15 "Middlewares/Third_Party/LwIP/src/include/lwip/ip_addr.h"
 2663              		.file 16 "Middlewares/Third_Party/LwIP/src/include/lwip/memp.h"
 2664              		.file 17 "Middlewares/Third_Party/LwIP/src/include/lwip/priv/memp_priv.h"
 2665              		.file 18 "Middlewares/Third_Party/LwIP/src/include/lwip/netif.h"
 2666              		.file 19 "Middlewares/Third_Party/LwIP/src/include/lwip/prot/ip4.h"
 2667              		.file 20 "Middlewares/Third_Party/LwIP/src/include/lwip/ip.h"
 2668              		.file 21 "Middlewares/Third_Party/LwIP/src/include/lwip/tcp.h"
 2669              		.file 22 "Middlewares/Third_Party/LwIP/src/include/lwip/priv/tcp_priv.h"
 2670              		.file 23 "Middlewares/Third_Party/LwIP/src/include/lwip/prot/tcp.h"
ARM GAS  C:\Users\Student\AppData\Local\Temp\cc218qF3.s 			page 81


 2671              		.file 24 "Middlewares/Third_Party/LwIP/src/include/lwip/def.h"
 2672              		.file 25 "Middlewares/Third_Party/LwIP/src/include/lwip/ip4.h"
ARM GAS  C:\Users\Student\AppData\Local\Temp\cc218qF3.s 			page 82


DEFINED SYMBOLS
                            *ABS*:00000000 tcp_out.c
C:\Users\Student\AppData\Local\Temp\cc218qF3.s:18     .text.tcp_write_checks:00000000 $t
C:\Users\Student\AppData\Local\Temp\cc218qF3.s:24     .text.tcp_write_checks:00000000 tcp_write_checks
C:\Users\Student\AppData\Local\Temp\cc218qF3.s:97     .text.tcp_pbuf_prealloc:00000000 $t
C:\Users\Student\AppData\Local\Temp\cc218qF3.s:103    .text.tcp_pbuf_prealloc:00000000 tcp_pbuf_prealloc
C:\Users\Student\AppData\Local\Temp\cc218qF3.s:190    .text.tcp_create_segment:00000000 $t
C:\Users\Student\AppData\Local\Temp\cc218qF3.s:196    .text.tcp_create_segment:00000000 tcp_create_segment
C:\Users\Student\AppData\Local\Temp\cc218qF3.s:320    .text.tcp_output_alloc_header:00000000 $t
C:\Users\Student\AppData\Local\Temp\cc218qF3.s:326    .text.tcp_output_alloc_header:00000000 tcp_output_alloc_header
C:\Users\Student\AppData\Local\Temp\cc218qF3.s:416    .text.tcp_output_segment:00000000 $t
C:\Users\Student\AppData\Local\Temp\cc218qF3.s:422    .text.tcp_output_segment:00000000 tcp_output_segment
C:\Users\Student\AppData\Local\Temp\cc218qF3.s:577    .text.tcp_output_segment:000000b8 $d
C:\Users\Student\AppData\Local\Temp\cc218qF3.s:582    .text.tcp_write:00000000 $t
C:\Users\Student\AppData\Local\Temp\cc218qF3.s:589    .text.tcp_write:00000000 tcp_write
C:\Users\Student\AppData\Local\Temp\cc218qF3.s:1201   .text.tcp_enqueue_flags:00000000 $t
C:\Users\Student\AppData\Local\Temp\cc218qF3.s:1208   .text.tcp_enqueue_flags:00000000 tcp_enqueue_flags
C:\Users\Student\AppData\Local\Temp\cc218qF3.s:1372   .text.tcp_send_fin:00000000 $t
C:\Users\Student\AppData\Local\Temp\cc218qF3.s:1379   .text.tcp_send_fin:00000000 tcp_send_fin
C:\Users\Student\AppData\Local\Temp\cc218qF3.s:1451   .text.tcp_send_empty_ack:00000000 $t
C:\Users\Student\AppData\Local\Temp\cc218qF3.s:1458   .text.tcp_send_empty_ack:00000000 tcp_send_empty_ack
C:\Users\Student\AppData\Local\Temp\cc218qF3.s:1562   .text.tcp_output:00000000 $t
C:\Users\Student\AppData\Local\Temp\cc218qF3.s:1569   .text.tcp_output:00000000 tcp_output
C:\Users\Student\AppData\Local\Temp\cc218qF3.s:2001   .text.tcp_output:00000230 $d
C:\Users\Student\AppData\Local\Temp\cc218qF3.s:2007   .text.tcp_rst:00000000 $t
C:\Users\Student\AppData\Local\Temp\cc218qF3.s:2014   .text.tcp_rst:00000000 tcp_rst
C:\Users\Student\AppData\Local\Temp\cc218qF3.s:2126   .text.tcp_rexmit_rto:00000000 $t
C:\Users\Student\AppData\Local\Temp\cc218qF3.s:2133   .text.tcp_rexmit_rto:00000000 tcp_rexmit_rto
C:\Users\Student\AppData\Local\Temp\cc218qF3.s:2194   .text.tcp_rexmit:00000000 $t
C:\Users\Student\AppData\Local\Temp\cc218qF3.s:2201   .text.tcp_rexmit:00000000 tcp_rexmit
C:\Users\Student\AppData\Local\Temp\cc218qF3.s:2282   .text.tcp_rexmit_fast:00000000 $t
C:\Users\Student\AppData\Local\Temp\cc218qF3.s:2289   .text.tcp_rexmit_fast:00000000 tcp_rexmit_fast
C:\Users\Student\AppData\Local\Temp\cc218qF3.s:2357   .text.tcp_keepalive:00000000 $t
C:\Users\Student\AppData\Local\Temp\cc218qF3.s:2364   .text.tcp_keepalive:00000000 tcp_keepalive
C:\Users\Student\AppData\Local\Temp\cc218qF3.s:2452   .text.tcp_zero_window_probe:00000000 $t
C:\Users\Student\AppData\Local\Temp\cc218qF3.s:2459   .text.tcp_zero_window_probe:00000000 tcp_zero_window_probe
                     .debug_frame:00000010 $d

UNDEFINED SYMBOLS
pbuf_alloc
memp_malloc
pbuf_header
lwip_htons
lwip_htonl
pbuf_free
tcp_seg_free
ip4_output_if
tcp_eff_send_mss_impl
tcp_ticks
memcpy
pbuf_clen
pbuf_cat
tcp_segs_free
ip4_route
tcp_input_pcb
pbuf_copy_partial
