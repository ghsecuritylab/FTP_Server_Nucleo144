ARM GAS  C:\Users\Student\AppData\Local\Temp\ccY4weUp.s 			page 1


   1              		.cpu cortex-m7
   2              		.eabi_attribute 27, 1
   3              		.eabi_attribute 28, 1
   4              		.eabi_attribute 20, 1
   5              		.eabi_attribute 21, 1
   6              		.eabi_attribute 23, 3
   7              		.eabi_attribute 24, 1
   8              		.eabi_attribute 25, 1
   9              		.eabi_attribute 26, 1
  10              		.eabi_attribute 30, 1
  11              		.eabi_attribute 34, 1
  12              		.eabi_attribute 18, 4
  13              		.file	"tcp.c"
  14              		.text
  15              	.Ltext0:
  16              		.cfi_sections	.debug_frame
  17              		.section	.text.tcp_remove_listener,"ax",%progbits
  18              		.align	1
  19              		.syntax unified
  20              		.thumb
  21              		.thumb_func
  22              		.fpu fpv5-sp-d16
  24              	tcp_remove_listener:
  25              	.LFB138:
  26              		.file 1 "Middlewares/Third_Party/LwIP/src/core/tcp.c"
   1:Middlewares/Third_Party/LwIP/src/core/tcp.c **** /**
   2:Middlewares/Third_Party/LwIP/src/core/tcp.c ****  * @file 
   3:Middlewares/Third_Party/LwIP/src/core/tcp.c ****  * Transmission Control Protocol for IP
   4:Middlewares/Third_Party/LwIP/src/core/tcp.c ****  * See also @ref tcp_raw
   5:Middlewares/Third_Party/LwIP/src/core/tcp.c ****  *
   6:Middlewares/Third_Party/LwIP/src/core/tcp.c ****  * @defgroup tcp_raw TCP
   7:Middlewares/Third_Party/LwIP/src/core/tcp.c ****  * @ingroup callbackstyle_api
   8:Middlewares/Third_Party/LwIP/src/core/tcp.c ****  * Transmission Control Protocol for IP\n
   9:Middlewares/Third_Party/LwIP/src/core/tcp.c ****  * @see @ref raw_api and @ref netconn
  10:Middlewares/Third_Party/LwIP/src/core/tcp.c ****  *
  11:Middlewares/Third_Party/LwIP/src/core/tcp.c ****  * Common functions for the TCP implementation, such as functinos
  12:Middlewares/Third_Party/LwIP/src/core/tcp.c ****  * for manipulating the data structures and the TCP timer functions. TCP functions
  13:Middlewares/Third_Party/LwIP/src/core/tcp.c ****  * related to input and output is found in tcp_in.c and tcp_out.c respectively.\n
  14:Middlewares/Third_Party/LwIP/src/core/tcp.c ****  */
  15:Middlewares/Third_Party/LwIP/src/core/tcp.c **** 
  16:Middlewares/Third_Party/LwIP/src/core/tcp.c **** /*
  17:Middlewares/Third_Party/LwIP/src/core/tcp.c ****  * Copyright (c) 2001-2004 Swedish Institute of Computer Science.
  18:Middlewares/Third_Party/LwIP/src/core/tcp.c ****  * All rights reserved.
  19:Middlewares/Third_Party/LwIP/src/core/tcp.c ****  *
  20:Middlewares/Third_Party/LwIP/src/core/tcp.c ****  * Redistribution and use in source and binary forms, with or without modification,
  21:Middlewares/Third_Party/LwIP/src/core/tcp.c ****  * are permitted provided that the following conditions are met:
  22:Middlewares/Third_Party/LwIP/src/core/tcp.c ****  *
  23:Middlewares/Third_Party/LwIP/src/core/tcp.c ****  * 1. Redistributions of source code must retain the above copyright notice,
  24:Middlewares/Third_Party/LwIP/src/core/tcp.c ****  *    this list of conditions and the following disclaimer.
  25:Middlewares/Third_Party/LwIP/src/core/tcp.c ****  * 2. Redistributions in binary form must reproduce the above copyright notice,
  26:Middlewares/Third_Party/LwIP/src/core/tcp.c ****  *    this list of conditions and the following disclaimer in the documentation
  27:Middlewares/Third_Party/LwIP/src/core/tcp.c ****  *    and/or other materials provided with the distribution.
  28:Middlewares/Third_Party/LwIP/src/core/tcp.c ****  * 3. The name of the author may not be used to endorse or promote products
  29:Middlewares/Third_Party/LwIP/src/core/tcp.c ****  *    derived from this software without specific prior written permission.
  30:Middlewares/Third_Party/LwIP/src/core/tcp.c ****  *
  31:Middlewares/Third_Party/LwIP/src/core/tcp.c ****  * THIS SOFTWARE IS PROVIDED BY THE AUTHOR ``AS IS'' AND ANY EXPRESS OR IMPLIED
  32:Middlewares/Third_Party/LwIP/src/core/tcp.c ****  * WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED WARRANTIES OF
ARM GAS  C:\Users\Student\AppData\Local\Temp\ccY4weUp.s 			page 2


  33:Middlewares/Third_Party/LwIP/src/core/tcp.c ****  * MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE DISCLAIMED. IN NO EVENT
  34:Middlewares/Third_Party/LwIP/src/core/tcp.c ****  * SHALL THE AUTHOR BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL,
  35:Middlewares/Third_Party/LwIP/src/core/tcp.c ****  * EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT
  36:Middlewares/Third_Party/LwIP/src/core/tcp.c ****  * OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS
  37:Middlewares/Third_Party/LwIP/src/core/tcp.c ****  * INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN
  38:Middlewares/Third_Party/LwIP/src/core/tcp.c ****  * CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING
  39:Middlewares/Third_Party/LwIP/src/core/tcp.c ****  * IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY
  40:Middlewares/Third_Party/LwIP/src/core/tcp.c ****  * OF SUCH DAMAGE.
  41:Middlewares/Third_Party/LwIP/src/core/tcp.c ****  *
  42:Middlewares/Third_Party/LwIP/src/core/tcp.c ****  * This file is part of the lwIP TCP/IP stack.
  43:Middlewares/Third_Party/LwIP/src/core/tcp.c ****  *
  44:Middlewares/Third_Party/LwIP/src/core/tcp.c ****  * Author: Adam Dunkels <adam@sics.se>
  45:Middlewares/Third_Party/LwIP/src/core/tcp.c ****  *
  46:Middlewares/Third_Party/LwIP/src/core/tcp.c ****  */
  47:Middlewares/Third_Party/LwIP/src/core/tcp.c **** 
  48:Middlewares/Third_Party/LwIP/src/core/tcp.c **** #include "lwip/opt.h"
  49:Middlewares/Third_Party/LwIP/src/core/tcp.c **** 
  50:Middlewares/Third_Party/LwIP/src/core/tcp.c **** #if LWIP_TCP /* don't build if not configured for use in lwipopts.h */
  51:Middlewares/Third_Party/LwIP/src/core/tcp.c **** 
  52:Middlewares/Third_Party/LwIP/src/core/tcp.c **** #include "lwip/def.h"
  53:Middlewares/Third_Party/LwIP/src/core/tcp.c **** #include "lwip/mem.h"
  54:Middlewares/Third_Party/LwIP/src/core/tcp.c **** #include "lwip/memp.h"
  55:Middlewares/Third_Party/LwIP/src/core/tcp.c **** #include "lwip/tcp.h"
  56:Middlewares/Third_Party/LwIP/src/core/tcp.c **** #include "lwip/priv/tcp_priv.h"
  57:Middlewares/Third_Party/LwIP/src/core/tcp.c **** #include "lwip/debug.h"
  58:Middlewares/Third_Party/LwIP/src/core/tcp.c **** #include "lwip/stats.h"
  59:Middlewares/Third_Party/LwIP/src/core/tcp.c **** #include "lwip/ip6.h"
  60:Middlewares/Third_Party/LwIP/src/core/tcp.c **** #include "lwip/ip6_addr.h"
  61:Middlewares/Third_Party/LwIP/src/core/tcp.c **** #include "lwip/nd6.h"
  62:Middlewares/Third_Party/LwIP/src/core/tcp.c **** 
  63:Middlewares/Third_Party/LwIP/src/core/tcp.c **** #include <string.h>
  64:Middlewares/Third_Party/LwIP/src/core/tcp.c **** 
  65:Middlewares/Third_Party/LwIP/src/core/tcp.c **** #ifndef TCP_LOCAL_PORT_RANGE_START
  66:Middlewares/Third_Party/LwIP/src/core/tcp.c **** /* From http://www.iana.org/assignments/port-numbers:
  67:Middlewares/Third_Party/LwIP/src/core/tcp.c ****    "The Dynamic and/or Private Ports are those from 49152 through 65535" */
  68:Middlewares/Third_Party/LwIP/src/core/tcp.c **** #define TCP_LOCAL_PORT_RANGE_START        0xc000
  69:Middlewares/Third_Party/LwIP/src/core/tcp.c **** #define TCP_LOCAL_PORT_RANGE_END          0xffff
  70:Middlewares/Third_Party/LwIP/src/core/tcp.c **** #define TCP_ENSURE_LOCAL_PORT_RANGE(port) ((u16_t)(((port) & ~TCP_LOCAL_PORT_RANGE_START) + TCP_LOC
  71:Middlewares/Third_Party/LwIP/src/core/tcp.c **** #endif
  72:Middlewares/Third_Party/LwIP/src/core/tcp.c **** 
  73:Middlewares/Third_Party/LwIP/src/core/tcp.c **** #if LWIP_TCP_KEEPALIVE
  74:Middlewares/Third_Party/LwIP/src/core/tcp.c **** #define TCP_KEEP_DUR(pcb)   ((pcb)->keep_cnt * (pcb)->keep_intvl)
  75:Middlewares/Third_Party/LwIP/src/core/tcp.c **** #define TCP_KEEP_INTVL(pcb) ((pcb)->keep_intvl)
  76:Middlewares/Third_Party/LwIP/src/core/tcp.c **** #else /* LWIP_TCP_KEEPALIVE */
  77:Middlewares/Third_Party/LwIP/src/core/tcp.c **** #define TCP_KEEP_DUR(pcb)   TCP_MAXIDLE
  78:Middlewares/Third_Party/LwIP/src/core/tcp.c **** #define TCP_KEEP_INTVL(pcb) TCP_KEEPINTVL_DEFAULT
  79:Middlewares/Third_Party/LwIP/src/core/tcp.c **** #endif /* LWIP_TCP_KEEPALIVE */
  80:Middlewares/Third_Party/LwIP/src/core/tcp.c **** 
  81:Middlewares/Third_Party/LwIP/src/core/tcp.c **** /* As initial send MSS, we use TCP_MSS but limit it to 536. */
  82:Middlewares/Third_Party/LwIP/src/core/tcp.c **** #if TCP_MSS > 536
  83:Middlewares/Third_Party/LwIP/src/core/tcp.c **** #define INITIAL_MSS 536
  84:Middlewares/Third_Party/LwIP/src/core/tcp.c **** #else
  85:Middlewares/Third_Party/LwIP/src/core/tcp.c **** #define INITIAL_MSS TCP_MSS
  86:Middlewares/Third_Party/LwIP/src/core/tcp.c **** #endif
  87:Middlewares/Third_Party/LwIP/src/core/tcp.c **** 
  88:Middlewares/Third_Party/LwIP/src/core/tcp.c **** static const char * const tcp_state_str[] = {
  89:Middlewares/Third_Party/LwIP/src/core/tcp.c ****   "CLOSED",
ARM GAS  C:\Users\Student\AppData\Local\Temp\ccY4weUp.s 			page 3


  90:Middlewares/Third_Party/LwIP/src/core/tcp.c ****   "LISTEN",
  91:Middlewares/Third_Party/LwIP/src/core/tcp.c ****   "SYN_SENT",
  92:Middlewares/Third_Party/LwIP/src/core/tcp.c ****   "SYN_RCVD",
  93:Middlewares/Third_Party/LwIP/src/core/tcp.c ****   "ESTABLISHED",
  94:Middlewares/Third_Party/LwIP/src/core/tcp.c ****   "FIN_WAIT_1",
  95:Middlewares/Third_Party/LwIP/src/core/tcp.c ****   "FIN_WAIT_2",
  96:Middlewares/Third_Party/LwIP/src/core/tcp.c ****   "CLOSE_WAIT",
  97:Middlewares/Third_Party/LwIP/src/core/tcp.c ****   "CLOSING",
  98:Middlewares/Third_Party/LwIP/src/core/tcp.c ****   "LAST_ACK",
  99:Middlewares/Third_Party/LwIP/src/core/tcp.c ****   "TIME_WAIT"
 100:Middlewares/Third_Party/LwIP/src/core/tcp.c **** };
 101:Middlewares/Third_Party/LwIP/src/core/tcp.c **** 
 102:Middlewares/Third_Party/LwIP/src/core/tcp.c **** /* last local TCP port */
 103:Middlewares/Third_Party/LwIP/src/core/tcp.c **** static u16_t tcp_port = TCP_LOCAL_PORT_RANGE_START;
 104:Middlewares/Third_Party/LwIP/src/core/tcp.c **** 
 105:Middlewares/Third_Party/LwIP/src/core/tcp.c **** /* Incremented every coarse grained timer shot (typically every 500 ms). */
 106:Middlewares/Third_Party/LwIP/src/core/tcp.c **** u32_t tcp_ticks;
 107:Middlewares/Third_Party/LwIP/src/core/tcp.c **** static const u8_t tcp_backoff[13] =
 108:Middlewares/Third_Party/LwIP/src/core/tcp.c ****     { 1, 2, 3, 4, 5, 6, 7, 7, 7, 7, 7, 7, 7};
 109:Middlewares/Third_Party/LwIP/src/core/tcp.c ****  /* Times per slowtmr hits */
 110:Middlewares/Third_Party/LwIP/src/core/tcp.c **** static const u8_t tcp_persist_backoff[7] = { 3, 6, 12, 24, 48, 96, 120 };
 111:Middlewares/Third_Party/LwIP/src/core/tcp.c **** 
 112:Middlewares/Third_Party/LwIP/src/core/tcp.c **** /* The TCP PCB lists. */
 113:Middlewares/Third_Party/LwIP/src/core/tcp.c **** 
 114:Middlewares/Third_Party/LwIP/src/core/tcp.c **** /** List of all TCP PCBs bound but not yet (connected || listening) */
 115:Middlewares/Third_Party/LwIP/src/core/tcp.c **** struct tcp_pcb *tcp_bound_pcbs;
 116:Middlewares/Third_Party/LwIP/src/core/tcp.c **** /** List of all TCP PCBs in LISTEN state */
 117:Middlewares/Third_Party/LwIP/src/core/tcp.c **** union tcp_listen_pcbs_t tcp_listen_pcbs;
 118:Middlewares/Third_Party/LwIP/src/core/tcp.c **** /** List of all TCP PCBs that are in a state in which
 119:Middlewares/Third_Party/LwIP/src/core/tcp.c ****  * they accept or send data. */
 120:Middlewares/Third_Party/LwIP/src/core/tcp.c **** struct tcp_pcb *tcp_active_pcbs;
 121:Middlewares/Third_Party/LwIP/src/core/tcp.c **** /** List of all TCP PCBs in TIME-WAIT state */
 122:Middlewares/Third_Party/LwIP/src/core/tcp.c **** struct tcp_pcb *tcp_tw_pcbs;
 123:Middlewares/Third_Party/LwIP/src/core/tcp.c **** 
 124:Middlewares/Third_Party/LwIP/src/core/tcp.c **** /** An array with all (non-temporary) PCB lists, mainly used for smaller code size */
 125:Middlewares/Third_Party/LwIP/src/core/tcp.c **** struct tcp_pcb ** const tcp_pcb_lists[] = {&tcp_listen_pcbs.pcbs, &tcp_bound_pcbs,
 126:Middlewares/Third_Party/LwIP/src/core/tcp.c ****   &tcp_active_pcbs, &tcp_tw_pcbs};
 127:Middlewares/Third_Party/LwIP/src/core/tcp.c **** 
 128:Middlewares/Third_Party/LwIP/src/core/tcp.c **** u8_t tcp_active_pcbs_changed;
 129:Middlewares/Third_Party/LwIP/src/core/tcp.c **** 
 130:Middlewares/Third_Party/LwIP/src/core/tcp.c **** /** Timer counter to handle calling slow-timer from tcp_tmr() */
 131:Middlewares/Third_Party/LwIP/src/core/tcp.c **** static u8_t tcp_timer;
 132:Middlewares/Third_Party/LwIP/src/core/tcp.c **** static u8_t tcp_timer_ctr;
 133:Middlewares/Third_Party/LwIP/src/core/tcp.c **** static u16_t tcp_new_port(void);
 134:Middlewares/Third_Party/LwIP/src/core/tcp.c **** 
 135:Middlewares/Third_Party/LwIP/src/core/tcp.c **** /**
 136:Middlewares/Third_Party/LwIP/src/core/tcp.c ****  * Initialize this module.
 137:Middlewares/Third_Party/LwIP/src/core/tcp.c ****  */
 138:Middlewares/Third_Party/LwIP/src/core/tcp.c **** void
 139:Middlewares/Third_Party/LwIP/src/core/tcp.c **** tcp_init(void)
 140:Middlewares/Third_Party/LwIP/src/core/tcp.c **** {
 141:Middlewares/Third_Party/LwIP/src/core/tcp.c **** #if LWIP_RANDOMIZE_INITIAL_LOCAL_PORTS && defined(LWIP_RAND)
 142:Middlewares/Third_Party/LwIP/src/core/tcp.c ****   tcp_port = TCP_ENSURE_LOCAL_PORT_RANGE(LWIP_RAND());
 143:Middlewares/Third_Party/LwIP/src/core/tcp.c **** #endif /* LWIP_RANDOMIZE_INITIAL_LOCAL_PORTS && defined(LWIP_RAND) */
 144:Middlewares/Third_Party/LwIP/src/core/tcp.c **** }
 145:Middlewares/Third_Party/LwIP/src/core/tcp.c **** 
 146:Middlewares/Third_Party/LwIP/src/core/tcp.c **** /**
ARM GAS  C:\Users\Student\AppData\Local\Temp\ccY4weUp.s 			page 4


 147:Middlewares/Third_Party/LwIP/src/core/tcp.c ****  * Called periodically to dispatch TCP timers.
 148:Middlewares/Third_Party/LwIP/src/core/tcp.c ****  */
 149:Middlewares/Third_Party/LwIP/src/core/tcp.c **** void
 150:Middlewares/Third_Party/LwIP/src/core/tcp.c **** tcp_tmr(void)
 151:Middlewares/Third_Party/LwIP/src/core/tcp.c **** {
 152:Middlewares/Third_Party/LwIP/src/core/tcp.c ****   /* Call tcp_fasttmr() every 250 ms */
 153:Middlewares/Third_Party/LwIP/src/core/tcp.c ****   tcp_fasttmr();
 154:Middlewares/Third_Party/LwIP/src/core/tcp.c **** 
 155:Middlewares/Third_Party/LwIP/src/core/tcp.c ****   if (++tcp_timer & 1) {
 156:Middlewares/Third_Party/LwIP/src/core/tcp.c ****     /* Call tcp_slowtmr() every 500 ms, i.e., every other timer
 157:Middlewares/Third_Party/LwIP/src/core/tcp.c ****        tcp_tmr() is called. */
 158:Middlewares/Third_Party/LwIP/src/core/tcp.c ****     tcp_slowtmr();
 159:Middlewares/Third_Party/LwIP/src/core/tcp.c ****   }
 160:Middlewares/Third_Party/LwIP/src/core/tcp.c **** }
 161:Middlewares/Third_Party/LwIP/src/core/tcp.c **** 
 162:Middlewares/Third_Party/LwIP/src/core/tcp.c **** #if LWIP_CALLBACK_API || TCP_LISTEN_BACKLOG
 163:Middlewares/Third_Party/LwIP/src/core/tcp.c **** /** Called when a listen pcb is closed. Iterates one pcb list and removes the
 164:Middlewares/Third_Party/LwIP/src/core/tcp.c ****  * closed listener pcb from pcb->listener if matching.
 165:Middlewares/Third_Party/LwIP/src/core/tcp.c ****  */
 166:Middlewares/Third_Party/LwIP/src/core/tcp.c **** static void
 167:Middlewares/Third_Party/LwIP/src/core/tcp.c **** tcp_remove_listener(struct tcp_pcb *list, struct tcp_pcb_listen *lpcb)
 168:Middlewares/Third_Party/LwIP/src/core/tcp.c **** {
  27              		.loc 1 168 0
  28              		.cfi_startproc
  29              		@ args = 0, pretend = 0, frame = 0
  30              		@ frame_needed = 0, uses_anonymous_args = 0
  31              		@ link register save eliminated.
  32              	.LVL0:
 169:Middlewares/Third_Party/LwIP/src/core/tcp.c ****    struct tcp_pcb *pcb;
 170:Middlewares/Third_Party/LwIP/src/core/tcp.c ****    for (pcb = list; pcb != NULL; pcb = pcb->next) {
  33              		.loc 1 170 0
  34 0000 00E0     		b	.L2
  35              	.LVL1:
  36              	.L3:
  37              		.loc 1 170 0 is_stmt 0 discriminator 2
  38 0002 C068     		ldr	r0, [r0, #12]
  39              	.LVL2:
  40              	.L2:
  41              		.loc 1 170 0 discriminator 1
  42 0004 28B1     		cbz	r0, .L5
 171:Middlewares/Third_Party/LwIP/src/core/tcp.c ****       if (pcb->listener == lpcb) {
  43              		.loc 1 171 0 is_stmt 1
  44 0006 836F     		ldr	r3, [r0, #120]
  45 0008 8B42     		cmp	r3, r1
  46 000a FAD1     		bne	.L3
 172:Middlewares/Third_Party/LwIP/src/core/tcp.c ****          pcb->listener = NULL;
  47              		.loc 1 172 0
  48 000c 0023     		movs	r3, #0
  49 000e 8367     		str	r3, [r0, #120]
  50 0010 F7E7     		b	.L3
  51              	.L5:
 173:Middlewares/Third_Party/LwIP/src/core/tcp.c ****       }
 174:Middlewares/Third_Party/LwIP/src/core/tcp.c ****    }
 175:Middlewares/Third_Party/LwIP/src/core/tcp.c **** }
  52              		.loc 1 175 0
  53 0012 7047     		bx	lr
  54              		.cfi_endproc
ARM GAS  C:\Users\Student\AppData\Local\Temp\ccY4weUp.s 			page 5


  55              	.LFE138:
  57              		.section	.text.tcp_listen_closed,"ax",%progbits
  58              		.align	1
  59              		.syntax unified
  60              		.thumb
  61              		.thumb_func
  62              		.fpu fpv5-sp-d16
  64              	tcp_listen_closed:
  65              	.LFB139:
 176:Middlewares/Third_Party/LwIP/src/core/tcp.c **** #endif
 177:Middlewares/Third_Party/LwIP/src/core/tcp.c **** 
 178:Middlewares/Third_Party/LwIP/src/core/tcp.c **** /** Called when a listen pcb is closed. Iterates all pcb lists and removes the
 179:Middlewares/Third_Party/LwIP/src/core/tcp.c ****  * closed listener pcb from pcb->listener if matching.
 180:Middlewares/Third_Party/LwIP/src/core/tcp.c ****  */
 181:Middlewares/Third_Party/LwIP/src/core/tcp.c **** static void
 182:Middlewares/Third_Party/LwIP/src/core/tcp.c **** tcp_listen_closed(struct tcp_pcb *pcb)
 183:Middlewares/Third_Party/LwIP/src/core/tcp.c **** {
  66              		.loc 1 183 0
  67              		.cfi_startproc
  68              		@ args = 0, pretend = 0, frame = 0
  69              		@ frame_needed = 0, uses_anonymous_args = 0
  70              	.LVL3:
  71 0000 38B5     		push	{r3, r4, r5, lr}
  72              	.LCFI0:
  73              		.cfi_def_cfa_offset 16
  74              		.cfi_offset 3, -16
  75              		.cfi_offset 4, -12
  76              		.cfi_offset 5, -8
  77              		.cfi_offset 14, -4
  78 0002 0546     		mov	r5, r0
  79              	.LVL4:
 184:Middlewares/Third_Party/LwIP/src/core/tcp.c **** #if LWIP_CALLBACK_API || TCP_LISTEN_BACKLOG
 185:Middlewares/Third_Party/LwIP/src/core/tcp.c ****   size_t i;
 186:Middlewares/Third_Party/LwIP/src/core/tcp.c ****   LWIP_ASSERT("pcb != NULL", pcb != NULL);
 187:Middlewares/Third_Party/LwIP/src/core/tcp.c ****   LWIP_ASSERT("pcb->state == LISTEN", pcb->state == LISTEN);
 188:Middlewares/Third_Party/LwIP/src/core/tcp.c ****   for (i = 1; i < LWIP_ARRAYSIZE(tcp_pcb_lists); i++) {
  80              		.loc 1 188 0
  81 0004 0124     		movs	r4, #1
  82 0006 07E0     		b	.L7
  83              	.LVL5:
  84              	.L8:
 189:Middlewares/Third_Party/LwIP/src/core/tcp.c ****     tcp_remove_listener(*tcp_pcb_lists[i], (struct tcp_pcb_listen*)pcb);
  85              		.loc 1 189 0 discriminator 3
  86 0008 054B     		ldr	r3, .L10
  87 000a 53F82430 		ldr	r3, [r3, r4, lsl #2]
  88 000e 2946     		mov	r1, r5
  89 0010 1868     		ldr	r0, [r3]
  90 0012 FFF7FEFF 		bl	tcp_remove_listener
  91              	.LVL6:
 188:Middlewares/Third_Party/LwIP/src/core/tcp.c ****     tcp_remove_listener(*tcp_pcb_lists[i], (struct tcp_pcb_listen*)pcb);
  92              		.loc 1 188 0 discriminator 3
  93 0016 0134     		adds	r4, r4, #1
  94              	.LVL7:
  95              	.L7:
 188:Middlewares/Third_Party/LwIP/src/core/tcp.c ****     tcp_remove_listener(*tcp_pcb_lists[i], (struct tcp_pcb_listen*)pcb);
  96              		.loc 1 188 0 is_stmt 0 discriminator 1
  97 0018 032C     		cmp	r4, #3
ARM GAS  C:\Users\Student\AppData\Local\Temp\ccY4weUp.s 			page 6


  98 001a F5D9     		bls	.L8
 190:Middlewares/Third_Party/LwIP/src/core/tcp.c ****   }
 191:Middlewares/Third_Party/LwIP/src/core/tcp.c **** #endif
 192:Middlewares/Third_Party/LwIP/src/core/tcp.c ****   LWIP_UNUSED_ARG(pcb);
 193:Middlewares/Third_Party/LwIP/src/core/tcp.c **** }
  99              		.loc 1 193 0 is_stmt 1
 100 001c 38BD     		pop	{r3, r4, r5, pc}
 101              	.LVL8:
 102              	.L11:
 103 001e 00BF     		.align	2
 104              	.L10:
 105 0020 00000000 		.word	.LANCHOR0
 106              		.cfi_endproc
 107              	.LFE139:
 109              		.section	.text.tcp_new_port,"ax",%progbits
 110              		.align	1
 111              		.syntax unified
 112              		.thumb
 113              		.thumb_func
 114              		.fpu fpv5-sp-d16
 116              	tcp_new_port:
 117              	.LFB150:
 194:Middlewares/Third_Party/LwIP/src/core/tcp.c **** 
 195:Middlewares/Third_Party/LwIP/src/core/tcp.c **** #if TCP_LISTEN_BACKLOG
 196:Middlewares/Third_Party/LwIP/src/core/tcp.c **** /** @ingroup tcp_raw
 197:Middlewares/Third_Party/LwIP/src/core/tcp.c ****  * Delay accepting a connection in respect to the listen backlog:
 198:Middlewares/Third_Party/LwIP/src/core/tcp.c ****  * the number of outstanding connections is increased until
 199:Middlewares/Third_Party/LwIP/src/core/tcp.c ****  * tcp_backlog_accepted() is called.
 200:Middlewares/Third_Party/LwIP/src/core/tcp.c ****  *
 201:Middlewares/Third_Party/LwIP/src/core/tcp.c ****  * ATTENTION: the caller is responsible for calling tcp_backlog_accepted()
 202:Middlewares/Third_Party/LwIP/src/core/tcp.c ****  * or else the backlog feature will get out of sync!
 203:Middlewares/Third_Party/LwIP/src/core/tcp.c ****  *
 204:Middlewares/Third_Party/LwIP/src/core/tcp.c ****  * @param pcb the connection pcb which is not fully accepted yet
 205:Middlewares/Third_Party/LwIP/src/core/tcp.c ****  */
 206:Middlewares/Third_Party/LwIP/src/core/tcp.c **** void
 207:Middlewares/Third_Party/LwIP/src/core/tcp.c **** tcp_backlog_delayed(struct tcp_pcb* pcb)
 208:Middlewares/Third_Party/LwIP/src/core/tcp.c **** {
 209:Middlewares/Third_Party/LwIP/src/core/tcp.c ****   LWIP_ASSERT("pcb != NULL", pcb != NULL);
 210:Middlewares/Third_Party/LwIP/src/core/tcp.c ****   if ((pcb->flags & TF_BACKLOGPEND) == 0) {
 211:Middlewares/Third_Party/LwIP/src/core/tcp.c ****     if (pcb->listener != NULL) {
 212:Middlewares/Third_Party/LwIP/src/core/tcp.c ****       pcb->listener->accepts_pending++;
 213:Middlewares/Third_Party/LwIP/src/core/tcp.c ****       LWIP_ASSERT("accepts_pending != 0", pcb->listener->accepts_pending != 0);
 214:Middlewares/Third_Party/LwIP/src/core/tcp.c ****       pcb->flags |= TF_BACKLOGPEND;
 215:Middlewares/Third_Party/LwIP/src/core/tcp.c ****     }
 216:Middlewares/Third_Party/LwIP/src/core/tcp.c ****   }
 217:Middlewares/Third_Party/LwIP/src/core/tcp.c **** }
 218:Middlewares/Third_Party/LwIP/src/core/tcp.c **** 
 219:Middlewares/Third_Party/LwIP/src/core/tcp.c **** /** @ingroup tcp_raw
 220:Middlewares/Third_Party/LwIP/src/core/tcp.c ****  * A delayed-accept a connection is accepted (or closed/aborted): decreases
 221:Middlewares/Third_Party/LwIP/src/core/tcp.c ****  * the number of outstanding connections after calling tcp_backlog_delayed().
 222:Middlewares/Third_Party/LwIP/src/core/tcp.c ****  *
 223:Middlewares/Third_Party/LwIP/src/core/tcp.c ****  * ATTENTION: the caller is responsible for calling tcp_backlog_accepted()
 224:Middlewares/Third_Party/LwIP/src/core/tcp.c ****  * or else the backlog feature will get out of sync!
 225:Middlewares/Third_Party/LwIP/src/core/tcp.c ****  *
 226:Middlewares/Third_Party/LwIP/src/core/tcp.c ****  * @param pcb the connection pcb which is now fully accepted (or closed/aborted)
 227:Middlewares/Third_Party/LwIP/src/core/tcp.c ****  */
 228:Middlewares/Third_Party/LwIP/src/core/tcp.c **** void
ARM GAS  C:\Users\Student\AppData\Local\Temp\ccY4weUp.s 			page 7


 229:Middlewares/Third_Party/LwIP/src/core/tcp.c **** tcp_backlog_accepted(struct tcp_pcb* pcb)
 230:Middlewares/Third_Party/LwIP/src/core/tcp.c **** {
 231:Middlewares/Third_Party/LwIP/src/core/tcp.c ****   LWIP_ASSERT("pcb != NULL", pcb != NULL);
 232:Middlewares/Third_Party/LwIP/src/core/tcp.c ****   if ((pcb->flags & TF_BACKLOGPEND) != 0) {
 233:Middlewares/Third_Party/LwIP/src/core/tcp.c ****     if (pcb->listener != NULL) {
 234:Middlewares/Third_Party/LwIP/src/core/tcp.c ****       LWIP_ASSERT("accepts_pending != 0", pcb->listener->accepts_pending != 0);
 235:Middlewares/Third_Party/LwIP/src/core/tcp.c ****       pcb->listener->accepts_pending--;
 236:Middlewares/Third_Party/LwIP/src/core/tcp.c ****       pcb->flags &= ~TF_BACKLOGPEND;
 237:Middlewares/Third_Party/LwIP/src/core/tcp.c ****     }
 238:Middlewares/Third_Party/LwIP/src/core/tcp.c ****   }
 239:Middlewares/Third_Party/LwIP/src/core/tcp.c **** }
 240:Middlewares/Third_Party/LwIP/src/core/tcp.c **** #endif /* TCP_LISTEN_BACKLOG */
 241:Middlewares/Third_Party/LwIP/src/core/tcp.c **** 
 242:Middlewares/Third_Party/LwIP/src/core/tcp.c **** /**
 243:Middlewares/Third_Party/LwIP/src/core/tcp.c ****  * Closes the TX side of a connection held by the PCB.
 244:Middlewares/Third_Party/LwIP/src/core/tcp.c ****  * For tcp_close(), a RST is sent if the application didn't receive all data
 245:Middlewares/Third_Party/LwIP/src/core/tcp.c ****  * (tcp_recved() not called for all data passed to recv callback).
 246:Middlewares/Third_Party/LwIP/src/core/tcp.c ****  *
 247:Middlewares/Third_Party/LwIP/src/core/tcp.c ****  * Listening pcbs are freed and may not be referenced any more.
 248:Middlewares/Third_Party/LwIP/src/core/tcp.c ****  * Connection pcbs are freed if not yet connected and may not be referenced
 249:Middlewares/Third_Party/LwIP/src/core/tcp.c ****  * any more. If a connection is established (at least SYN received or in
 250:Middlewares/Third_Party/LwIP/src/core/tcp.c ****  * a closing state), the connection is closed, and put in a closing state.
 251:Middlewares/Third_Party/LwIP/src/core/tcp.c ****  * The pcb is then automatically freed in tcp_slowtmr(). It is therefore
 252:Middlewares/Third_Party/LwIP/src/core/tcp.c ****  * unsafe to reference it.
 253:Middlewares/Third_Party/LwIP/src/core/tcp.c ****  *
 254:Middlewares/Third_Party/LwIP/src/core/tcp.c ****  * @param pcb the tcp_pcb to close
 255:Middlewares/Third_Party/LwIP/src/core/tcp.c ****  * @return ERR_OK if connection has been closed
 256:Middlewares/Third_Party/LwIP/src/core/tcp.c ****  *         another err_t if closing failed and pcb is not freed
 257:Middlewares/Third_Party/LwIP/src/core/tcp.c ****  */
 258:Middlewares/Third_Party/LwIP/src/core/tcp.c **** static err_t
 259:Middlewares/Third_Party/LwIP/src/core/tcp.c **** tcp_close_shutdown(struct tcp_pcb *pcb, u8_t rst_on_unacked_data)
 260:Middlewares/Third_Party/LwIP/src/core/tcp.c **** {
 261:Middlewares/Third_Party/LwIP/src/core/tcp.c ****   err_t err;
 262:Middlewares/Third_Party/LwIP/src/core/tcp.c **** 
 263:Middlewares/Third_Party/LwIP/src/core/tcp.c ****   if (rst_on_unacked_data && ((pcb->state == ESTABLISHED) || (pcb->state == CLOSE_WAIT))) {
 264:Middlewares/Third_Party/LwIP/src/core/tcp.c ****     if ((pcb->refused_data != NULL) || (pcb->rcv_wnd != TCP_WND_MAX(pcb))) {
 265:Middlewares/Third_Party/LwIP/src/core/tcp.c ****       /* Not all data received by application, send RST to tell the remote
 266:Middlewares/Third_Party/LwIP/src/core/tcp.c ****          side about this. */
 267:Middlewares/Third_Party/LwIP/src/core/tcp.c ****       LWIP_ASSERT("pcb->flags & TF_RXCLOSED", pcb->flags & TF_RXCLOSED);
 268:Middlewares/Third_Party/LwIP/src/core/tcp.c **** 
 269:Middlewares/Third_Party/LwIP/src/core/tcp.c ****       /* don't call tcp_abort here: we must not deallocate the pcb since
 270:Middlewares/Third_Party/LwIP/src/core/tcp.c ****          that might not be expected when calling tcp_close */
 271:Middlewares/Third_Party/LwIP/src/core/tcp.c ****       tcp_rst(pcb->snd_nxt, pcb->rcv_nxt, &pcb->local_ip, &pcb->remote_ip,
 272:Middlewares/Third_Party/LwIP/src/core/tcp.c ****                pcb->local_port, pcb->remote_port);
 273:Middlewares/Third_Party/LwIP/src/core/tcp.c **** 
 274:Middlewares/Third_Party/LwIP/src/core/tcp.c ****       tcp_pcb_purge(pcb);
 275:Middlewares/Third_Party/LwIP/src/core/tcp.c ****       TCP_RMV_ACTIVE(pcb);
 276:Middlewares/Third_Party/LwIP/src/core/tcp.c ****       if (pcb->state == ESTABLISHED) {
 277:Middlewares/Third_Party/LwIP/src/core/tcp.c ****         /* move to TIME_WAIT since we close actively */
 278:Middlewares/Third_Party/LwIP/src/core/tcp.c ****         pcb->state = TIME_WAIT;
 279:Middlewares/Third_Party/LwIP/src/core/tcp.c ****         TCP_REG(&tcp_tw_pcbs, pcb);
 280:Middlewares/Third_Party/LwIP/src/core/tcp.c ****       } else {
 281:Middlewares/Third_Party/LwIP/src/core/tcp.c ****         /* CLOSE_WAIT: deallocate the pcb since we already sent a RST for it */
 282:Middlewares/Third_Party/LwIP/src/core/tcp.c ****         if (tcp_input_pcb == pcb) {
 283:Middlewares/Third_Party/LwIP/src/core/tcp.c ****           /* prevent using a deallocated pcb: free it from tcp_input later */
 284:Middlewares/Third_Party/LwIP/src/core/tcp.c ****           tcp_trigger_input_pcb_close();
 285:Middlewares/Third_Party/LwIP/src/core/tcp.c ****         } else {
ARM GAS  C:\Users\Student\AppData\Local\Temp\ccY4weUp.s 			page 8


 286:Middlewares/Third_Party/LwIP/src/core/tcp.c ****           memp_free(MEMP_TCP_PCB, pcb);
 287:Middlewares/Third_Party/LwIP/src/core/tcp.c ****         }
 288:Middlewares/Third_Party/LwIP/src/core/tcp.c ****       }
 289:Middlewares/Third_Party/LwIP/src/core/tcp.c ****       return ERR_OK;
 290:Middlewares/Third_Party/LwIP/src/core/tcp.c ****     }
 291:Middlewares/Third_Party/LwIP/src/core/tcp.c ****   }
 292:Middlewares/Third_Party/LwIP/src/core/tcp.c **** 
 293:Middlewares/Third_Party/LwIP/src/core/tcp.c ****   switch (pcb->state) {
 294:Middlewares/Third_Party/LwIP/src/core/tcp.c ****   case CLOSED:
 295:Middlewares/Third_Party/LwIP/src/core/tcp.c ****     /* Closing a pcb in the CLOSED state might seem erroneous,
 296:Middlewares/Third_Party/LwIP/src/core/tcp.c ****      * however, it is in this state once allocated and as yet unused
 297:Middlewares/Third_Party/LwIP/src/core/tcp.c ****      * and the user needs some way to free it should the need arise.
 298:Middlewares/Third_Party/LwIP/src/core/tcp.c ****      * Calling tcp_close() with a pcb that has already been closed, (i.e. twice)
 299:Middlewares/Third_Party/LwIP/src/core/tcp.c ****      * or for a pcb that has been used and then entered the CLOSED state
 300:Middlewares/Third_Party/LwIP/src/core/tcp.c ****      * is erroneous, but this should never happen as the pcb has in those cases
 301:Middlewares/Third_Party/LwIP/src/core/tcp.c ****      * been freed, and so any remaining handles are bogus. */
 302:Middlewares/Third_Party/LwIP/src/core/tcp.c ****     err = ERR_OK;
 303:Middlewares/Third_Party/LwIP/src/core/tcp.c ****     if (pcb->local_port != 0) {
 304:Middlewares/Third_Party/LwIP/src/core/tcp.c ****       TCP_RMV(&tcp_bound_pcbs, pcb);
 305:Middlewares/Third_Party/LwIP/src/core/tcp.c ****     }
 306:Middlewares/Third_Party/LwIP/src/core/tcp.c ****     memp_free(MEMP_TCP_PCB, pcb);
 307:Middlewares/Third_Party/LwIP/src/core/tcp.c ****     pcb = NULL;
 308:Middlewares/Third_Party/LwIP/src/core/tcp.c ****     break;
 309:Middlewares/Third_Party/LwIP/src/core/tcp.c ****   case LISTEN:
 310:Middlewares/Third_Party/LwIP/src/core/tcp.c ****     err = ERR_OK;
 311:Middlewares/Third_Party/LwIP/src/core/tcp.c ****     tcp_listen_closed(pcb);
 312:Middlewares/Third_Party/LwIP/src/core/tcp.c ****     tcp_pcb_remove(&tcp_listen_pcbs.pcbs, pcb);
 313:Middlewares/Third_Party/LwIP/src/core/tcp.c ****     memp_free(MEMP_TCP_PCB_LISTEN, pcb);
 314:Middlewares/Third_Party/LwIP/src/core/tcp.c ****     pcb = NULL;
 315:Middlewares/Third_Party/LwIP/src/core/tcp.c ****     break;
 316:Middlewares/Third_Party/LwIP/src/core/tcp.c ****   case SYN_SENT:
 317:Middlewares/Third_Party/LwIP/src/core/tcp.c ****     err = ERR_OK;
 318:Middlewares/Third_Party/LwIP/src/core/tcp.c ****     TCP_PCB_REMOVE_ACTIVE(pcb);
 319:Middlewares/Third_Party/LwIP/src/core/tcp.c ****     memp_free(MEMP_TCP_PCB, pcb);
 320:Middlewares/Third_Party/LwIP/src/core/tcp.c ****     pcb = NULL;
 321:Middlewares/Third_Party/LwIP/src/core/tcp.c ****     MIB2_STATS_INC(mib2.tcpattemptfails);
 322:Middlewares/Third_Party/LwIP/src/core/tcp.c ****     break;
 323:Middlewares/Third_Party/LwIP/src/core/tcp.c ****   case SYN_RCVD:
 324:Middlewares/Third_Party/LwIP/src/core/tcp.c ****     err = tcp_send_fin(pcb);
 325:Middlewares/Third_Party/LwIP/src/core/tcp.c ****     if (err == ERR_OK) {
 326:Middlewares/Third_Party/LwIP/src/core/tcp.c ****       tcp_backlog_accepted(pcb);
 327:Middlewares/Third_Party/LwIP/src/core/tcp.c ****       MIB2_STATS_INC(mib2.tcpattemptfails);
 328:Middlewares/Third_Party/LwIP/src/core/tcp.c ****       pcb->state = FIN_WAIT_1;
 329:Middlewares/Third_Party/LwIP/src/core/tcp.c ****     }
 330:Middlewares/Third_Party/LwIP/src/core/tcp.c ****     break;
 331:Middlewares/Third_Party/LwIP/src/core/tcp.c ****   case ESTABLISHED:
 332:Middlewares/Third_Party/LwIP/src/core/tcp.c ****     err = tcp_send_fin(pcb);
 333:Middlewares/Third_Party/LwIP/src/core/tcp.c ****     if (err == ERR_OK) {
 334:Middlewares/Third_Party/LwIP/src/core/tcp.c ****       MIB2_STATS_INC(mib2.tcpestabresets);
 335:Middlewares/Third_Party/LwIP/src/core/tcp.c ****       pcb->state = FIN_WAIT_1;
 336:Middlewares/Third_Party/LwIP/src/core/tcp.c ****     }
 337:Middlewares/Third_Party/LwIP/src/core/tcp.c ****     break;
 338:Middlewares/Third_Party/LwIP/src/core/tcp.c ****   case CLOSE_WAIT:
 339:Middlewares/Third_Party/LwIP/src/core/tcp.c ****     err = tcp_send_fin(pcb);
 340:Middlewares/Third_Party/LwIP/src/core/tcp.c ****     if (err == ERR_OK) {
 341:Middlewares/Third_Party/LwIP/src/core/tcp.c ****       MIB2_STATS_INC(mib2.tcpestabresets);
 342:Middlewares/Third_Party/LwIP/src/core/tcp.c ****       pcb->state = LAST_ACK;
ARM GAS  C:\Users\Student\AppData\Local\Temp\ccY4weUp.s 			page 9


 343:Middlewares/Third_Party/LwIP/src/core/tcp.c ****     }
 344:Middlewares/Third_Party/LwIP/src/core/tcp.c ****     break;
 345:Middlewares/Third_Party/LwIP/src/core/tcp.c ****   default:
 346:Middlewares/Third_Party/LwIP/src/core/tcp.c ****     /* Has already been closed, do nothing. */
 347:Middlewares/Third_Party/LwIP/src/core/tcp.c ****     err = ERR_OK;
 348:Middlewares/Third_Party/LwIP/src/core/tcp.c ****     pcb = NULL;
 349:Middlewares/Third_Party/LwIP/src/core/tcp.c ****     break;
 350:Middlewares/Third_Party/LwIP/src/core/tcp.c ****   }
 351:Middlewares/Third_Party/LwIP/src/core/tcp.c **** 
 352:Middlewares/Third_Party/LwIP/src/core/tcp.c ****   if (pcb != NULL && err == ERR_OK) {
 353:Middlewares/Third_Party/LwIP/src/core/tcp.c ****     /* To ensure all data has been sent when tcp_close returns, we have
 354:Middlewares/Third_Party/LwIP/src/core/tcp.c ****        to make sure tcp_output doesn't fail.
 355:Middlewares/Third_Party/LwIP/src/core/tcp.c ****        Since we don't really have to ensure all data has been sent when tcp_close
 356:Middlewares/Third_Party/LwIP/src/core/tcp.c ****        returns (unsent data is sent from tcp timer functions, also), we don't care
 357:Middlewares/Third_Party/LwIP/src/core/tcp.c ****        for the return value of tcp_output for now. */
 358:Middlewares/Third_Party/LwIP/src/core/tcp.c ****     tcp_output(pcb);
 359:Middlewares/Third_Party/LwIP/src/core/tcp.c ****   }
 360:Middlewares/Third_Party/LwIP/src/core/tcp.c ****   return err;
 361:Middlewares/Third_Party/LwIP/src/core/tcp.c **** }
 362:Middlewares/Third_Party/LwIP/src/core/tcp.c **** 
 363:Middlewares/Third_Party/LwIP/src/core/tcp.c **** /**
 364:Middlewares/Third_Party/LwIP/src/core/tcp.c ****  * @ingroup tcp_raw
 365:Middlewares/Third_Party/LwIP/src/core/tcp.c ****  * Closes the connection held by the PCB.
 366:Middlewares/Third_Party/LwIP/src/core/tcp.c ****  *
 367:Middlewares/Third_Party/LwIP/src/core/tcp.c ****  * Listening pcbs are freed and may not be referenced any more.
 368:Middlewares/Third_Party/LwIP/src/core/tcp.c ****  * Connection pcbs are freed if not yet connected and may not be referenced
 369:Middlewares/Third_Party/LwIP/src/core/tcp.c ****  * any more. If a connection is established (at least SYN received or in
 370:Middlewares/Third_Party/LwIP/src/core/tcp.c ****  * a closing state), the connection is closed, and put in a closing state.
 371:Middlewares/Third_Party/LwIP/src/core/tcp.c ****  * The pcb is then automatically freed in tcp_slowtmr(). It is therefore
 372:Middlewares/Third_Party/LwIP/src/core/tcp.c ****  * unsafe to reference it (unless an error is returned).
 373:Middlewares/Third_Party/LwIP/src/core/tcp.c ****  *
 374:Middlewares/Third_Party/LwIP/src/core/tcp.c ****  * @param pcb the tcp_pcb to close
 375:Middlewares/Third_Party/LwIP/src/core/tcp.c ****  * @return ERR_OK if connection has been closed
 376:Middlewares/Third_Party/LwIP/src/core/tcp.c ****  *         another err_t if closing failed and pcb is not freed
 377:Middlewares/Third_Party/LwIP/src/core/tcp.c ****  */
 378:Middlewares/Third_Party/LwIP/src/core/tcp.c **** err_t
 379:Middlewares/Third_Party/LwIP/src/core/tcp.c **** tcp_close(struct tcp_pcb *pcb)
 380:Middlewares/Third_Party/LwIP/src/core/tcp.c **** {
 381:Middlewares/Third_Party/LwIP/src/core/tcp.c ****   LWIP_DEBUGF(TCP_DEBUG, ("tcp_close: closing in "));
 382:Middlewares/Third_Party/LwIP/src/core/tcp.c ****   tcp_debug_print_state(pcb->state);
 383:Middlewares/Third_Party/LwIP/src/core/tcp.c **** 
 384:Middlewares/Third_Party/LwIP/src/core/tcp.c ****   if (pcb->state != LISTEN) {
 385:Middlewares/Third_Party/LwIP/src/core/tcp.c ****     /* Set a flag not to receive any more data... */
 386:Middlewares/Third_Party/LwIP/src/core/tcp.c ****     pcb->flags |= TF_RXCLOSED;
 387:Middlewares/Third_Party/LwIP/src/core/tcp.c ****   }
 388:Middlewares/Third_Party/LwIP/src/core/tcp.c ****   /* ... and close */
 389:Middlewares/Third_Party/LwIP/src/core/tcp.c ****   return tcp_close_shutdown(pcb, 1);
 390:Middlewares/Third_Party/LwIP/src/core/tcp.c **** }
 391:Middlewares/Third_Party/LwIP/src/core/tcp.c **** 
 392:Middlewares/Third_Party/LwIP/src/core/tcp.c **** /**
 393:Middlewares/Third_Party/LwIP/src/core/tcp.c ****  * @ingroup tcp_raw
 394:Middlewares/Third_Party/LwIP/src/core/tcp.c ****  * Causes all or part of a full-duplex connection of this PCB to be shut down.
 395:Middlewares/Third_Party/LwIP/src/core/tcp.c ****  * This doesn't deallocate the PCB unless shutting down both sides!
 396:Middlewares/Third_Party/LwIP/src/core/tcp.c ****  * Shutting down both sides is the same as calling tcp_close, so if it succeds,
 397:Middlewares/Third_Party/LwIP/src/core/tcp.c ****  * the PCB should not be referenced any more.
 398:Middlewares/Third_Party/LwIP/src/core/tcp.c ****  *
 399:Middlewares/Third_Party/LwIP/src/core/tcp.c ****  * @param pcb PCB to shutdown
ARM GAS  C:\Users\Student\AppData\Local\Temp\ccY4weUp.s 			page 10


 400:Middlewares/Third_Party/LwIP/src/core/tcp.c ****  * @param shut_rx shut down receive side if this is != 0
 401:Middlewares/Third_Party/LwIP/src/core/tcp.c ****  * @param shut_tx shut down send side if this is != 0
 402:Middlewares/Third_Party/LwIP/src/core/tcp.c ****  * @return ERR_OK if shutdown succeeded (or the PCB has already been shut down)
 403:Middlewares/Third_Party/LwIP/src/core/tcp.c ****  *         another err_t on error.
 404:Middlewares/Third_Party/LwIP/src/core/tcp.c ****  */
 405:Middlewares/Third_Party/LwIP/src/core/tcp.c **** err_t
 406:Middlewares/Third_Party/LwIP/src/core/tcp.c **** tcp_shutdown(struct tcp_pcb *pcb, int shut_rx, int shut_tx)
 407:Middlewares/Third_Party/LwIP/src/core/tcp.c **** {
 408:Middlewares/Third_Party/LwIP/src/core/tcp.c ****   if (pcb->state == LISTEN) {
 409:Middlewares/Third_Party/LwIP/src/core/tcp.c ****     return ERR_CONN;
 410:Middlewares/Third_Party/LwIP/src/core/tcp.c ****   }
 411:Middlewares/Third_Party/LwIP/src/core/tcp.c ****   if (shut_rx) {
 412:Middlewares/Third_Party/LwIP/src/core/tcp.c ****     /* shut down the receive side: set a flag not to receive any more data... */
 413:Middlewares/Third_Party/LwIP/src/core/tcp.c ****     pcb->flags |= TF_RXCLOSED;
 414:Middlewares/Third_Party/LwIP/src/core/tcp.c ****     if (shut_tx) {
 415:Middlewares/Third_Party/LwIP/src/core/tcp.c ****       /* shutting down the tx AND rx side is the same as closing for the raw API */
 416:Middlewares/Third_Party/LwIP/src/core/tcp.c ****       return tcp_close_shutdown(pcb, 1);
 417:Middlewares/Third_Party/LwIP/src/core/tcp.c ****     }
 418:Middlewares/Third_Party/LwIP/src/core/tcp.c ****     /* ... and free buffered data */
 419:Middlewares/Third_Party/LwIP/src/core/tcp.c ****     if (pcb->refused_data != NULL) {
 420:Middlewares/Third_Party/LwIP/src/core/tcp.c ****       pbuf_free(pcb->refused_data);
 421:Middlewares/Third_Party/LwIP/src/core/tcp.c ****       pcb->refused_data = NULL;
 422:Middlewares/Third_Party/LwIP/src/core/tcp.c ****     }
 423:Middlewares/Third_Party/LwIP/src/core/tcp.c ****   }
 424:Middlewares/Third_Party/LwIP/src/core/tcp.c ****   if (shut_tx) {
 425:Middlewares/Third_Party/LwIP/src/core/tcp.c ****     /* This can't happen twice since if it succeeds, the pcb's state is changed.
 426:Middlewares/Third_Party/LwIP/src/core/tcp.c ****        Only close in these states as the others directly deallocate the PCB */
 427:Middlewares/Third_Party/LwIP/src/core/tcp.c ****     switch (pcb->state) {
 428:Middlewares/Third_Party/LwIP/src/core/tcp.c ****     case SYN_RCVD:
 429:Middlewares/Third_Party/LwIP/src/core/tcp.c ****     case ESTABLISHED:
 430:Middlewares/Third_Party/LwIP/src/core/tcp.c ****     case CLOSE_WAIT:
 431:Middlewares/Third_Party/LwIP/src/core/tcp.c ****       return tcp_close_shutdown(pcb, (u8_t)shut_rx);
 432:Middlewares/Third_Party/LwIP/src/core/tcp.c ****     default:
 433:Middlewares/Third_Party/LwIP/src/core/tcp.c ****       /* Not (yet?) connected, cannot shutdown the TX side as that would bring us
 434:Middlewares/Third_Party/LwIP/src/core/tcp.c ****         into CLOSED state, where the PCB is deallocated. */
 435:Middlewares/Third_Party/LwIP/src/core/tcp.c ****       return ERR_CONN;
 436:Middlewares/Third_Party/LwIP/src/core/tcp.c ****     }
 437:Middlewares/Third_Party/LwIP/src/core/tcp.c ****   }
 438:Middlewares/Third_Party/LwIP/src/core/tcp.c ****   return ERR_OK;
 439:Middlewares/Third_Party/LwIP/src/core/tcp.c **** }
 440:Middlewares/Third_Party/LwIP/src/core/tcp.c **** 
 441:Middlewares/Third_Party/LwIP/src/core/tcp.c **** /**
 442:Middlewares/Third_Party/LwIP/src/core/tcp.c ****  * Abandons a connection and optionally sends a RST to the remote
 443:Middlewares/Third_Party/LwIP/src/core/tcp.c ****  * host.  Deletes the local protocol control block. This is done when
 444:Middlewares/Third_Party/LwIP/src/core/tcp.c ****  * a connection is killed because of shortage of memory.
 445:Middlewares/Third_Party/LwIP/src/core/tcp.c ****  *
 446:Middlewares/Third_Party/LwIP/src/core/tcp.c ****  * @param pcb the tcp_pcb to abort
 447:Middlewares/Third_Party/LwIP/src/core/tcp.c ****  * @param reset boolean to indicate whether a reset should be sent
 448:Middlewares/Third_Party/LwIP/src/core/tcp.c ****  */
 449:Middlewares/Third_Party/LwIP/src/core/tcp.c **** void
 450:Middlewares/Third_Party/LwIP/src/core/tcp.c **** tcp_abandon(struct tcp_pcb *pcb, int reset)
 451:Middlewares/Third_Party/LwIP/src/core/tcp.c **** {
 452:Middlewares/Third_Party/LwIP/src/core/tcp.c ****   u32_t seqno, ackno;
 453:Middlewares/Third_Party/LwIP/src/core/tcp.c **** #if LWIP_CALLBACK_API
 454:Middlewares/Third_Party/LwIP/src/core/tcp.c ****   tcp_err_fn errf;
 455:Middlewares/Third_Party/LwIP/src/core/tcp.c **** #endif /* LWIP_CALLBACK_API */
 456:Middlewares/Third_Party/LwIP/src/core/tcp.c ****   void *errf_arg;
ARM GAS  C:\Users\Student\AppData\Local\Temp\ccY4weUp.s 			page 11


 457:Middlewares/Third_Party/LwIP/src/core/tcp.c **** 
 458:Middlewares/Third_Party/LwIP/src/core/tcp.c ****   /* pcb->state LISTEN not allowed here */
 459:Middlewares/Third_Party/LwIP/src/core/tcp.c ****   LWIP_ASSERT("don't call tcp_abort/tcp_abandon for listen-pcbs",
 460:Middlewares/Third_Party/LwIP/src/core/tcp.c ****     pcb->state != LISTEN);
 461:Middlewares/Third_Party/LwIP/src/core/tcp.c ****   /* Figure out on which TCP PCB list we are, and remove us. If we
 462:Middlewares/Third_Party/LwIP/src/core/tcp.c ****      are in an active state, call the receive function associated with
 463:Middlewares/Third_Party/LwIP/src/core/tcp.c ****      the PCB with a NULL argument, and send an RST to the remote end. */
 464:Middlewares/Third_Party/LwIP/src/core/tcp.c ****   if (pcb->state == TIME_WAIT) {
 465:Middlewares/Third_Party/LwIP/src/core/tcp.c ****     tcp_pcb_remove(&tcp_tw_pcbs, pcb);
 466:Middlewares/Third_Party/LwIP/src/core/tcp.c ****     memp_free(MEMP_TCP_PCB, pcb);
 467:Middlewares/Third_Party/LwIP/src/core/tcp.c ****   } else {
 468:Middlewares/Third_Party/LwIP/src/core/tcp.c ****     int send_rst = 0;
 469:Middlewares/Third_Party/LwIP/src/core/tcp.c ****     u16_t local_port = 0;
 470:Middlewares/Third_Party/LwIP/src/core/tcp.c ****     seqno = pcb->snd_nxt;
 471:Middlewares/Third_Party/LwIP/src/core/tcp.c ****     ackno = pcb->rcv_nxt;
 472:Middlewares/Third_Party/LwIP/src/core/tcp.c **** #if LWIP_CALLBACK_API
 473:Middlewares/Third_Party/LwIP/src/core/tcp.c ****     errf = pcb->errf;
 474:Middlewares/Third_Party/LwIP/src/core/tcp.c **** #endif /* LWIP_CALLBACK_API */
 475:Middlewares/Third_Party/LwIP/src/core/tcp.c ****     errf_arg = pcb->callback_arg;
 476:Middlewares/Third_Party/LwIP/src/core/tcp.c ****     if (pcb->state == CLOSED) {
 477:Middlewares/Third_Party/LwIP/src/core/tcp.c ****       if (pcb->local_port != 0) {
 478:Middlewares/Third_Party/LwIP/src/core/tcp.c ****         /* bound, not yet opened */
 479:Middlewares/Third_Party/LwIP/src/core/tcp.c ****         TCP_RMV(&tcp_bound_pcbs, pcb);
 480:Middlewares/Third_Party/LwIP/src/core/tcp.c ****       }
 481:Middlewares/Third_Party/LwIP/src/core/tcp.c ****     } else {
 482:Middlewares/Third_Party/LwIP/src/core/tcp.c ****       send_rst = reset;
 483:Middlewares/Third_Party/LwIP/src/core/tcp.c ****       local_port = pcb->local_port;
 484:Middlewares/Third_Party/LwIP/src/core/tcp.c ****       TCP_PCB_REMOVE_ACTIVE(pcb);
 485:Middlewares/Third_Party/LwIP/src/core/tcp.c ****     }
 486:Middlewares/Third_Party/LwIP/src/core/tcp.c ****     if (pcb->unacked != NULL) {
 487:Middlewares/Third_Party/LwIP/src/core/tcp.c ****       tcp_segs_free(pcb->unacked);
 488:Middlewares/Third_Party/LwIP/src/core/tcp.c ****     }
 489:Middlewares/Third_Party/LwIP/src/core/tcp.c ****     if (pcb->unsent != NULL) {
 490:Middlewares/Third_Party/LwIP/src/core/tcp.c ****       tcp_segs_free(pcb->unsent);
 491:Middlewares/Third_Party/LwIP/src/core/tcp.c ****     }
 492:Middlewares/Third_Party/LwIP/src/core/tcp.c **** #if TCP_QUEUE_OOSEQ
 493:Middlewares/Third_Party/LwIP/src/core/tcp.c ****     if (pcb->ooseq != NULL) {
 494:Middlewares/Third_Party/LwIP/src/core/tcp.c ****       tcp_segs_free(pcb->ooseq);
 495:Middlewares/Third_Party/LwIP/src/core/tcp.c ****     }
 496:Middlewares/Third_Party/LwIP/src/core/tcp.c **** #endif /* TCP_QUEUE_OOSEQ */
 497:Middlewares/Third_Party/LwIP/src/core/tcp.c ****     tcp_backlog_accepted(pcb);
 498:Middlewares/Third_Party/LwIP/src/core/tcp.c ****     if (send_rst) {
 499:Middlewares/Third_Party/LwIP/src/core/tcp.c ****       LWIP_DEBUGF(TCP_RST_DEBUG, ("tcp_abandon: sending RST\n"));
 500:Middlewares/Third_Party/LwIP/src/core/tcp.c ****       tcp_rst(seqno, ackno, &pcb->local_ip, &pcb->remote_ip, local_port, pcb->remote_port);
 501:Middlewares/Third_Party/LwIP/src/core/tcp.c ****     }
 502:Middlewares/Third_Party/LwIP/src/core/tcp.c ****     memp_free(MEMP_TCP_PCB, pcb);
 503:Middlewares/Third_Party/LwIP/src/core/tcp.c ****     TCP_EVENT_ERR(errf, errf_arg, ERR_ABRT);
 504:Middlewares/Third_Party/LwIP/src/core/tcp.c ****   }
 505:Middlewares/Third_Party/LwIP/src/core/tcp.c **** }
 506:Middlewares/Third_Party/LwIP/src/core/tcp.c **** 
 507:Middlewares/Third_Party/LwIP/src/core/tcp.c **** /**
 508:Middlewares/Third_Party/LwIP/src/core/tcp.c ****  * @ingroup tcp_raw
 509:Middlewares/Third_Party/LwIP/src/core/tcp.c ****  * Aborts the connection by sending a RST (reset) segment to the remote
 510:Middlewares/Third_Party/LwIP/src/core/tcp.c ****  * host. The pcb is deallocated. This function never fails.
 511:Middlewares/Third_Party/LwIP/src/core/tcp.c ****  *
 512:Middlewares/Third_Party/LwIP/src/core/tcp.c ****  * ATTENTION: When calling this from one of the TCP callbacks, make
 513:Middlewares/Third_Party/LwIP/src/core/tcp.c ****  * sure you always return ERR_ABRT (and never return ERR_ABRT otherwise
ARM GAS  C:\Users\Student\AppData\Local\Temp\ccY4weUp.s 			page 12


 514:Middlewares/Third_Party/LwIP/src/core/tcp.c ****  * or you will risk accessing deallocated memory or memory leaks!
 515:Middlewares/Third_Party/LwIP/src/core/tcp.c ****  *
 516:Middlewares/Third_Party/LwIP/src/core/tcp.c ****  * @param pcb the tcp pcb to abort
 517:Middlewares/Third_Party/LwIP/src/core/tcp.c ****  */
 518:Middlewares/Third_Party/LwIP/src/core/tcp.c **** void
 519:Middlewares/Third_Party/LwIP/src/core/tcp.c **** tcp_abort(struct tcp_pcb *pcb)
 520:Middlewares/Third_Party/LwIP/src/core/tcp.c **** {
 521:Middlewares/Third_Party/LwIP/src/core/tcp.c ****   tcp_abandon(pcb, 1);
 522:Middlewares/Third_Party/LwIP/src/core/tcp.c **** }
 523:Middlewares/Third_Party/LwIP/src/core/tcp.c **** 
 524:Middlewares/Third_Party/LwIP/src/core/tcp.c **** /**
 525:Middlewares/Third_Party/LwIP/src/core/tcp.c ****  * @ingroup tcp_raw
 526:Middlewares/Third_Party/LwIP/src/core/tcp.c ****  * Binds the connection to a local port number and IP address. If the
 527:Middlewares/Third_Party/LwIP/src/core/tcp.c ****  * IP address is not given (i.e., ipaddr == NULL), the IP address of
 528:Middlewares/Third_Party/LwIP/src/core/tcp.c ****  * the outgoing network interface is used instead.
 529:Middlewares/Third_Party/LwIP/src/core/tcp.c ****  *
 530:Middlewares/Third_Party/LwIP/src/core/tcp.c ****  * @param pcb the tcp_pcb to bind (no check is done whether this pcb is
 531:Middlewares/Third_Party/LwIP/src/core/tcp.c ****  *        already bound!)
 532:Middlewares/Third_Party/LwIP/src/core/tcp.c ****  * @param ipaddr the local ip address to bind to (use IP4_ADDR_ANY to bind
 533:Middlewares/Third_Party/LwIP/src/core/tcp.c ****  *        to any local address
 534:Middlewares/Third_Party/LwIP/src/core/tcp.c ****  * @param port the local port to bind to
 535:Middlewares/Third_Party/LwIP/src/core/tcp.c ****  * @return ERR_USE if the port is already in use
 536:Middlewares/Third_Party/LwIP/src/core/tcp.c ****  *         ERR_VAL if bind failed because the PCB is not in a valid state
 537:Middlewares/Third_Party/LwIP/src/core/tcp.c ****  *         ERR_OK if bound
 538:Middlewares/Third_Party/LwIP/src/core/tcp.c ****  */
 539:Middlewares/Third_Party/LwIP/src/core/tcp.c **** err_t
 540:Middlewares/Third_Party/LwIP/src/core/tcp.c **** tcp_bind(struct tcp_pcb *pcb, const ip_addr_t *ipaddr, u16_t port)
 541:Middlewares/Third_Party/LwIP/src/core/tcp.c **** {
 542:Middlewares/Third_Party/LwIP/src/core/tcp.c ****   int i;
 543:Middlewares/Third_Party/LwIP/src/core/tcp.c ****   int max_pcb_list = NUM_TCP_PCB_LISTS;
 544:Middlewares/Third_Party/LwIP/src/core/tcp.c ****   struct tcp_pcb *cpcb;
 545:Middlewares/Third_Party/LwIP/src/core/tcp.c **** 
 546:Middlewares/Third_Party/LwIP/src/core/tcp.c **** #if LWIP_IPV4
 547:Middlewares/Third_Party/LwIP/src/core/tcp.c ****   /* Don't propagate NULL pointer (IPv4 ANY) to subsequent functions */
 548:Middlewares/Third_Party/LwIP/src/core/tcp.c ****   if (ipaddr == NULL) {
 549:Middlewares/Third_Party/LwIP/src/core/tcp.c ****     ipaddr = IP4_ADDR_ANY;
 550:Middlewares/Third_Party/LwIP/src/core/tcp.c ****   }
 551:Middlewares/Third_Party/LwIP/src/core/tcp.c **** #endif /* LWIP_IPV4 */
 552:Middlewares/Third_Party/LwIP/src/core/tcp.c **** 
 553:Middlewares/Third_Party/LwIP/src/core/tcp.c ****   /* still need to check for ipaddr == NULL in IPv6 only case */
 554:Middlewares/Third_Party/LwIP/src/core/tcp.c ****   if ((pcb == NULL) || (ipaddr == NULL) || !IP_ADDR_PCB_VERSION_MATCH_EXACT(pcb, ipaddr)) {
 555:Middlewares/Third_Party/LwIP/src/core/tcp.c ****     return ERR_VAL;
 556:Middlewares/Third_Party/LwIP/src/core/tcp.c ****   }
 557:Middlewares/Third_Party/LwIP/src/core/tcp.c **** 
 558:Middlewares/Third_Party/LwIP/src/core/tcp.c ****   LWIP_ERROR("tcp_bind: can only bind in state CLOSED", pcb->state == CLOSED, return ERR_VAL);
 559:Middlewares/Third_Party/LwIP/src/core/tcp.c **** 
 560:Middlewares/Third_Party/LwIP/src/core/tcp.c **** #if SO_REUSE
 561:Middlewares/Third_Party/LwIP/src/core/tcp.c ****   /* Unless the REUSEADDR flag is set,
 562:Middlewares/Third_Party/LwIP/src/core/tcp.c ****      we have to check the pcbs in TIME-WAIT state, also.
 563:Middlewares/Third_Party/LwIP/src/core/tcp.c ****      We do not dump TIME_WAIT pcb's; they can still be matched by incoming
 564:Middlewares/Third_Party/LwIP/src/core/tcp.c ****      packets using both local and remote IP addresses and ports to distinguish.
 565:Middlewares/Third_Party/LwIP/src/core/tcp.c ****    */
 566:Middlewares/Third_Party/LwIP/src/core/tcp.c ****   if (ip_get_option(pcb, SOF_REUSEADDR)) {
 567:Middlewares/Third_Party/LwIP/src/core/tcp.c ****     max_pcb_list = NUM_TCP_PCB_LISTS_NO_TIME_WAIT;
 568:Middlewares/Third_Party/LwIP/src/core/tcp.c ****   }
 569:Middlewares/Third_Party/LwIP/src/core/tcp.c **** #endif /* SO_REUSE */
 570:Middlewares/Third_Party/LwIP/src/core/tcp.c **** 
ARM GAS  C:\Users\Student\AppData\Local\Temp\ccY4weUp.s 			page 13


 571:Middlewares/Third_Party/LwIP/src/core/tcp.c ****   if (port == 0) {
 572:Middlewares/Third_Party/LwIP/src/core/tcp.c ****     port = tcp_new_port();
 573:Middlewares/Third_Party/LwIP/src/core/tcp.c ****     if (port == 0) {
 574:Middlewares/Third_Party/LwIP/src/core/tcp.c ****       return ERR_BUF;
 575:Middlewares/Third_Party/LwIP/src/core/tcp.c ****     }
 576:Middlewares/Third_Party/LwIP/src/core/tcp.c ****   } else {
 577:Middlewares/Third_Party/LwIP/src/core/tcp.c ****     /* Check if the address already is in use (on all lists) */
 578:Middlewares/Third_Party/LwIP/src/core/tcp.c ****     for (i = 0; i < max_pcb_list; i++) {
 579:Middlewares/Third_Party/LwIP/src/core/tcp.c ****       for (cpcb = *tcp_pcb_lists[i]; cpcb != NULL; cpcb = cpcb->next) {
 580:Middlewares/Third_Party/LwIP/src/core/tcp.c ****         if (cpcb->local_port == port) {
 581:Middlewares/Third_Party/LwIP/src/core/tcp.c **** #if SO_REUSE
 582:Middlewares/Third_Party/LwIP/src/core/tcp.c ****           /* Omit checking for the same port if both pcbs have REUSEADDR set.
 583:Middlewares/Third_Party/LwIP/src/core/tcp.c ****              For SO_REUSEADDR, the duplicate-check for a 5-tuple is done in
 584:Middlewares/Third_Party/LwIP/src/core/tcp.c ****              tcp_connect. */
 585:Middlewares/Third_Party/LwIP/src/core/tcp.c ****           if (!ip_get_option(pcb, SOF_REUSEADDR) ||
 586:Middlewares/Third_Party/LwIP/src/core/tcp.c ****               !ip_get_option(cpcb, SOF_REUSEADDR))
 587:Middlewares/Third_Party/LwIP/src/core/tcp.c **** #endif /* SO_REUSE */
 588:Middlewares/Third_Party/LwIP/src/core/tcp.c ****           {
 589:Middlewares/Third_Party/LwIP/src/core/tcp.c ****             /* @todo: check accept_any_ip_version */
 590:Middlewares/Third_Party/LwIP/src/core/tcp.c ****             if ((IP_IS_V6(ipaddr) == IP_IS_V6_VAL(cpcb->local_ip)) &&
 591:Middlewares/Third_Party/LwIP/src/core/tcp.c ****                 (ip_addr_isany(&cpcb->local_ip) ||
 592:Middlewares/Third_Party/LwIP/src/core/tcp.c ****                 ip_addr_isany(ipaddr) ||
 593:Middlewares/Third_Party/LwIP/src/core/tcp.c ****                 ip_addr_cmp(&cpcb->local_ip, ipaddr))) {
 594:Middlewares/Third_Party/LwIP/src/core/tcp.c ****               return ERR_USE;
 595:Middlewares/Third_Party/LwIP/src/core/tcp.c ****             }
 596:Middlewares/Third_Party/LwIP/src/core/tcp.c ****           }
 597:Middlewares/Third_Party/LwIP/src/core/tcp.c ****         }
 598:Middlewares/Third_Party/LwIP/src/core/tcp.c ****       }
 599:Middlewares/Third_Party/LwIP/src/core/tcp.c ****     }
 600:Middlewares/Third_Party/LwIP/src/core/tcp.c ****   }
 601:Middlewares/Third_Party/LwIP/src/core/tcp.c **** 
 602:Middlewares/Third_Party/LwIP/src/core/tcp.c ****   if (!ip_addr_isany(ipaddr)) {
 603:Middlewares/Third_Party/LwIP/src/core/tcp.c ****     ip_addr_set(&pcb->local_ip, ipaddr);
 604:Middlewares/Third_Party/LwIP/src/core/tcp.c ****   }
 605:Middlewares/Third_Party/LwIP/src/core/tcp.c ****   pcb->local_port = port;
 606:Middlewares/Third_Party/LwIP/src/core/tcp.c ****   TCP_REG(&tcp_bound_pcbs, pcb);
 607:Middlewares/Third_Party/LwIP/src/core/tcp.c ****   LWIP_DEBUGF(TCP_DEBUG, ("tcp_bind: bind to port %"U16_F"\n", port));
 608:Middlewares/Third_Party/LwIP/src/core/tcp.c ****   return ERR_OK;
 609:Middlewares/Third_Party/LwIP/src/core/tcp.c **** }
 610:Middlewares/Third_Party/LwIP/src/core/tcp.c **** #if LWIP_CALLBACK_API
 611:Middlewares/Third_Party/LwIP/src/core/tcp.c **** /**
 612:Middlewares/Third_Party/LwIP/src/core/tcp.c ****  * Default accept callback if no accept callback is specified by the user.
 613:Middlewares/Third_Party/LwIP/src/core/tcp.c ****  */
 614:Middlewares/Third_Party/LwIP/src/core/tcp.c **** static err_t
 615:Middlewares/Third_Party/LwIP/src/core/tcp.c **** tcp_accept_null(void *arg, struct tcp_pcb *pcb, err_t err)
 616:Middlewares/Third_Party/LwIP/src/core/tcp.c **** {
 617:Middlewares/Third_Party/LwIP/src/core/tcp.c ****   LWIP_UNUSED_ARG(arg);
 618:Middlewares/Third_Party/LwIP/src/core/tcp.c ****   LWIP_UNUSED_ARG(err);
 619:Middlewares/Third_Party/LwIP/src/core/tcp.c **** 
 620:Middlewares/Third_Party/LwIP/src/core/tcp.c ****   tcp_abort(pcb);
 621:Middlewares/Third_Party/LwIP/src/core/tcp.c **** 
 622:Middlewares/Third_Party/LwIP/src/core/tcp.c ****   return ERR_ABRT;
 623:Middlewares/Third_Party/LwIP/src/core/tcp.c **** }
 624:Middlewares/Third_Party/LwIP/src/core/tcp.c **** #endif /* LWIP_CALLBACK_API */
 625:Middlewares/Third_Party/LwIP/src/core/tcp.c **** 
 626:Middlewares/Third_Party/LwIP/src/core/tcp.c **** /**
 627:Middlewares/Third_Party/LwIP/src/core/tcp.c ****  * @ingroup tcp_raw
ARM GAS  C:\Users\Student\AppData\Local\Temp\ccY4weUp.s 			page 14


 628:Middlewares/Third_Party/LwIP/src/core/tcp.c ****  * Set the state of the connection to be LISTEN, which means that it
 629:Middlewares/Third_Party/LwIP/src/core/tcp.c ****  * is able to accept incoming connections. The protocol control block
 630:Middlewares/Third_Party/LwIP/src/core/tcp.c ****  * is reallocated in order to consume less memory. Setting the
 631:Middlewares/Third_Party/LwIP/src/core/tcp.c ****  * connection to LISTEN is an irreversible process.
 632:Middlewares/Third_Party/LwIP/src/core/tcp.c ****  *
 633:Middlewares/Third_Party/LwIP/src/core/tcp.c ****  * @param pcb the original tcp_pcb
 634:Middlewares/Third_Party/LwIP/src/core/tcp.c ****  * @param backlog the incoming connections queue limit
 635:Middlewares/Third_Party/LwIP/src/core/tcp.c ****  * @return tcp_pcb used for listening, consumes less memory.
 636:Middlewares/Third_Party/LwIP/src/core/tcp.c ****  *
 637:Middlewares/Third_Party/LwIP/src/core/tcp.c ****  * @note The original tcp_pcb is freed. This function therefore has to be
 638:Middlewares/Third_Party/LwIP/src/core/tcp.c ****  *       called like this:
 639:Middlewares/Third_Party/LwIP/src/core/tcp.c ****  *             tpcb = tcp_listen(tpcb);
 640:Middlewares/Third_Party/LwIP/src/core/tcp.c ****  */
 641:Middlewares/Third_Party/LwIP/src/core/tcp.c **** struct tcp_pcb *
 642:Middlewares/Third_Party/LwIP/src/core/tcp.c **** tcp_listen_with_backlog(struct tcp_pcb *pcb, u8_t backlog)
 643:Middlewares/Third_Party/LwIP/src/core/tcp.c **** {
 644:Middlewares/Third_Party/LwIP/src/core/tcp.c ****   struct tcp_pcb_listen *lpcb;
 645:Middlewares/Third_Party/LwIP/src/core/tcp.c **** 
 646:Middlewares/Third_Party/LwIP/src/core/tcp.c ****   LWIP_UNUSED_ARG(backlog);
 647:Middlewares/Third_Party/LwIP/src/core/tcp.c ****   LWIP_ERROR("tcp_listen: pcb already connected", pcb->state == CLOSED, return NULL);
 648:Middlewares/Third_Party/LwIP/src/core/tcp.c **** 
 649:Middlewares/Third_Party/LwIP/src/core/tcp.c ****   /* already listening? */
 650:Middlewares/Third_Party/LwIP/src/core/tcp.c ****   if (pcb->state == LISTEN) {
 651:Middlewares/Third_Party/LwIP/src/core/tcp.c ****     return pcb;
 652:Middlewares/Third_Party/LwIP/src/core/tcp.c ****   }
 653:Middlewares/Third_Party/LwIP/src/core/tcp.c **** #if SO_REUSE
 654:Middlewares/Third_Party/LwIP/src/core/tcp.c ****   if (ip_get_option(pcb, SOF_REUSEADDR)) {
 655:Middlewares/Third_Party/LwIP/src/core/tcp.c ****     /* Since SOF_REUSEADDR allows reusing a local address before the pcb's usage
 656:Middlewares/Third_Party/LwIP/src/core/tcp.c ****        is declared (listen-/connection-pcb), we have to make sure now that
 657:Middlewares/Third_Party/LwIP/src/core/tcp.c ****        this port is only used once for every local IP. */
 658:Middlewares/Third_Party/LwIP/src/core/tcp.c ****     for (lpcb = tcp_listen_pcbs.listen_pcbs; lpcb != NULL; lpcb = lpcb->next) {
 659:Middlewares/Third_Party/LwIP/src/core/tcp.c ****       if ((lpcb->local_port == pcb->local_port) &&
 660:Middlewares/Third_Party/LwIP/src/core/tcp.c ****           ip_addr_cmp(&lpcb->local_ip, &pcb->local_ip)) {
 661:Middlewares/Third_Party/LwIP/src/core/tcp.c ****         /* this address/port is already used */
 662:Middlewares/Third_Party/LwIP/src/core/tcp.c ****         return NULL;
 663:Middlewares/Third_Party/LwIP/src/core/tcp.c ****       }
 664:Middlewares/Third_Party/LwIP/src/core/tcp.c ****     }
 665:Middlewares/Third_Party/LwIP/src/core/tcp.c ****   }
 666:Middlewares/Third_Party/LwIP/src/core/tcp.c **** #endif /* SO_REUSE */
 667:Middlewares/Third_Party/LwIP/src/core/tcp.c ****   lpcb = (struct tcp_pcb_listen *)memp_malloc(MEMP_TCP_PCB_LISTEN);
 668:Middlewares/Third_Party/LwIP/src/core/tcp.c ****   if (lpcb == NULL) {
 669:Middlewares/Third_Party/LwIP/src/core/tcp.c ****     return NULL;
 670:Middlewares/Third_Party/LwIP/src/core/tcp.c ****   }
 671:Middlewares/Third_Party/LwIP/src/core/tcp.c ****   lpcb->callback_arg = pcb->callback_arg;
 672:Middlewares/Third_Party/LwIP/src/core/tcp.c ****   lpcb->local_port = pcb->local_port;
 673:Middlewares/Third_Party/LwIP/src/core/tcp.c ****   lpcb->state = LISTEN;
 674:Middlewares/Third_Party/LwIP/src/core/tcp.c ****   lpcb->prio = pcb->prio;
 675:Middlewares/Third_Party/LwIP/src/core/tcp.c ****   lpcb->so_options = pcb->so_options;
 676:Middlewares/Third_Party/LwIP/src/core/tcp.c ****   lpcb->ttl = pcb->ttl;
 677:Middlewares/Third_Party/LwIP/src/core/tcp.c ****   lpcb->tos = pcb->tos;
 678:Middlewares/Third_Party/LwIP/src/core/tcp.c **** #if LWIP_IPV4 && LWIP_IPV6
 679:Middlewares/Third_Party/LwIP/src/core/tcp.c ****   IP_SET_TYPE_VAL(lpcb->remote_ip, pcb->local_ip.type);
 680:Middlewares/Third_Party/LwIP/src/core/tcp.c **** #endif /* LWIP_IPV4 && LWIP_IPV6 */
 681:Middlewares/Third_Party/LwIP/src/core/tcp.c ****   ip_addr_copy(lpcb->local_ip, pcb->local_ip);
 682:Middlewares/Third_Party/LwIP/src/core/tcp.c ****   if (pcb->local_port != 0) {
 683:Middlewares/Third_Party/LwIP/src/core/tcp.c ****     TCP_RMV(&tcp_bound_pcbs, pcb);
 684:Middlewares/Third_Party/LwIP/src/core/tcp.c ****   }
ARM GAS  C:\Users\Student\AppData\Local\Temp\ccY4weUp.s 			page 15


 685:Middlewares/Third_Party/LwIP/src/core/tcp.c ****   memp_free(MEMP_TCP_PCB, pcb);
 686:Middlewares/Third_Party/LwIP/src/core/tcp.c **** #if LWIP_CALLBACK_API
 687:Middlewares/Third_Party/LwIP/src/core/tcp.c ****   lpcb->accept = tcp_accept_null;
 688:Middlewares/Third_Party/LwIP/src/core/tcp.c **** #endif /* LWIP_CALLBACK_API */
 689:Middlewares/Third_Party/LwIP/src/core/tcp.c **** #if TCP_LISTEN_BACKLOG
 690:Middlewares/Third_Party/LwIP/src/core/tcp.c ****   lpcb->accepts_pending = 0;
 691:Middlewares/Third_Party/LwIP/src/core/tcp.c ****   tcp_backlog_set(lpcb, backlog);
 692:Middlewares/Third_Party/LwIP/src/core/tcp.c **** #endif /* TCP_LISTEN_BACKLOG */
 693:Middlewares/Third_Party/LwIP/src/core/tcp.c ****   TCP_REG(&tcp_listen_pcbs.pcbs, (struct tcp_pcb *)lpcb);
 694:Middlewares/Third_Party/LwIP/src/core/tcp.c ****   return (struct tcp_pcb *)lpcb;
 695:Middlewares/Third_Party/LwIP/src/core/tcp.c **** }
 696:Middlewares/Third_Party/LwIP/src/core/tcp.c **** 
 697:Middlewares/Third_Party/LwIP/src/core/tcp.c **** /**
 698:Middlewares/Third_Party/LwIP/src/core/tcp.c ****  * Update the state that tracks the available window space to advertise.
 699:Middlewares/Third_Party/LwIP/src/core/tcp.c ****  *
 700:Middlewares/Third_Party/LwIP/src/core/tcp.c ****  * Returns how much extra window would be advertised if we sent an
 701:Middlewares/Third_Party/LwIP/src/core/tcp.c ****  * update now.
 702:Middlewares/Third_Party/LwIP/src/core/tcp.c ****  */
 703:Middlewares/Third_Party/LwIP/src/core/tcp.c **** u32_t
 704:Middlewares/Third_Party/LwIP/src/core/tcp.c **** tcp_update_rcv_ann_wnd(struct tcp_pcb *pcb)
 705:Middlewares/Third_Party/LwIP/src/core/tcp.c **** {
 706:Middlewares/Third_Party/LwIP/src/core/tcp.c ****   u32_t new_right_edge = pcb->rcv_nxt + pcb->rcv_wnd;
 707:Middlewares/Third_Party/LwIP/src/core/tcp.c **** 
 708:Middlewares/Third_Party/LwIP/src/core/tcp.c ****   if (TCP_SEQ_GEQ(new_right_edge, pcb->rcv_ann_right_edge + LWIP_MIN((TCP_WND / 2), pcb->mss))) {
 709:Middlewares/Third_Party/LwIP/src/core/tcp.c ****     /* we can advertise more window */
 710:Middlewares/Third_Party/LwIP/src/core/tcp.c ****     pcb->rcv_ann_wnd = pcb->rcv_wnd;
 711:Middlewares/Third_Party/LwIP/src/core/tcp.c ****     return new_right_edge - pcb->rcv_ann_right_edge;
 712:Middlewares/Third_Party/LwIP/src/core/tcp.c ****   } else {
 713:Middlewares/Third_Party/LwIP/src/core/tcp.c ****     if (TCP_SEQ_GT(pcb->rcv_nxt, pcb->rcv_ann_right_edge)) {
 714:Middlewares/Third_Party/LwIP/src/core/tcp.c ****       /* Can happen due to other end sending out of advertised window,
 715:Middlewares/Third_Party/LwIP/src/core/tcp.c ****        * but within actual available (but not yet advertised) window */
 716:Middlewares/Third_Party/LwIP/src/core/tcp.c ****       pcb->rcv_ann_wnd = 0;
 717:Middlewares/Third_Party/LwIP/src/core/tcp.c ****     } else {
 718:Middlewares/Third_Party/LwIP/src/core/tcp.c ****       /* keep the right edge of window constant */
 719:Middlewares/Third_Party/LwIP/src/core/tcp.c ****       u32_t new_rcv_ann_wnd = pcb->rcv_ann_right_edge - pcb->rcv_nxt;
 720:Middlewares/Third_Party/LwIP/src/core/tcp.c **** #if !LWIP_WND_SCALE
 721:Middlewares/Third_Party/LwIP/src/core/tcp.c ****       LWIP_ASSERT("new_rcv_ann_wnd <= 0xffff", new_rcv_ann_wnd <= 0xffff);
 722:Middlewares/Third_Party/LwIP/src/core/tcp.c **** #endif
 723:Middlewares/Third_Party/LwIP/src/core/tcp.c ****       pcb->rcv_ann_wnd = (tcpwnd_size_t)new_rcv_ann_wnd;
 724:Middlewares/Third_Party/LwIP/src/core/tcp.c ****     }
 725:Middlewares/Third_Party/LwIP/src/core/tcp.c ****     return 0;
 726:Middlewares/Third_Party/LwIP/src/core/tcp.c ****   }
 727:Middlewares/Third_Party/LwIP/src/core/tcp.c **** }
 728:Middlewares/Third_Party/LwIP/src/core/tcp.c **** 
 729:Middlewares/Third_Party/LwIP/src/core/tcp.c **** /**
 730:Middlewares/Third_Party/LwIP/src/core/tcp.c ****  * @ingroup tcp_raw
 731:Middlewares/Third_Party/LwIP/src/core/tcp.c ****  * This function should be called by the application when it has
 732:Middlewares/Third_Party/LwIP/src/core/tcp.c ****  * processed the data. The purpose is to advertise a larger window
 733:Middlewares/Third_Party/LwIP/src/core/tcp.c ****  * when the data has been processed.
 734:Middlewares/Third_Party/LwIP/src/core/tcp.c ****  *
 735:Middlewares/Third_Party/LwIP/src/core/tcp.c ****  * @param pcb the tcp_pcb for which data is read
 736:Middlewares/Third_Party/LwIP/src/core/tcp.c ****  * @param len the amount of bytes that have been read by the application
 737:Middlewares/Third_Party/LwIP/src/core/tcp.c ****  */
 738:Middlewares/Third_Party/LwIP/src/core/tcp.c **** void
 739:Middlewares/Third_Party/LwIP/src/core/tcp.c **** tcp_recved(struct tcp_pcb *pcb, u16_t len)
 740:Middlewares/Third_Party/LwIP/src/core/tcp.c **** {
 741:Middlewares/Third_Party/LwIP/src/core/tcp.c ****   int wnd_inflation;
ARM GAS  C:\Users\Student\AppData\Local\Temp\ccY4weUp.s 			page 16


 742:Middlewares/Third_Party/LwIP/src/core/tcp.c **** 
 743:Middlewares/Third_Party/LwIP/src/core/tcp.c ****   /* pcb->state LISTEN not allowed here */
 744:Middlewares/Third_Party/LwIP/src/core/tcp.c ****   LWIP_ASSERT("don't call tcp_recved for listen-pcbs",
 745:Middlewares/Third_Party/LwIP/src/core/tcp.c ****     pcb->state != LISTEN);
 746:Middlewares/Third_Party/LwIP/src/core/tcp.c **** 
 747:Middlewares/Third_Party/LwIP/src/core/tcp.c ****   pcb->rcv_wnd += len;
 748:Middlewares/Third_Party/LwIP/src/core/tcp.c ****   if (pcb->rcv_wnd > TCP_WND_MAX(pcb)) {
 749:Middlewares/Third_Party/LwIP/src/core/tcp.c ****     pcb->rcv_wnd = TCP_WND_MAX(pcb);
 750:Middlewares/Third_Party/LwIP/src/core/tcp.c ****   } else if (pcb->rcv_wnd == 0) {
 751:Middlewares/Third_Party/LwIP/src/core/tcp.c ****     /* rcv_wnd overflowed */
 752:Middlewares/Third_Party/LwIP/src/core/tcp.c ****     if ((pcb->state == CLOSE_WAIT) || (pcb->state == LAST_ACK)) {
 753:Middlewares/Third_Party/LwIP/src/core/tcp.c ****       /* In passive close, we allow this, since the FIN bit is added to rcv_wnd
 754:Middlewares/Third_Party/LwIP/src/core/tcp.c ****          by the stack itself, since it is not mandatory for an application
 755:Middlewares/Third_Party/LwIP/src/core/tcp.c ****          to call tcp_recved() for the FIN bit, but e.g. the netconn API does so. */
 756:Middlewares/Third_Party/LwIP/src/core/tcp.c ****       pcb->rcv_wnd = TCP_WND_MAX(pcb);
 757:Middlewares/Third_Party/LwIP/src/core/tcp.c ****     } else {
 758:Middlewares/Third_Party/LwIP/src/core/tcp.c ****       LWIP_ASSERT("tcp_recved: len wrapped rcv_wnd\n", 0);
 759:Middlewares/Third_Party/LwIP/src/core/tcp.c ****     }
 760:Middlewares/Third_Party/LwIP/src/core/tcp.c ****   }
 761:Middlewares/Third_Party/LwIP/src/core/tcp.c **** 
 762:Middlewares/Third_Party/LwIP/src/core/tcp.c ****   wnd_inflation = tcp_update_rcv_ann_wnd(pcb);
 763:Middlewares/Third_Party/LwIP/src/core/tcp.c **** 
 764:Middlewares/Third_Party/LwIP/src/core/tcp.c ****   /* If the change in the right edge of window is significant (default
 765:Middlewares/Third_Party/LwIP/src/core/tcp.c ****    * watermark is TCP_WND/4), then send an explicit update now.
 766:Middlewares/Third_Party/LwIP/src/core/tcp.c ****    * Otherwise wait for a packet to be sent in the normal course of
 767:Middlewares/Third_Party/LwIP/src/core/tcp.c ****    * events (or more window to be available later) */
 768:Middlewares/Third_Party/LwIP/src/core/tcp.c ****   if (wnd_inflation >= TCP_WND_UPDATE_THRESHOLD) {
 769:Middlewares/Third_Party/LwIP/src/core/tcp.c ****     tcp_ack_now(pcb);
 770:Middlewares/Third_Party/LwIP/src/core/tcp.c ****     tcp_output(pcb);
 771:Middlewares/Third_Party/LwIP/src/core/tcp.c ****   }
 772:Middlewares/Third_Party/LwIP/src/core/tcp.c **** 
 773:Middlewares/Third_Party/LwIP/src/core/tcp.c ****   LWIP_DEBUGF(TCP_DEBUG, ("tcp_recved: received %"U16_F" bytes, wnd %"TCPWNDSIZE_F" (%"TCPWNDSIZE_F
 774:Middlewares/Third_Party/LwIP/src/core/tcp.c ****          len, pcb->rcv_wnd, (u16_t)(TCP_WND_MAX(pcb) - pcb->rcv_wnd)));
 775:Middlewares/Third_Party/LwIP/src/core/tcp.c **** }
 776:Middlewares/Third_Party/LwIP/src/core/tcp.c **** 
 777:Middlewares/Third_Party/LwIP/src/core/tcp.c **** /**
 778:Middlewares/Third_Party/LwIP/src/core/tcp.c ****  * Allocate a new local TCP port.
 779:Middlewares/Third_Party/LwIP/src/core/tcp.c ****  *
 780:Middlewares/Third_Party/LwIP/src/core/tcp.c ****  * @return a new (free) local TCP port number
 781:Middlewares/Third_Party/LwIP/src/core/tcp.c ****  */
 782:Middlewares/Third_Party/LwIP/src/core/tcp.c **** static u16_t
 783:Middlewares/Third_Party/LwIP/src/core/tcp.c **** tcp_new_port(void)
 784:Middlewares/Third_Party/LwIP/src/core/tcp.c **** {
 118              		.loc 1 784 0
 119              		.cfi_startproc
 120              		@ args = 0, pretend = 0, frame = 0
 121              		@ frame_needed = 0, uses_anonymous_args = 0
 122              		@ link register save eliminated.
 123 0000 10B4     		push	{r4}
 124              	.LCFI1:
 125              		.cfi_def_cfa_offset 4
 126              		.cfi_offset 4, -4
 127              	.LVL9:
 785:Middlewares/Third_Party/LwIP/src/core/tcp.c ****   u8_t i;
 786:Middlewares/Third_Party/LwIP/src/core/tcp.c ****   u16_t n = 0;
 128              		.loc 1 786 0
 129 0002 0024     		movs	r4, #0
ARM GAS  C:\Users\Student\AppData\Local\Temp\ccY4weUp.s 			page 17


 130 0004 09E0     		b	.L13
 131              	.LVL10:
 132              	.L24:
 787:Middlewares/Third_Party/LwIP/src/core/tcp.c ****   struct tcp_pcb *pcb;
 788:Middlewares/Third_Party/LwIP/src/core/tcp.c **** 
 789:Middlewares/Third_Party/LwIP/src/core/tcp.c **** again:
 790:Middlewares/Third_Party/LwIP/src/core/tcp.c ****   if (tcp_port++ == TCP_LOCAL_PORT_RANGE_END) {
 791:Middlewares/Third_Party/LwIP/src/core/tcp.c ****     tcp_port = TCP_LOCAL_PORT_RANGE_START;
 133              		.loc 1 791 0
 134 0006 4FF44042 		mov	r2, #49152
 135 000a 144B     		ldr	r3, .L28
 136 000c 1A80     		strh	r2, [r3]	@ movhi
 137 000e 0CE0     		b	.L14
 138              	.LVL11:
 139              	.L27:
 792:Middlewares/Third_Party/LwIP/src/core/tcp.c ****   }
 793:Middlewares/Third_Party/LwIP/src/core/tcp.c ****   /* Check all PCB lists. */
 794:Middlewares/Third_Party/LwIP/src/core/tcp.c ****   for (i = 0; i < NUM_TCP_PCB_LISTS; i++) {
 795:Middlewares/Third_Party/LwIP/src/core/tcp.c ****     for (pcb = *tcp_pcb_lists[i]; pcb != NULL; pcb = pcb->next) {
 796:Middlewares/Third_Party/LwIP/src/core/tcp.c ****       if (pcb->local_port == tcp_port) {
 797:Middlewares/Third_Party/LwIP/src/core/tcp.c ****         if (++n > (TCP_LOCAL_PORT_RANGE_END - TCP_LOCAL_PORT_RANGE_START)) {
 140              		.loc 1 797 0
 141 0010 0134     		adds	r4, r4, #1
 142              	.LVL12:
 143 0012 A4B2     		uxth	r4, r4
 144              	.LVL13:
 145 0014 B4F5804F 		cmp	r4, #16384
 146 0018 1ED2     		bcs	.L23
 147              	.LVL14:
 148              	.L13:
 790:Middlewares/Third_Party/LwIP/src/core/tcp.c ****     tcp_port = TCP_LOCAL_PORT_RANGE_START;
 149              		.loc 1 790 0
 150 001a 104A     		ldr	r2, .L28
 151 001c 1388     		ldrh	r3, [r2]
 152 001e 591C     		adds	r1, r3, #1
 153 0020 1180     		strh	r1, [r2]	@ movhi
 154 0022 4FF6FF72 		movw	r2, #65535
 155 0026 9342     		cmp	r3, r2
 156 0028 EDD0     		beq	.L24
 157              	.L14:
 158              	.LVL15:
 794:Middlewares/Third_Party/LwIP/src/core/tcp.c ****     for (pcb = *tcp_pcb_lists[i]; pcb != NULL; pcb = pcb->next) {
 159              		.loc 1 794 0
 160 002a 0020     		movs	r0, #0
 161              	.LVL16:
 162              	.L15:
 794:Middlewares/Third_Party/LwIP/src/core/tcp.c ****     for (pcb = *tcp_pcb_lists[i]; pcb != NULL; pcb = pcb->next) {
 163              		.loc 1 794 0 is_stmt 0 discriminator 1
 164 002c 0328     		cmp	r0, #3
 165 002e 0ED8     		bhi	.L25
 795:Middlewares/Third_Party/LwIP/src/core/tcp.c ****       if (pcb->local_port == tcp_port) {
 166              		.loc 1 795 0 is_stmt 1
 167 0030 0B4B     		ldr	r3, .L28+4
 168 0032 53F82030 		ldr	r3, [r3, r0, lsl #2]
 169 0036 1B68     		ldr	r3, [r3]
 170              	.LVL17:
 171              	.L16:
ARM GAS  C:\Users\Student\AppData\Local\Temp\ccY4weUp.s 			page 18


 795:Middlewares/Third_Party/LwIP/src/core/tcp.c ****       if (pcb->local_port == tcp_port) {
 172              		.loc 1 795 0 is_stmt 0 discriminator 1
 173 0038 33B1     		cbz	r3, .L26
 796:Middlewares/Third_Party/LwIP/src/core/tcp.c ****         if (++n > (TCP_LOCAL_PORT_RANGE_END - TCP_LOCAL_PORT_RANGE_START)) {
 174              		.loc 1 796 0 is_stmt 1
 175 003a D98A     		ldrh	r1, [r3, #22]
 176 003c 074A     		ldr	r2, .L28
 177 003e 1288     		ldrh	r2, [r2]
 178 0040 9142     		cmp	r1, r2
 179 0042 E5D0     		beq	.L27
 795:Middlewares/Third_Party/LwIP/src/core/tcp.c ****       if (pcb->local_port == tcp_port) {
 180              		.loc 1 795 0 discriminator 2
 181 0044 DB68     		ldr	r3, [r3, #12]
 182              	.LVL18:
 183 0046 F7E7     		b	.L16
 184              	.L26:
 794:Middlewares/Third_Party/LwIP/src/core/tcp.c ****     for (pcb = *tcp_pcb_lists[i]; pcb != NULL; pcb = pcb->next) {
 185              		.loc 1 794 0 discriminator 2
 186 0048 0130     		adds	r0, r0, #1
 187              	.LVL19:
 188 004a C0B2     		uxtb	r0, r0
 189              	.LVL20:
 190 004c EEE7     		b	.L15
 191              	.LVL21:
 192              	.L25:
 798:Middlewares/Third_Party/LwIP/src/core/tcp.c ****           return 0;
 799:Middlewares/Third_Party/LwIP/src/core/tcp.c ****         }
 800:Middlewares/Third_Party/LwIP/src/core/tcp.c ****         goto again;
 801:Middlewares/Third_Party/LwIP/src/core/tcp.c ****       }
 802:Middlewares/Third_Party/LwIP/src/core/tcp.c ****     }
 803:Middlewares/Third_Party/LwIP/src/core/tcp.c ****   }
 804:Middlewares/Third_Party/LwIP/src/core/tcp.c ****   return tcp_port;
 193              		.loc 1 804 0
 194 004e 034B     		ldr	r3, .L28
 195 0050 1888     		ldrh	r0, [r3]
 196              	.LVL22:
 197              	.L18:
 805:Middlewares/Third_Party/LwIP/src/core/tcp.c **** }
 198              		.loc 1 805 0
 199 0052 5DF8044B 		ldr	r4, [sp], #4
 200              	.LCFI2:
 201              		.cfi_remember_state
 202              		.cfi_restore 4
 203              		.cfi_def_cfa_offset 0
 204              	.LVL23:
 205 0056 7047     		bx	lr
 206              	.LVL24:
 207              	.L23:
 208              	.LCFI3:
 209              		.cfi_restore_state
 798:Middlewares/Third_Party/LwIP/src/core/tcp.c ****           return 0;
 210              		.loc 1 798 0
 211 0058 0020     		movs	r0, #0
 212              	.LVL25:
 213 005a FAE7     		b	.L18
 214              	.L29:
 215              		.align	2
ARM GAS  C:\Users\Student\AppData\Local\Temp\ccY4weUp.s 			page 19


 216              	.L28:
 217 005c 00000000 		.word	.LANCHOR1
 218 0060 00000000 		.word	.LANCHOR0
 219              		.cfi_endproc
 220              	.LFE150:
 222              		.section	.text.tcp_init,"ax",%progbits
 223              		.align	1
 224              		.global	tcp_init
 225              		.syntax unified
 226              		.thumb
 227              		.thumb_func
 228              		.fpu fpv5-sp-d16
 230              	tcp_init:
 231              	.LFB136:
 140:Middlewares/Third_Party/LwIP/src/core/tcp.c **** #if LWIP_RANDOMIZE_INITIAL_LOCAL_PORTS && defined(LWIP_RAND)
 232              		.loc 1 140 0
 233              		.cfi_startproc
 234              		@ args = 0, pretend = 0, frame = 0
 235              		@ frame_needed = 0, uses_anonymous_args = 0
 236              		@ link register save eliminated.
 237 0000 7047     		bx	lr
 238              		.cfi_endproc
 239              	.LFE136:
 241              		.section	.text.tcp_bind,"ax",%progbits
 242              		.align	1
 243              		.global	tcp_bind
 244              		.syntax unified
 245              		.thumb
 246              		.thumb_func
 247              		.fpu fpv5-sp-d16
 249              	tcp_bind:
 250              	.LFB145:
 541:Middlewares/Third_Party/LwIP/src/core/tcp.c ****   int i;
 251              		.loc 1 541 0
 252              		.cfi_startproc
 253              		@ args = 0, pretend = 0, frame = 0
 254              		@ frame_needed = 0, uses_anonymous_args = 0
 255              	.LVL26:
 541:Middlewares/Third_Party/LwIP/src/core/tcp.c ****   int i;
 256              		.loc 1 541 0
 257 0000 70B5     		push	{r4, r5, r6, lr}
 258              	.LCFI4:
 259              		.cfi_def_cfa_offset 16
 260              		.cfi_offset 4, -16
 261              		.cfi_offset 5, -12
 262              		.cfi_offset 6, -8
 263              		.cfi_offset 14, -4
 264 0002 0546     		mov	r5, r0
 265              	.LVL27:
 548:Middlewares/Third_Party/LwIP/src/core/tcp.c ****     ipaddr = IP4_ADDR_ANY;
 266              		.loc 1 548 0
 267 0004 0C46     		mov	r4, r1
 268 0006 79B1     		cbz	r1, .L52
 269              	.L32:
 270              	.LVL28:
 554:Middlewares/Third_Party/LwIP/src/core/tcp.c ****     return ERR_VAL;
 271              		.loc 1 554 0
ARM GAS  C:\Users\Student\AppData\Local\Temp\ccY4weUp.s 			page 20


 272 0008 002C     		cmp	r4, #0
 273 000a 18BF     		it	ne
 274 000c 002D     		cmpne	r5, #0
 275 000e 30D0     		beq	.L42
 558:Middlewares/Third_Party/LwIP/src/core/tcp.c **** 
 276              		.loc 1 558 0
 277 0010 2B7D     		ldrb	r3, [r5, #20]	@ zero_extendqisi2
 278 0012 002B     		cmp	r3, #0
 279 0014 30D1     		bne	.L43
 571:Middlewares/Third_Party/LwIP/src/core/tcp.c ****     port = tcp_new_port();
 280              		.loc 1 571 0
 281 0016 4AB1     		cbz	r2, .L53
 282 0018 0026     		movs	r6, #0
 283              	.LVL29:
 284              	.L34:
 578:Middlewares/Third_Party/LwIP/src/core/tcp.c ****       for (cpcb = *tcp_pcb_lists[i]; cpcb != NULL; cpcb = cpcb->next) {
 285              		.loc 1 578 0 discriminator 1
 286 001a 032E     		cmp	r6, #3
 287 001c 0ADC     		bgt	.L35
 579:Middlewares/Third_Party/LwIP/src/core/tcp.c ****         if (cpcb->local_port == port) {
 288              		.loc 1 579 0
 289 001e 1F4B     		ldr	r3, .L56
 290 0020 53F82630 		ldr	r3, [r3, r6, lsl #2]
 291 0024 1B68     		ldr	r3, [r3]
 292              	.LVL30:
 293 0026 13E0     		b	.L36
 294              	.LVL31:
 295              	.L52:
 549:Middlewares/Third_Party/LwIP/src/core/tcp.c ****   }
 296              		.loc 1 549 0
 297 0028 1D4C     		ldr	r4, .L56+4
 298 002a EDE7     		b	.L32
 299              	.LVL32:
 300              	.L53:
 572:Middlewares/Third_Party/LwIP/src/core/tcp.c ****     if (port == 0) {
 301              		.loc 1 572 0
 302 002c FFF7FEFF 		bl	tcp_new_port
 303              	.LVL33:
 573:Middlewares/Third_Party/LwIP/src/core/tcp.c ****       return ERR_BUF;
 304              		.loc 1 573 0
 305 0030 0246     		mov	r2, r0
 306 0032 20B3     		cbz	r0, .L54
 307              	.LVL34:
 308              	.L35:
 602:Middlewares/Third_Party/LwIP/src/core/tcp.c ****     ip_addr_set(&pcb->local_ip, ipaddr);
 309              		.loc 1 602 0
 310 0034 14B1     		cbz	r4, .L40
 602:Middlewares/Third_Party/LwIP/src/core/tcp.c ****     ip_addr_set(&pcb->local_ip, ipaddr);
 311              		.loc 1 602 0 is_stmt 0 discriminator 1
 312 0036 2368     		ldr	r3, [r4]
 313 0038 03B1     		cbz	r3, .L40
 603:Middlewares/Third_Party/LwIP/src/core/tcp.c ****   }
 314              		.loc 1 603 0 is_stmt 1 discriminator 4
 315 003a 2B60     		str	r3, [r5]
 316              	.L40:
 605:Middlewares/Third_Party/LwIP/src/core/tcp.c ****   TCP_REG(&tcp_bound_pcbs, pcb);
 317              		.loc 1 605 0
ARM GAS  C:\Users\Student\AppData\Local\Temp\ccY4weUp.s 			page 21


 318 003c EA82     		strh	r2, [r5, #22]	@ movhi
 606:Middlewares/Third_Party/LwIP/src/core/tcp.c ****   LWIP_DEBUGF(TCP_DEBUG, ("tcp_bind: bind to port %"U16_F"\n", port));
 319              		.loc 1 606 0
 320 003e 194B     		ldr	r3, .L56+8
 321 0040 1A68     		ldr	r2, [r3]
 322              	.LVL35:
 323 0042 EA60     		str	r2, [r5, #12]
 324 0044 1D60     		str	r5, [r3]
 325 0046 FFF7FEFF 		bl	tcp_timer_needed
 326              	.LVL36:
 608:Middlewares/Third_Party/LwIP/src/core/tcp.c **** }
 327              		.loc 1 608 0
 328 004a 0020     		movs	r0, #0
 329 004c 70BD     		pop	{r4, r5, r6, pc}
 330              	.LVL37:
 331              	.L37:
 579:Middlewares/Third_Party/LwIP/src/core/tcp.c ****         if (cpcb->local_port == port) {
 332              		.loc 1 579 0 discriminator 2
 333 004e DB68     		ldr	r3, [r3, #12]
 334              	.LVL38:
 335              	.L36:
 579:Middlewares/Third_Party/LwIP/src/core/tcp.c ****         if (cpcb->local_port == port) {
 336              		.loc 1 579 0 is_stmt 0 discriminator 1
 337 0050 6BB1     		cbz	r3, .L55
 580:Middlewares/Third_Party/LwIP/src/core/tcp.c **** #if SO_REUSE
 338              		.loc 1 580 0 is_stmt 1
 339 0052 D98A     		ldrh	r1, [r3, #22]
 340 0054 8A42     		cmp	r2, r1
 341 0056 FAD1     		bne	.L37
 590:Middlewares/Third_Party/LwIP/src/core/tcp.c ****                 (ip_addr_isany(&cpcb->local_ip) ||
 342              		.loc 1 590 0
 343 0058 A3B1     		cbz	r3, .L46
 591:Middlewares/Third_Party/LwIP/src/core/tcp.c ****                 ip_addr_isany(ipaddr) ||
 344              		.loc 1 591 0
 345 005a 1968     		ldr	r1, [r3]
 346 005c A9B1     		cbz	r1, .L47
 591:Middlewares/Third_Party/LwIP/src/core/tcp.c ****                 ip_addr_isany(ipaddr) ||
 347              		.loc 1 591 0 is_stmt 0 discriminator 1
 348 005e BCB1     		cbz	r4, .L48
 592:Middlewares/Third_Party/LwIP/src/core/tcp.c ****                 ip_addr_cmp(&cpcb->local_ip, ipaddr))) {
 349              		.loc 1 592 0 is_stmt 1
 350 0060 2068     		ldr	r0, [r4]
 351 0062 C0B1     		cbz	r0, .L49
 590:Middlewares/Third_Party/LwIP/src/core/tcp.c ****                 (ip_addr_isany(&cpcb->local_ip) ||
 352              		.loc 1 590 0
 353 0064 8142     		cmp	r1, r0
 354 0066 F2D1     		bne	.L37
 594:Middlewares/Third_Party/LwIP/src/core/tcp.c ****             }
 355              		.loc 1 594 0
 356 0068 6FF00700 		mvn	r0, #7
 609:Middlewares/Third_Party/LwIP/src/core/tcp.c **** #if LWIP_CALLBACK_API
 357              		.loc 1 609 0
 358 006c 70BD     		pop	{r4, r5, r6, pc}
 359              	.LVL39:
 360              	.L55:
 578:Middlewares/Third_Party/LwIP/src/core/tcp.c ****       for (cpcb = *tcp_pcb_lists[i]; cpcb != NULL; cpcb = cpcb->next) {
 361              		.loc 1 578 0 discriminator 2
ARM GAS  C:\Users\Student\AppData\Local\Temp\ccY4weUp.s 			page 22


 362 006e 0136     		adds	r6, r6, #1
 363              	.LVL40:
 364 0070 D3E7     		b	.L34
 365              	.LVL41:
 366              	.L42:
 555:Middlewares/Third_Party/LwIP/src/core/tcp.c ****   }
 367              		.loc 1 555 0
 368 0072 6FF00500 		mvn	r0, #5
 369              	.LVL42:
 370 0076 70BD     		pop	{r4, r5, r6, pc}
 371              	.LVL43:
 372              	.L43:
 558:Middlewares/Third_Party/LwIP/src/core/tcp.c **** 
 373              		.loc 1 558 0
 374 0078 6FF00500 		mvn	r0, #5
 375              	.LVL44:
 376 007c 70BD     		pop	{r4, r5, r6, pc}
 377              	.LVL45:
 378              	.L54:
 574:Middlewares/Third_Party/LwIP/src/core/tcp.c ****     }
 379              		.loc 1 574 0
 380 007e 6FF00100 		mvn	r0, #1
 381              	.LVL46:
 382 0082 70BD     		pop	{r4, r5, r6, pc}
 383              	.LVL47:
 384              	.L46:
 594:Middlewares/Third_Party/LwIP/src/core/tcp.c ****             }
 385              		.loc 1 594 0
 386 0084 6FF00700 		mvn	r0, #7
 387 0088 70BD     		pop	{r4, r5, r6, pc}
 388              	.LVL48:
 389              	.L47:
 390 008a 6FF00700 		mvn	r0, #7
 391 008e 70BD     		pop	{r4, r5, r6, pc}
 392              	.LVL49:
 393              	.L48:
 394 0090 6FF00700 		mvn	r0, #7
 395 0094 70BD     		pop	{r4, r5, r6, pc}
 396              	.LVL50:
 397              	.L49:
 398 0096 6FF00700 		mvn	r0, #7
 399 009a 70BD     		pop	{r4, r5, r6, pc}
 400              	.LVL51:
 401              	.L57:
 402              		.align	2
 403              	.L56:
 404 009c 00000000 		.word	.LANCHOR0
 405 00a0 00000000 		.word	ip_addr_any
 406 00a4 00000000 		.word	tcp_bound_pcbs
 407              		.cfi_endproc
 408              	.LFE145:
 410              		.section	.text.tcp_listen_with_backlog,"ax",%progbits
 411              		.align	1
 412              		.global	tcp_listen_with_backlog
 413              		.syntax unified
 414              		.thumb
 415              		.thumb_func
ARM GAS  C:\Users\Student\AppData\Local\Temp\ccY4weUp.s 			page 23


 416              		.fpu fpv5-sp-d16
 418              	tcp_listen_with_backlog:
 419              	.LFB147:
 643:Middlewares/Third_Party/LwIP/src/core/tcp.c ****   struct tcp_pcb_listen *lpcb;
 420              		.loc 1 643 0
 421              		.cfi_startproc
 422              		@ args = 0, pretend = 0, frame = 0
 423              		@ frame_needed = 0, uses_anonymous_args = 0
 424              	.LVL52:
 425 0000 38B5     		push	{r3, r4, r5, lr}
 426              	.LCFI5:
 427              		.cfi_def_cfa_offset 16
 428              		.cfi_offset 3, -16
 429              		.cfi_offset 4, -12
 430              		.cfi_offset 5, -8
 431              		.cfi_offset 14, -4
 647:Middlewares/Third_Party/LwIP/src/core/tcp.c **** 
 432              		.loc 1 647 0
 433 0002 037D     		ldrb	r3, [r0, #20]	@ zero_extendqisi2
 434 0004 002B     		cmp	r3, #0
 435 0006 3AD1     		bne	.L64
 650:Middlewares/Third_Party/LwIP/src/core/tcp.c ****     return pcb;
 436              		.loc 1 650 0
 437 0008 012B     		cmp	r3, #1
 438 000a 3BD0     		beq	.L58
 439 000c 0446     		mov	r4, r0
 667:Middlewares/Third_Party/LwIP/src/core/tcp.c ****   if (lpcb == NULL) {
 440              		.loc 1 667 0
 441 000e 0220     		movs	r0, #2
 442              	.LVL53:
 443 0010 FFF7FEFF 		bl	memp_malloc
 444              	.LVL54:
 668:Middlewares/Third_Party/LwIP/src/core/tcp.c ****     return NULL;
 445              		.loc 1 668 0
 446 0014 0546     		mov	r5, r0
 447 0016 0028     		cmp	r0, #0
 448 0018 33D0     		beq	.L66
 671:Middlewares/Third_Party/LwIP/src/core/tcp.c ****   lpcb->local_port = pcb->local_port;
 449              		.loc 1 671 0
 450 001a 2369     		ldr	r3, [r4, #16]
 451 001c 0361     		str	r3, [r0, #16]
 672:Middlewares/Third_Party/LwIP/src/core/tcp.c ****   lpcb->state = LISTEN;
 452              		.loc 1 672 0
 453 001e E38A     		ldrh	r3, [r4, #22]
 454 0020 C382     		strh	r3, [r0, #22]	@ movhi
 673:Middlewares/Third_Party/LwIP/src/core/tcp.c ****   lpcb->prio = pcb->prio;
 455              		.loc 1 673 0
 456 0022 0123     		movs	r3, #1
 457 0024 0375     		strb	r3, [r0, #20]
 674:Middlewares/Third_Party/LwIP/src/core/tcp.c ****   lpcb->so_options = pcb->so_options;
 458              		.loc 1 674 0
 459 0026 637D     		ldrb	r3, [r4, #21]	@ zero_extendqisi2
 460 0028 4375     		strb	r3, [r0, #21]
 675:Middlewares/Third_Party/LwIP/src/core/tcp.c ****   lpcb->ttl = pcb->ttl;
 461              		.loc 1 675 0
 462 002a 237A     		ldrb	r3, [r4, #8]	@ zero_extendqisi2
 463 002c 0372     		strb	r3, [r0, #8]
ARM GAS  C:\Users\Student\AppData\Local\Temp\ccY4weUp.s 			page 24


 676:Middlewares/Third_Party/LwIP/src/core/tcp.c ****   lpcb->tos = pcb->tos;
 464              		.loc 1 676 0
 465 002e A37A     		ldrb	r3, [r4, #10]	@ zero_extendqisi2
 466 0030 8372     		strb	r3, [r0, #10]
 677:Middlewares/Third_Party/LwIP/src/core/tcp.c **** #if LWIP_IPV4 && LWIP_IPV6
 467              		.loc 1 677 0
 468 0032 637A     		ldrb	r3, [r4, #9]	@ zero_extendqisi2
 469 0034 4372     		strb	r3, [r0, #9]
 681:Middlewares/Third_Party/LwIP/src/core/tcp.c ****   if (pcb->local_port != 0) {
 470              		.loc 1 681 0
 471 0036 2368     		ldr	r3, [r4]
 472 0038 0360     		str	r3, [r0]
 682:Middlewares/Third_Party/LwIP/src/core/tcp.c ****     TCP_RMV(&tcp_bound_pcbs, pcb);
 473              		.loc 1 682 0
 474 003a E38A     		ldrh	r3, [r4, #22]
 475 003c 8BB1     		cbz	r3, .L60
 683:Middlewares/Third_Party/LwIP/src/core/tcp.c ****   }
 476              		.loc 1 683 0
 477 003e 124B     		ldr	r3, .L71
 478 0040 1B68     		ldr	r3, [r3]
 479 0042 9C42     		cmp	r4, r3
 480 0044 05D0     		beq	.L69
 481              	.L61:
 482              	.LVL55:
 483              	.LBB2:
 683:Middlewares/Third_Party/LwIP/src/core/tcp.c ****   }
 484              		.loc 1 683 0 is_stmt 0 discriminator 8
 485 0046 53B1     		cbz	r3, .L62
 683:Middlewares/Third_Party/LwIP/src/core/tcp.c ****   }
 486              		.loc 1 683 0 discriminator 9
 487 0048 DA68     		ldr	r2, [r3, #12]
 488 004a 9442     		cmp	r4, r2
 489 004c 05D0     		beq	.L70
 683:Middlewares/Third_Party/LwIP/src/core/tcp.c ****   }
 490              		.loc 1 683 0
 491 004e 1346     		mov	r3, r2
 492              	.LVL56:
 493 0050 F9E7     		b	.L61
 494              	.L69:
 495              	.LBE2:
 683:Middlewares/Third_Party/LwIP/src/core/tcp.c ****   }
 496              		.loc 1 683 0 discriminator 1
 497 0052 DA68     		ldr	r2, [r3, #12]
 498 0054 0C4B     		ldr	r3, .L71
 499 0056 1A60     		str	r2, [r3]
 500 0058 01E0     		b	.L62
 501              	.LVL57:
 502              	.L70:
 503              	.LBB3:
 683:Middlewares/Third_Party/LwIP/src/core/tcp.c ****   }
 504              		.loc 1 683 0 discriminator 5
 505 005a E268     		ldr	r2, [r4, #12]
 506 005c DA60     		str	r2, [r3, #12]
 507              	.LVL58:
 508              	.L62:
 509              	.LBE3:
 683:Middlewares/Third_Party/LwIP/src/core/tcp.c ****   }
ARM GAS  C:\Users\Student\AppData\Local\Temp\ccY4weUp.s 			page 25


 510              		.loc 1 683 0 discriminator 10
 511 005e 0023     		movs	r3, #0
 512 0060 E360     		str	r3, [r4, #12]
 513              	.L60:
 685:Middlewares/Third_Party/LwIP/src/core/tcp.c **** #if LWIP_CALLBACK_API
 514              		.loc 1 685 0 is_stmt 1
 515 0062 2146     		mov	r1, r4
 516 0064 0120     		movs	r0, #1
 517              	.LVL59:
 518 0066 FFF7FEFF 		bl	memp_free
 519              	.LVL60:
 687:Middlewares/Third_Party/LwIP/src/core/tcp.c **** #endif /* LWIP_CALLBACK_API */
 520              		.loc 1 687 0
 521 006a 084B     		ldr	r3, .L71+4
 522 006c AB61     		str	r3, [r5, #24]
 693:Middlewares/Third_Party/LwIP/src/core/tcp.c ****   return (struct tcp_pcb *)lpcb;
 523              		.loc 1 693 0
 524 006e 084B     		ldr	r3, .L71+8
 525 0070 1A68     		ldr	r2, [r3]
 526 0072 EA60     		str	r2, [r5, #12]
 527 0074 1D60     		str	r5, [r3]
 528 0076 FFF7FEFF 		bl	tcp_timer_needed
 529              	.LVL61:
 694:Middlewares/Third_Party/LwIP/src/core/tcp.c **** }
 530              		.loc 1 694 0
 531 007a 2846     		mov	r0, r5
 532 007c 38BD     		pop	{r3, r4, r5, pc}
 533              	.LVL62:
 534              	.L64:
 647:Middlewares/Third_Party/LwIP/src/core/tcp.c **** 
 535              		.loc 1 647 0
 536 007e 0020     		movs	r0, #0
 537              	.LVL63:
 538 0080 38BD     		pop	{r3, r4, r5, pc}
 539              	.LVL64:
 540              	.L66:
 669:Middlewares/Third_Party/LwIP/src/core/tcp.c ****   }
 541              		.loc 1 669 0
 542 0082 0020     		movs	r0, #0
 543              	.LVL65:
 544              	.L58:
 695:Middlewares/Third_Party/LwIP/src/core/tcp.c **** 
 545              		.loc 1 695 0
 546 0084 38BD     		pop	{r3, r4, r5, pc}
 547              	.L72:
 548 0086 00BF     		.align	2
 549              	.L71:
 550 0088 00000000 		.word	tcp_bound_pcbs
 551 008c 00000000 		.word	tcp_accept_null
 552 0090 00000000 		.word	tcp_listen_pcbs
 553              		.cfi_endproc
 554              	.LFE147:
 556              		.section	.text.tcp_update_rcv_ann_wnd,"ax",%progbits
 557              		.align	1
 558              		.global	tcp_update_rcv_ann_wnd
 559              		.syntax unified
 560              		.thumb
ARM GAS  C:\Users\Student\AppData\Local\Temp\ccY4weUp.s 			page 26


 561              		.thumb_func
 562              		.fpu fpv5-sp-d16
 564              	tcp_update_rcv_ann_wnd:
 565              	.LFB148:
 705:Middlewares/Third_Party/LwIP/src/core/tcp.c ****   u32_t new_right_edge = pcb->rcv_nxt + pcb->rcv_wnd;
 566              		.loc 1 705 0
 567              		.cfi_startproc
 568              		@ args = 0, pretend = 0, frame = 0
 569              		@ frame_needed = 0, uses_anonymous_args = 0
 570              		@ link register save eliminated.
 571              	.LVL66:
 572 0000 30B4     		push	{r4, r5}
 573              	.LCFI6:
 574              		.cfi_def_cfa_offset 8
 575              		.cfi_offset 4, -8
 576              		.cfi_offset 5, -4
 706:Middlewares/Third_Party/LwIP/src/core/tcp.c **** 
 577              		.loc 1 706 0
 578 0002 456A     		ldr	r5, [r0, #36]
 579 0004 048D     		ldrh	r4, [r0, #40]
 580 0006 2A19     		adds	r2, r5, r4
 581              	.LVL67:
 708:Middlewares/Third_Party/LwIP/src/core/tcp.c ****     /* we can advertise more window */
 582              		.loc 1 708 0
 583 0008 C16A     		ldr	r1, [r0, #44]
 584 000a 438E     		ldrh	r3, [r0, #50]
 585 000c B3F5866F 		cmp	r3, #1072
 586 0010 01D9     		bls	.L74
 587 0012 4FF48663 		mov	r3, #1072
 588              	.L74:
 708:Middlewares/Third_Party/LwIP/src/core/tcp.c ****     /* we can advertise more window */
 589              		.loc 1 708 0 is_stmt 0 discriminator 4
 590 0016 0B44     		add	r3, r3, r1
 591 0018 D31A     		subs	r3, r2, r3
 592 001a 002B     		cmp	r3, #0
 593 001c 03DB     		blt	.L75
 710:Middlewares/Third_Party/LwIP/src/core/tcp.c ****     return new_right_edge - pcb->rcv_ann_right_edge;
 594              		.loc 1 710 0 is_stmt 1
 595 001e 4485     		strh	r4, [r0, #42]	@ movhi
 711:Middlewares/Third_Party/LwIP/src/core/tcp.c ****   } else {
 596              		.loc 1 711 0
 597 0020 501A     		subs	r0, r2, r1
 598              	.LVL68:
 599              	.L73:
 727:Middlewares/Third_Party/LwIP/src/core/tcp.c **** 
 600              		.loc 1 727 0
 601 0022 30BC     		pop	{r4, r5}
 602              	.LCFI7:
 603              		.cfi_remember_state
 604              		.cfi_restore 5
 605              		.cfi_restore 4
 606              		.cfi_def_cfa_offset 0
 607              	.LVL69:
 608 0024 7047     		bx	lr
 609              	.LVL70:
 610              	.L75:
 611              	.LCFI8:
ARM GAS  C:\Users\Student\AppData\Local\Temp\ccY4weUp.s 			page 27


 612              		.cfi_restore_state
 713:Middlewares/Third_Party/LwIP/src/core/tcp.c ****       /* Can happen due to other end sending out of advertised window,
 613              		.loc 1 713 0
 614 0026 6B1A     		subs	r3, r5, r1
 615 0028 002B     		cmp	r3, #0
 616 002a 03DD     		ble	.L77
 716:Middlewares/Third_Party/LwIP/src/core/tcp.c ****     } else {
 617              		.loc 1 716 0
 618 002c 0022     		movs	r2, #0
 619              	.LVL71:
 620 002e 4285     		strh	r2, [r0, #42]	@ movhi
 725:Middlewares/Third_Party/LwIP/src/core/tcp.c ****   }
 621              		.loc 1 725 0
 622 0030 1046     		mov	r0, r2
 623              	.LVL72:
 624 0032 F6E7     		b	.L73
 625              	.LVL73:
 626              	.L77:
 627              	.LBB4:
 719:Middlewares/Third_Party/LwIP/src/core/tcp.c **** #if !LWIP_WND_SCALE
 628              		.loc 1 719 0
 629 0034 491B     		subs	r1, r1, r5
 630              	.LVL74:
 723:Middlewares/Third_Party/LwIP/src/core/tcp.c ****     }
 631              		.loc 1 723 0
 632 0036 4185     		strh	r1, [r0, #42]	@ movhi
 633              	.LBE4:
 725:Middlewares/Third_Party/LwIP/src/core/tcp.c ****   }
 634              		.loc 1 725 0
 635 0038 0020     		movs	r0, #0
 636              	.LVL75:
 637 003a F2E7     		b	.L73
 638              		.cfi_endproc
 639              	.LFE148:
 641              		.section	.text.tcp_recved,"ax",%progbits
 642              		.align	1
 643              		.global	tcp_recved
 644              		.syntax unified
 645              		.thumb
 646              		.thumb_func
 647              		.fpu fpv5-sp-d16
 649              	tcp_recved:
 650              	.LFB149:
 740:Middlewares/Third_Party/LwIP/src/core/tcp.c ****   int wnd_inflation;
 651              		.loc 1 740 0
 652              		.cfi_startproc
 653              		@ args = 0, pretend = 0, frame = 0
 654              		@ frame_needed = 0, uses_anonymous_args = 0
 655              	.LVL76:
 656 0000 10B5     		push	{r4, lr}
 657              	.LCFI9:
 658              		.cfi_def_cfa_offset 8
 659              		.cfi_offset 4, -8
 660              		.cfi_offset 14, -4
 661 0002 0446     		mov	r4, r0
 744:Middlewares/Third_Party/LwIP/src/core/tcp.c ****     pcb->state != LISTEN);
 662              		.loc 1 744 0
ARM GAS  C:\Users\Student\AppData\Local\Temp\ccY4weUp.s 			page 28


 663 0004 027D     		ldrb	r2, [r0, #20]	@ zero_extendqisi2
 747:Middlewares/Third_Party/LwIP/src/core/tcp.c ****   if (pcb->rcv_wnd > TCP_WND_MAX(pcb)) {
 664              		.loc 1 747 0
 665 0006 038D     		ldrh	r3, [r0, #40]
 666 0008 1944     		add	r1, r1, r3
 667              	.LVL77:
 668 000a 89B2     		uxth	r1, r1
 669 000c 0185     		strh	r1, [r0, #40]	@ movhi
 748:Middlewares/Third_Party/LwIP/src/core/tcp.c ****     pcb->rcv_wnd = TCP_WND_MAX(pcb);
 670              		.loc 1 748 0
 671 000e B1F5066F 		cmp	r1, #2144
 672 0012 09D9     		bls	.L81
 749:Middlewares/Third_Party/LwIP/src/core/tcp.c ****   } else if (pcb->rcv_wnd == 0) {
 673              		.loc 1 749 0
 674 0014 4FF40663 		mov	r3, #2144
 675 0018 0385     		strh	r3, [r0, #40]	@ movhi
 676              	.L82:
 762:Middlewares/Third_Party/LwIP/src/core/tcp.c **** 
 677              		.loc 1 762 0
 678 001a 2046     		mov	r0, r4
 679              	.LVL78:
 680 001c FFF7FEFF 		bl	tcp_update_rcv_ann_wnd
 681              	.LVL79:
 768:Middlewares/Third_Party/LwIP/src/core/tcp.c ****     tcp_ack_now(pcb);
 682              		.loc 1 768 0
 683 0020 B0F5067F 		cmp	r0, #536
 684 0024 0ADA     		bge	.L85
 685              	.LVL80:
 686              	.L80:
 687 0026 10BD     		pop	{r4, pc}
 688              	.LVL81:
 689              	.L81:
 750:Middlewares/Third_Party/LwIP/src/core/tcp.c ****     /* rcv_wnd overflowed */
 690              		.loc 1 750 0
 691 0028 0029     		cmp	r1, #0
 692 002a F6D1     		bne	.L82
 752:Middlewares/Third_Party/LwIP/src/core/tcp.c ****       /* In passive close, we allow this, since the FIN bit is added to rcv_wnd
 693              		.loc 1 752 0
 694 002c 092A     		cmp	r2, #9
 695 002e 18BF     		it	ne
 696 0030 072A     		cmpne	r2, #7
 697 0032 F2D1     		bne	.L82
 756:Middlewares/Third_Party/LwIP/src/core/tcp.c ****     } else {
 698              		.loc 1 756 0
 699 0034 4FF40663 		mov	r3, #2144
 700 0038 0385     		strh	r3, [r0, #40]	@ movhi
 701 003a EEE7     		b	.L82
 702              	.LVL82:
 703              	.L85:
 769:Middlewares/Third_Party/LwIP/src/core/tcp.c ****     tcp_output(pcb);
 704              		.loc 1 769 0
 705 003c A37E     		ldrb	r3, [r4, #26]	@ zero_extendqisi2
 706 003e 43F00203 		orr	r3, r3, #2
 707 0042 A376     		strb	r3, [r4, #26]
 770:Middlewares/Third_Party/LwIP/src/core/tcp.c ****   }
 708              		.loc 1 770 0
 709 0044 2046     		mov	r0, r4
ARM GAS  C:\Users\Student\AppData\Local\Temp\ccY4weUp.s 			page 29


 710              	.LVL83:
 711 0046 FFF7FEFF 		bl	tcp_output
 712              	.LVL84:
 775:Middlewares/Third_Party/LwIP/src/core/tcp.c **** 
 713              		.loc 1 775 0
 714 004a ECE7     		b	.L80
 715              		.cfi_endproc
 716              	.LFE149:
 718              		.section	.text.tcp_txnow,"ax",%progbits
 719              		.align	1
 720              		.global	tcp_txnow
 721              		.syntax unified
 722              		.thumb
 723              		.thumb_func
 724              		.fpu fpv5-sp-d16
 726              	tcp_txnow:
 727              	.LFB154:
 806:Middlewares/Third_Party/LwIP/src/core/tcp.c **** 
 807:Middlewares/Third_Party/LwIP/src/core/tcp.c **** /**
 808:Middlewares/Third_Party/LwIP/src/core/tcp.c ****  * @ingroup tcp_raw
 809:Middlewares/Third_Party/LwIP/src/core/tcp.c ****  * Connects to another host. The function given as the "connected"
 810:Middlewares/Third_Party/LwIP/src/core/tcp.c ****  * argument will be called when the connection has been established.
 811:Middlewares/Third_Party/LwIP/src/core/tcp.c ****  *
 812:Middlewares/Third_Party/LwIP/src/core/tcp.c ****  * @param pcb the tcp_pcb used to establish the connection
 813:Middlewares/Third_Party/LwIP/src/core/tcp.c ****  * @param ipaddr the remote ip address to connect to
 814:Middlewares/Third_Party/LwIP/src/core/tcp.c ****  * @param port the remote tcp port to connect to
 815:Middlewares/Third_Party/LwIP/src/core/tcp.c ****  * @param connected callback function to call when connected (on error,
 816:Middlewares/Third_Party/LwIP/src/core/tcp.c ****                     the err calback will be called)
 817:Middlewares/Third_Party/LwIP/src/core/tcp.c ****  * @return ERR_VAL if invalid arguments are given
 818:Middlewares/Third_Party/LwIP/src/core/tcp.c ****  *         ERR_OK if connect request has been sent
 819:Middlewares/Third_Party/LwIP/src/core/tcp.c ****  *         other err_t values if connect request couldn't be sent
 820:Middlewares/Third_Party/LwIP/src/core/tcp.c ****  */
 821:Middlewares/Third_Party/LwIP/src/core/tcp.c **** err_t
 822:Middlewares/Third_Party/LwIP/src/core/tcp.c **** tcp_connect(struct tcp_pcb *pcb, const ip_addr_t *ipaddr, u16_t port,
 823:Middlewares/Third_Party/LwIP/src/core/tcp.c ****       tcp_connected_fn connected)
 824:Middlewares/Third_Party/LwIP/src/core/tcp.c **** {
 825:Middlewares/Third_Party/LwIP/src/core/tcp.c ****   err_t ret;
 826:Middlewares/Third_Party/LwIP/src/core/tcp.c ****   u32_t iss;
 827:Middlewares/Third_Party/LwIP/src/core/tcp.c ****   u16_t old_local_port;
 828:Middlewares/Third_Party/LwIP/src/core/tcp.c **** 
 829:Middlewares/Third_Party/LwIP/src/core/tcp.c ****   if ((pcb == NULL) || (ipaddr == NULL) || !IP_ADDR_PCB_VERSION_MATCH_EXACT(pcb, ipaddr)) {
 830:Middlewares/Third_Party/LwIP/src/core/tcp.c ****     return ERR_VAL;
 831:Middlewares/Third_Party/LwIP/src/core/tcp.c ****   }
 832:Middlewares/Third_Party/LwIP/src/core/tcp.c **** 
 833:Middlewares/Third_Party/LwIP/src/core/tcp.c ****   LWIP_ERROR("tcp_connect: can only connect from state CLOSED", pcb->state == CLOSED, return ERR_IS
 834:Middlewares/Third_Party/LwIP/src/core/tcp.c **** 
 835:Middlewares/Third_Party/LwIP/src/core/tcp.c ****   LWIP_DEBUGF(TCP_DEBUG, ("tcp_connect to port %"U16_F"\n", port));
 836:Middlewares/Third_Party/LwIP/src/core/tcp.c ****   ip_addr_set(&pcb->remote_ip, ipaddr);
 837:Middlewares/Third_Party/LwIP/src/core/tcp.c ****   pcb->remote_port = port;
 838:Middlewares/Third_Party/LwIP/src/core/tcp.c **** 
 839:Middlewares/Third_Party/LwIP/src/core/tcp.c ****   /* check if we have a route to the remote host */
 840:Middlewares/Third_Party/LwIP/src/core/tcp.c ****   if (ip_addr_isany(&pcb->local_ip)) {
 841:Middlewares/Third_Party/LwIP/src/core/tcp.c ****     /* no local IP address set, yet. */
 842:Middlewares/Third_Party/LwIP/src/core/tcp.c ****     struct netif *netif;
 843:Middlewares/Third_Party/LwIP/src/core/tcp.c ****     const ip_addr_t *local_ip;
 844:Middlewares/Third_Party/LwIP/src/core/tcp.c ****     ip_route_get_local_ip(&pcb->local_ip, &pcb->remote_ip, netif, local_ip);
 845:Middlewares/Third_Party/LwIP/src/core/tcp.c ****     if ((netif == NULL) || (local_ip == NULL)) {
ARM GAS  C:\Users\Student\AppData\Local\Temp\ccY4weUp.s 			page 30


 846:Middlewares/Third_Party/LwIP/src/core/tcp.c ****       /* Don't even try to send a SYN packet if we have no route
 847:Middlewares/Third_Party/LwIP/src/core/tcp.c ****          since that will fail. */
 848:Middlewares/Third_Party/LwIP/src/core/tcp.c ****       return ERR_RTE;
 849:Middlewares/Third_Party/LwIP/src/core/tcp.c ****     }
 850:Middlewares/Third_Party/LwIP/src/core/tcp.c ****     /* Use the address as local address of the pcb. */
 851:Middlewares/Third_Party/LwIP/src/core/tcp.c ****     ip_addr_copy(pcb->local_ip, *local_ip);
 852:Middlewares/Third_Party/LwIP/src/core/tcp.c ****   }
 853:Middlewares/Third_Party/LwIP/src/core/tcp.c **** 
 854:Middlewares/Third_Party/LwIP/src/core/tcp.c ****   old_local_port = pcb->local_port;
 855:Middlewares/Third_Party/LwIP/src/core/tcp.c ****   if (pcb->local_port == 0) {
 856:Middlewares/Third_Party/LwIP/src/core/tcp.c ****     pcb->local_port = tcp_new_port();
 857:Middlewares/Third_Party/LwIP/src/core/tcp.c ****     if (pcb->local_port == 0) {
 858:Middlewares/Third_Party/LwIP/src/core/tcp.c ****       return ERR_BUF;
 859:Middlewares/Third_Party/LwIP/src/core/tcp.c ****     }
 860:Middlewares/Third_Party/LwIP/src/core/tcp.c ****   } else {
 861:Middlewares/Third_Party/LwIP/src/core/tcp.c **** #if SO_REUSE
 862:Middlewares/Third_Party/LwIP/src/core/tcp.c ****     if (ip_get_option(pcb, SOF_REUSEADDR)) {
 863:Middlewares/Third_Party/LwIP/src/core/tcp.c ****       /* Since SOF_REUSEADDR allows reusing a local address, we have to make sure
 864:Middlewares/Third_Party/LwIP/src/core/tcp.c ****          now that the 5-tuple is unique. */
 865:Middlewares/Third_Party/LwIP/src/core/tcp.c ****       struct tcp_pcb *cpcb;
 866:Middlewares/Third_Party/LwIP/src/core/tcp.c ****       int i;
 867:Middlewares/Third_Party/LwIP/src/core/tcp.c ****       /* Don't check listen- and bound-PCBs, check active- and TIME-WAIT PCBs. */
 868:Middlewares/Third_Party/LwIP/src/core/tcp.c ****       for (i = 2; i < NUM_TCP_PCB_LISTS; i++) {
 869:Middlewares/Third_Party/LwIP/src/core/tcp.c ****         for (cpcb = *tcp_pcb_lists[i]; cpcb != NULL; cpcb = cpcb->next) {
 870:Middlewares/Third_Party/LwIP/src/core/tcp.c ****           if ((cpcb->local_port == pcb->local_port) &&
 871:Middlewares/Third_Party/LwIP/src/core/tcp.c ****               (cpcb->remote_port == port) &&
 872:Middlewares/Third_Party/LwIP/src/core/tcp.c ****               ip_addr_cmp(&cpcb->local_ip, &pcb->local_ip) &&
 873:Middlewares/Third_Party/LwIP/src/core/tcp.c ****               ip_addr_cmp(&cpcb->remote_ip, ipaddr)) {
 874:Middlewares/Third_Party/LwIP/src/core/tcp.c ****             /* linux returns EISCONN here, but ERR_USE should be OK for us */
 875:Middlewares/Third_Party/LwIP/src/core/tcp.c ****             return ERR_USE;
 876:Middlewares/Third_Party/LwIP/src/core/tcp.c ****           }
 877:Middlewares/Third_Party/LwIP/src/core/tcp.c ****         }
 878:Middlewares/Third_Party/LwIP/src/core/tcp.c ****       }
 879:Middlewares/Third_Party/LwIP/src/core/tcp.c ****     }
 880:Middlewares/Third_Party/LwIP/src/core/tcp.c **** #endif /* SO_REUSE */
 881:Middlewares/Third_Party/LwIP/src/core/tcp.c ****   }
 882:Middlewares/Third_Party/LwIP/src/core/tcp.c **** 
 883:Middlewares/Third_Party/LwIP/src/core/tcp.c ****   iss = tcp_next_iss();
 884:Middlewares/Third_Party/LwIP/src/core/tcp.c ****   pcb->rcv_nxt = 0;
 885:Middlewares/Third_Party/LwIP/src/core/tcp.c ****   pcb->snd_nxt = iss;
 886:Middlewares/Third_Party/LwIP/src/core/tcp.c ****   pcb->lastack = iss - 1;
 887:Middlewares/Third_Party/LwIP/src/core/tcp.c ****   pcb->snd_lbb = iss - 1;
 888:Middlewares/Third_Party/LwIP/src/core/tcp.c ****   /* Start with a window that does not need scaling. When window scaling is
 889:Middlewares/Third_Party/LwIP/src/core/tcp.c ****      enabled and used, the window is enlarged when both sides agree on scaling. */
 890:Middlewares/Third_Party/LwIP/src/core/tcp.c ****   pcb->rcv_wnd = pcb->rcv_ann_wnd = TCPWND_MIN16(TCP_WND);
 891:Middlewares/Third_Party/LwIP/src/core/tcp.c ****   pcb->rcv_ann_right_edge = pcb->rcv_nxt;
 892:Middlewares/Third_Party/LwIP/src/core/tcp.c ****   pcb->snd_wnd = TCP_WND;
 893:Middlewares/Third_Party/LwIP/src/core/tcp.c ****   /* As initial send MSS, we use TCP_MSS but limit it to 536.
 894:Middlewares/Third_Party/LwIP/src/core/tcp.c ****      The send MSS is updated when an MSS option is received. */
 895:Middlewares/Third_Party/LwIP/src/core/tcp.c ****   pcb->mss = INITIAL_MSS;
 896:Middlewares/Third_Party/LwIP/src/core/tcp.c **** #if TCP_CALCULATE_EFF_SEND_MSS
 897:Middlewares/Third_Party/LwIP/src/core/tcp.c ****   pcb->mss = tcp_eff_send_mss(pcb->mss, &pcb->local_ip, &pcb->remote_ip);
 898:Middlewares/Third_Party/LwIP/src/core/tcp.c **** #endif /* TCP_CALCULATE_EFF_SEND_MSS */
 899:Middlewares/Third_Party/LwIP/src/core/tcp.c ****   pcb->cwnd = 1;
 900:Middlewares/Third_Party/LwIP/src/core/tcp.c ****   pcb->ssthresh = TCP_WND;
 901:Middlewares/Third_Party/LwIP/src/core/tcp.c **** #if LWIP_CALLBACK_API
 902:Middlewares/Third_Party/LwIP/src/core/tcp.c ****   pcb->connected = connected;
ARM GAS  C:\Users\Student\AppData\Local\Temp\ccY4weUp.s 			page 31


 903:Middlewares/Third_Party/LwIP/src/core/tcp.c **** #else /* LWIP_CALLBACK_API */
 904:Middlewares/Third_Party/LwIP/src/core/tcp.c ****   LWIP_UNUSED_ARG(connected);
 905:Middlewares/Third_Party/LwIP/src/core/tcp.c **** #endif /* LWIP_CALLBACK_API */
 906:Middlewares/Third_Party/LwIP/src/core/tcp.c **** 
 907:Middlewares/Third_Party/LwIP/src/core/tcp.c ****   /* Send a SYN together with the MSS option. */
 908:Middlewares/Third_Party/LwIP/src/core/tcp.c ****   ret = tcp_enqueue_flags(pcb, TCP_SYN);
 909:Middlewares/Third_Party/LwIP/src/core/tcp.c ****   if (ret == ERR_OK) {
 910:Middlewares/Third_Party/LwIP/src/core/tcp.c ****     /* SYN segment was enqueued, changed the pcbs state now */
 911:Middlewares/Third_Party/LwIP/src/core/tcp.c ****     pcb->state = SYN_SENT;
 912:Middlewares/Third_Party/LwIP/src/core/tcp.c ****     if (old_local_port != 0) {
 913:Middlewares/Third_Party/LwIP/src/core/tcp.c ****       TCP_RMV(&tcp_bound_pcbs, pcb);
 914:Middlewares/Third_Party/LwIP/src/core/tcp.c ****     }
 915:Middlewares/Third_Party/LwIP/src/core/tcp.c ****     TCP_REG_ACTIVE(pcb);
 916:Middlewares/Third_Party/LwIP/src/core/tcp.c ****     MIB2_STATS_INC(mib2.tcpactiveopens);
 917:Middlewares/Third_Party/LwIP/src/core/tcp.c **** 
 918:Middlewares/Third_Party/LwIP/src/core/tcp.c ****     tcp_output(pcb);
 919:Middlewares/Third_Party/LwIP/src/core/tcp.c ****   }
 920:Middlewares/Third_Party/LwIP/src/core/tcp.c ****   return ret;
 921:Middlewares/Third_Party/LwIP/src/core/tcp.c **** }
 922:Middlewares/Third_Party/LwIP/src/core/tcp.c **** 
 923:Middlewares/Third_Party/LwIP/src/core/tcp.c **** /**
 924:Middlewares/Third_Party/LwIP/src/core/tcp.c ****  * Called every 500 ms and implements the retransmission timer and the timer that
 925:Middlewares/Third_Party/LwIP/src/core/tcp.c ****  * removes PCBs that have been in TIME-WAIT for enough time. It also increments
 926:Middlewares/Third_Party/LwIP/src/core/tcp.c ****  * various timers such as the inactivity timer in each PCB.
 927:Middlewares/Third_Party/LwIP/src/core/tcp.c ****  *
 928:Middlewares/Third_Party/LwIP/src/core/tcp.c ****  * Automatically called from tcp_tmr().
 929:Middlewares/Third_Party/LwIP/src/core/tcp.c ****  */
 930:Middlewares/Third_Party/LwIP/src/core/tcp.c **** void
 931:Middlewares/Third_Party/LwIP/src/core/tcp.c **** tcp_slowtmr(void)
 932:Middlewares/Third_Party/LwIP/src/core/tcp.c **** {
 933:Middlewares/Third_Party/LwIP/src/core/tcp.c ****   struct tcp_pcb *pcb, *prev;
 934:Middlewares/Third_Party/LwIP/src/core/tcp.c ****   tcpwnd_size_t eff_wnd;
 935:Middlewares/Third_Party/LwIP/src/core/tcp.c ****   u8_t pcb_remove;      /* flag if a PCB should be removed */
 936:Middlewares/Third_Party/LwIP/src/core/tcp.c ****   u8_t pcb_reset;       /* flag if a RST should be sent when removing */
 937:Middlewares/Third_Party/LwIP/src/core/tcp.c ****   err_t err;
 938:Middlewares/Third_Party/LwIP/src/core/tcp.c **** 
 939:Middlewares/Third_Party/LwIP/src/core/tcp.c ****   err = ERR_OK;
 940:Middlewares/Third_Party/LwIP/src/core/tcp.c **** 
 941:Middlewares/Third_Party/LwIP/src/core/tcp.c ****   ++tcp_ticks;
 942:Middlewares/Third_Party/LwIP/src/core/tcp.c ****   ++tcp_timer_ctr;
 943:Middlewares/Third_Party/LwIP/src/core/tcp.c **** 
 944:Middlewares/Third_Party/LwIP/src/core/tcp.c **** tcp_slowtmr_start:
 945:Middlewares/Third_Party/LwIP/src/core/tcp.c ****   /* Steps through all of the active PCBs. */
 946:Middlewares/Third_Party/LwIP/src/core/tcp.c ****   prev = NULL;
 947:Middlewares/Third_Party/LwIP/src/core/tcp.c ****   pcb = tcp_active_pcbs;
 948:Middlewares/Third_Party/LwIP/src/core/tcp.c ****   if (pcb == NULL) {
 949:Middlewares/Third_Party/LwIP/src/core/tcp.c ****     LWIP_DEBUGF(TCP_DEBUG, ("tcp_slowtmr: no active pcbs\n"));
 950:Middlewares/Third_Party/LwIP/src/core/tcp.c ****   }
 951:Middlewares/Third_Party/LwIP/src/core/tcp.c ****   while (pcb != NULL) {
 952:Middlewares/Third_Party/LwIP/src/core/tcp.c ****     LWIP_DEBUGF(TCP_DEBUG, ("tcp_slowtmr: processing active pcb\n"));
 953:Middlewares/Third_Party/LwIP/src/core/tcp.c ****     LWIP_ASSERT("tcp_slowtmr: active pcb->state != CLOSED\n", pcb->state != CLOSED);
 954:Middlewares/Third_Party/LwIP/src/core/tcp.c ****     LWIP_ASSERT("tcp_slowtmr: active pcb->state != LISTEN\n", pcb->state != LISTEN);
 955:Middlewares/Third_Party/LwIP/src/core/tcp.c ****     LWIP_ASSERT("tcp_slowtmr: active pcb->state != TIME-WAIT\n", pcb->state != TIME_WAIT);
 956:Middlewares/Third_Party/LwIP/src/core/tcp.c ****     if (pcb->last_timer == tcp_timer_ctr) {
 957:Middlewares/Third_Party/LwIP/src/core/tcp.c ****       /* skip this pcb, we have already processed it */
 958:Middlewares/Third_Party/LwIP/src/core/tcp.c ****       pcb = pcb->next;
 959:Middlewares/Third_Party/LwIP/src/core/tcp.c ****       continue;
ARM GAS  C:\Users\Student\AppData\Local\Temp\ccY4weUp.s 			page 32


 960:Middlewares/Third_Party/LwIP/src/core/tcp.c ****     }
 961:Middlewares/Third_Party/LwIP/src/core/tcp.c ****     pcb->last_timer = tcp_timer_ctr;
 962:Middlewares/Third_Party/LwIP/src/core/tcp.c **** 
 963:Middlewares/Third_Party/LwIP/src/core/tcp.c ****     pcb_remove = 0;
 964:Middlewares/Third_Party/LwIP/src/core/tcp.c ****     pcb_reset = 0;
 965:Middlewares/Third_Party/LwIP/src/core/tcp.c **** 
 966:Middlewares/Third_Party/LwIP/src/core/tcp.c ****     if (pcb->state == SYN_SENT && pcb->nrtx == TCP_SYNMAXRTX) {
 967:Middlewares/Third_Party/LwIP/src/core/tcp.c ****       ++pcb_remove;
 968:Middlewares/Third_Party/LwIP/src/core/tcp.c ****       LWIP_DEBUGF(TCP_DEBUG, ("tcp_slowtmr: max SYN retries reached\n"));
 969:Middlewares/Third_Party/LwIP/src/core/tcp.c ****     }
 970:Middlewares/Third_Party/LwIP/src/core/tcp.c ****     else if (pcb->nrtx == TCP_MAXRTX) {
 971:Middlewares/Third_Party/LwIP/src/core/tcp.c ****       ++pcb_remove;
 972:Middlewares/Third_Party/LwIP/src/core/tcp.c ****       LWIP_DEBUGF(TCP_DEBUG, ("tcp_slowtmr: max DATA retries reached\n"));
 973:Middlewares/Third_Party/LwIP/src/core/tcp.c ****     } else {
 974:Middlewares/Third_Party/LwIP/src/core/tcp.c ****       if (pcb->persist_backoff > 0) {
 975:Middlewares/Third_Party/LwIP/src/core/tcp.c ****         /* If snd_wnd is zero, use persist timer to send 1 byte probes
 976:Middlewares/Third_Party/LwIP/src/core/tcp.c ****          * instead of using the standard retransmission mechanism. */
 977:Middlewares/Third_Party/LwIP/src/core/tcp.c ****         u8_t backoff_cnt = tcp_persist_backoff[pcb->persist_backoff-1];
 978:Middlewares/Third_Party/LwIP/src/core/tcp.c ****         if (pcb->persist_cnt < backoff_cnt) {
 979:Middlewares/Third_Party/LwIP/src/core/tcp.c ****           pcb->persist_cnt++;
 980:Middlewares/Third_Party/LwIP/src/core/tcp.c ****         }
 981:Middlewares/Third_Party/LwIP/src/core/tcp.c ****         if (pcb->persist_cnt >= backoff_cnt) {
 982:Middlewares/Third_Party/LwIP/src/core/tcp.c ****           if (tcp_zero_window_probe(pcb) == ERR_OK) {
 983:Middlewares/Third_Party/LwIP/src/core/tcp.c ****             pcb->persist_cnt = 0;
 984:Middlewares/Third_Party/LwIP/src/core/tcp.c ****             if (pcb->persist_backoff < sizeof(tcp_persist_backoff)) {
 985:Middlewares/Third_Party/LwIP/src/core/tcp.c ****               pcb->persist_backoff++;
 986:Middlewares/Third_Party/LwIP/src/core/tcp.c ****             }
 987:Middlewares/Third_Party/LwIP/src/core/tcp.c ****           }
 988:Middlewares/Third_Party/LwIP/src/core/tcp.c ****         }
 989:Middlewares/Third_Party/LwIP/src/core/tcp.c ****       } else {
 990:Middlewares/Third_Party/LwIP/src/core/tcp.c ****         /* Increase the retransmission timer if it is running */
 991:Middlewares/Third_Party/LwIP/src/core/tcp.c ****         if (pcb->rtime >= 0) {
 992:Middlewares/Third_Party/LwIP/src/core/tcp.c ****           ++pcb->rtime;
 993:Middlewares/Third_Party/LwIP/src/core/tcp.c ****         }
 994:Middlewares/Third_Party/LwIP/src/core/tcp.c **** 
 995:Middlewares/Third_Party/LwIP/src/core/tcp.c ****         if (pcb->unacked != NULL && pcb->rtime >= pcb->rto) {
 996:Middlewares/Third_Party/LwIP/src/core/tcp.c ****           /* Time for a retransmission. */
 997:Middlewares/Third_Party/LwIP/src/core/tcp.c ****           LWIP_DEBUGF(TCP_RTO_DEBUG, ("tcp_slowtmr: rtime %"S16_F
 998:Middlewares/Third_Party/LwIP/src/core/tcp.c ****                                       " pcb->rto %"S16_F"\n",
 999:Middlewares/Third_Party/LwIP/src/core/tcp.c ****                                       pcb->rtime, pcb->rto));
1000:Middlewares/Third_Party/LwIP/src/core/tcp.c **** 
1001:Middlewares/Third_Party/LwIP/src/core/tcp.c ****           /* Double retransmission time-out unless we are trying to
1002:Middlewares/Third_Party/LwIP/src/core/tcp.c ****            * connect to somebody (i.e., we are in SYN_SENT). */
1003:Middlewares/Third_Party/LwIP/src/core/tcp.c ****           if (pcb->state != SYN_SENT) {
1004:Middlewares/Third_Party/LwIP/src/core/tcp.c ****             pcb->rto = ((pcb->sa >> 3) + pcb->sv) << tcp_backoff[pcb->nrtx];
1005:Middlewares/Third_Party/LwIP/src/core/tcp.c ****           }
1006:Middlewares/Third_Party/LwIP/src/core/tcp.c **** 
1007:Middlewares/Third_Party/LwIP/src/core/tcp.c ****           /* Reset the retransmission timer. */
1008:Middlewares/Third_Party/LwIP/src/core/tcp.c ****           pcb->rtime = 0;
1009:Middlewares/Third_Party/LwIP/src/core/tcp.c **** 
1010:Middlewares/Third_Party/LwIP/src/core/tcp.c ****           /* Reduce congestion window and ssthresh. */
1011:Middlewares/Third_Party/LwIP/src/core/tcp.c ****           eff_wnd = LWIP_MIN(pcb->cwnd, pcb->snd_wnd);
1012:Middlewares/Third_Party/LwIP/src/core/tcp.c ****           pcb->ssthresh = eff_wnd >> 1;
1013:Middlewares/Third_Party/LwIP/src/core/tcp.c ****           if (pcb->ssthresh < (tcpwnd_size_t)(pcb->mss << 1)) {
1014:Middlewares/Third_Party/LwIP/src/core/tcp.c ****             pcb->ssthresh = (pcb->mss << 1);
1015:Middlewares/Third_Party/LwIP/src/core/tcp.c ****           }
1016:Middlewares/Third_Party/LwIP/src/core/tcp.c ****           pcb->cwnd = pcb->mss;
ARM GAS  C:\Users\Student\AppData\Local\Temp\ccY4weUp.s 			page 33


1017:Middlewares/Third_Party/LwIP/src/core/tcp.c ****           LWIP_DEBUGF(TCP_CWND_DEBUG, ("tcp_slowtmr: cwnd %"TCPWNDSIZE_F
1018:Middlewares/Third_Party/LwIP/src/core/tcp.c ****                                        " ssthresh %"TCPWNDSIZE_F"\n",
1019:Middlewares/Third_Party/LwIP/src/core/tcp.c ****                                        pcb->cwnd, pcb->ssthresh));
1020:Middlewares/Third_Party/LwIP/src/core/tcp.c **** 
1021:Middlewares/Third_Party/LwIP/src/core/tcp.c ****           /* The following needs to be called AFTER cwnd is set to one
1022:Middlewares/Third_Party/LwIP/src/core/tcp.c ****              mss - STJ */
1023:Middlewares/Third_Party/LwIP/src/core/tcp.c ****           tcp_rexmit_rto(pcb);
1024:Middlewares/Third_Party/LwIP/src/core/tcp.c ****         }
1025:Middlewares/Third_Party/LwIP/src/core/tcp.c ****       }
1026:Middlewares/Third_Party/LwIP/src/core/tcp.c ****     }
1027:Middlewares/Third_Party/LwIP/src/core/tcp.c ****     /* Check if this PCB has stayed too long in FIN-WAIT-2 */
1028:Middlewares/Third_Party/LwIP/src/core/tcp.c ****     if (pcb->state == FIN_WAIT_2) {
1029:Middlewares/Third_Party/LwIP/src/core/tcp.c ****       /* If this PCB is in FIN_WAIT_2 because of SHUT_WR don't let it time out. */
1030:Middlewares/Third_Party/LwIP/src/core/tcp.c ****       if (pcb->flags & TF_RXCLOSED) {
1031:Middlewares/Third_Party/LwIP/src/core/tcp.c ****         /* PCB was fully closed (either through close() or SHUT_RDWR):
1032:Middlewares/Third_Party/LwIP/src/core/tcp.c ****            normal FIN-WAIT timeout handling. */
1033:Middlewares/Third_Party/LwIP/src/core/tcp.c ****         if ((u32_t)(tcp_ticks - pcb->tmr) >
1034:Middlewares/Third_Party/LwIP/src/core/tcp.c ****             TCP_FIN_WAIT_TIMEOUT / TCP_SLOW_INTERVAL) {
1035:Middlewares/Third_Party/LwIP/src/core/tcp.c ****           ++pcb_remove;
1036:Middlewares/Third_Party/LwIP/src/core/tcp.c ****           LWIP_DEBUGF(TCP_DEBUG, ("tcp_slowtmr: removing pcb stuck in FIN-WAIT-2\n"));
1037:Middlewares/Third_Party/LwIP/src/core/tcp.c ****         }
1038:Middlewares/Third_Party/LwIP/src/core/tcp.c ****       }
1039:Middlewares/Third_Party/LwIP/src/core/tcp.c ****     }
1040:Middlewares/Third_Party/LwIP/src/core/tcp.c **** 
1041:Middlewares/Third_Party/LwIP/src/core/tcp.c ****     /* Check if KEEPALIVE should be sent */
1042:Middlewares/Third_Party/LwIP/src/core/tcp.c ****     if (ip_get_option(pcb, SOF_KEEPALIVE) &&
1043:Middlewares/Third_Party/LwIP/src/core/tcp.c ****        ((pcb->state == ESTABLISHED) ||
1044:Middlewares/Third_Party/LwIP/src/core/tcp.c ****         (pcb->state == CLOSE_WAIT))) {
1045:Middlewares/Third_Party/LwIP/src/core/tcp.c ****       if ((u32_t)(tcp_ticks - pcb->tmr) >
1046:Middlewares/Third_Party/LwIP/src/core/tcp.c ****          (pcb->keep_idle + TCP_KEEP_DUR(pcb)) / TCP_SLOW_INTERVAL)
1047:Middlewares/Third_Party/LwIP/src/core/tcp.c ****       {
1048:Middlewares/Third_Party/LwIP/src/core/tcp.c ****         LWIP_DEBUGF(TCP_DEBUG, ("tcp_slowtmr: KEEPALIVE timeout. Aborting connection to "));
1049:Middlewares/Third_Party/LwIP/src/core/tcp.c ****         ip_addr_debug_print(TCP_DEBUG, &pcb->remote_ip);
1050:Middlewares/Third_Party/LwIP/src/core/tcp.c ****         LWIP_DEBUGF(TCP_DEBUG, ("\n"));
1051:Middlewares/Third_Party/LwIP/src/core/tcp.c **** 
1052:Middlewares/Third_Party/LwIP/src/core/tcp.c ****         ++pcb_remove;
1053:Middlewares/Third_Party/LwIP/src/core/tcp.c ****         ++pcb_reset;
1054:Middlewares/Third_Party/LwIP/src/core/tcp.c ****       } else if ((u32_t)(tcp_ticks - pcb->tmr) >
1055:Middlewares/Third_Party/LwIP/src/core/tcp.c ****                 (pcb->keep_idle + pcb->keep_cnt_sent * TCP_KEEP_INTVL(pcb))
1056:Middlewares/Third_Party/LwIP/src/core/tcp.c ****                 / TCP_SLOW_INTERVAL)
1057:Middlewares/Third_Party/LwIP/src/core/tcp.c ****       {
1058:Middlewares/Third_Party/LwIP/src/core/tcp.c ****         err = tcp_keepalive(pcb);
1059:Middlewares/Third_Party/LwIP/src/core/tcp.c ****         if (err == ERR_OK) {
1060:Middlewares/Third_Party/LwIP/src/core/tcp.c ****           pcb->keep_cnt_sent++;
1061:Middlewares/Third_Party/LwIP/src/core/tcp.c ****         }
1062:Middlewares/Third_Party/LwIP/src/core/tcp.c ****       }
1063:Middlewares/Third_Party/LwIP/src/core/tcp.c ****     }
1064:Middlewares/Third_Party/LwIP/src/core/tcp.c **** 
1065:Middlewares/Third_Party/LwIP/src/core/tcp.c ****     /* If this PCB has queued out of sequence data, but has been
1066:Middlewares/Third_Party/LwIP/src/core/tcp.c ****        inactive for too long, will drop the data (it will eventually
1067:Middlewares/Third_Party/LwIP/src/core/tcp.c ****        be retransmitted). */
1068:Middlewares/Third_Party/LwIP/src/core/tcp.c **** #if TCP_QUEUE_OOSEQ
1069:Middlewares/Third_Party/LwIP/src/core/tcp.c ****     if (pcb->ooseq != NULL &&
1070:Middlewares/Third_Party/LwIP/src/core/tcp.c ****         (u32_t)tcp_ticks - pcb->tmr >= pcb->rto * TCP_OOSEQ_TIMEOUT) {
1071:Middlewares/Third_Party/LwIP/src/core/tcp.c ****       tcp_segs_free(pcb->ooseq);
1072:Middlewares/Third_Party/LwIP/src/core/tcp.c ****       pcb->ooseq = NULL;
1073:Middlewares/Third_Party/LwIP/src/core/tcp.c ****       LWIP_DEBUGF(TCP_CWND_DEBUG, ("tcp_slowtmr: dropping OOSEQ queued data\n"));
ARM GAS  C:\Users\Student\AppData\Local\Temp\ccY4weUp.s 			page 34


1074:Middlewares/Third_Party/LwIP/src/core/tcp.c ****     }
1075:Middlewares/Third_Party/LwIP/src/core/tcp.c **** #endif /* TCP_QUEUE_OOSEQ */
1076:Middlewares/Third_Party/LwIP/src/core/tcp.c **** 
1077:Middlewares/Third_Party/LwIP/src/core/tcp.c ****     /* Check if this PCB has stayed too long in SYN-RCVD */
1078:Middlewares/Third_Party/LwIP/src/core/tcp.c ****     if (pcb->state == SYN_RCVD) {
1079:Middlewares/Third_Party/LwIP/src/core/tcp.c ****       if ((u32_t)(tcp_ticks - pcb->tmr) >
1080:Middlewares/Third_Party/LwIP/src/core/tcp.c ****           TCP_SYN_RCVD_TIMEOUT / TCP_SLOW_INTERVAL) {
1081:Middlewares/Third_Party/LwIP/src/core/tcp.c ****         ++pcb_remove;
1082:Middlewares/Third_Party/LwIP/src/core/tcp.c ****         LWIP_DEBUGF(TCP_DEBUG, ("tcp_slowtmr: removing pcb stuck in SYN-RCVD\n"));
1083:Middlewares/Third_Party/LwIP/src/core/tcp.c ****       }
1084:Middlewares/Third_Party/LwIP/src/core/tcp.c ****     }
1085:Middlewares/Third_Party/LwIP/src/core/tcp.c **** 
1086:Middlewares/Third_Party/LwIP/src/core/tcp.c ****     /* Check if this PCB has stayed too long in LAST-ACK */
1087:Middlewares/Third_Party/LwIP/src/core/tcp.c ****     if (pcb->state == LAST_ACK) {
1088:Middlewares/Third_Party/LwIP/src/core/tcp.c ****       if ((u32_t)(tcp_ticks - pcb->tmr) > 2 * TCP_MSL / TCP_SLOW_INTERVAL) {
1089:Middlewares/Third_Party/LwIP/src/core/tcp.c ****         ++pcb_remove;
1090:Middlewares/Third_Party/LwIP/src/core/tcp.c ****         LWIP_DEBUGF(TCP_DEBUG, ("tcp_slowtmr: removing pcb stuck in LAST-ACK\n"));
1091:Middlewares/Third_Party/LwIP/src/core/tcp.c ****       }
1092:Middlewares/Third_Party/LwIP/src/core/tcp.c ****     }
1093:Middlewares/Third_Party/LwIP/src/core/tcp.c **** 
1094:Middlewares/Third_Party/LwIP/src/core/tcp.c ****     /* If the PCB should be removed, do it. */
1095:Middlewares/Third_Party/LwIP/src/core/tcp.c ****     if (pcb_remove) {
1096:Middlewares/Third_Party/LwIP/src/core/tcp.c ****       struct tcp_pcb *pcb2;
1097:Middlewares/Third_Party/LwIP/src/core/tcp.c **** #if LWIP_CALLBACK_API
1098:Middlewares/Third_Party/LwIP/src/core/tcp.c ****       tcp_err_fn err_fn = pcb->errf;
1099:Middlewares/Third_Party/LwIP/src/core/tcp.c **** #endif /* LWIP_CALLBACK_API */
1100:Middlewares/Third_Party/LwIP/src/core/tcp.c ****       void *err_arg;
1101:Middlewares/Third_Party/LwIP/src/core/tcp.c ****       tcp_pcb_purge(pcb);
1102:Middlewares/Third_Party/LwIP/src/core/tcp.c ****       /* Remove PCB from tcp_active_pcbs list. */
1103:Middlewares/Third_Party/LwIP/src/core/tcp.c ****       if (prev != NULL) {
1104:Middlewares/Third_Party/LwIP/src/core/tcp.c ****         LWIP_ASSERT("tcp_slowtmr: middle tcp != tcp_active_pcbs", pcb != tcp_active_pcbs);
1105:Middlewares/Third_Party/LwIP/src/core/tcp.c ****         prev->next = pcb->next;
1106:Middlewares/Third_Party/LwIP/src/core/tcp.c ****       } else {
1107:Middlewares/Third_Party/LwIP/src/core/tcp.c ****         /* This PCB was the first. */
1108:Middlewares/Third_Party/LwIP/src/core/tcp.c ****         LWIP_ASSERT("tcp_slowtmr: first pcb == tcp_active_pcbs", tcp_active_pcbs == pcb);
1109:Middlewares/Third_Party/LwIP/src/core/tcp.c ****         tcp_active_pcbs = pcb->next;
1110:Middlewares/Third_Party/LwIP/src/core/tcp.c ****       }
1111:Middlewares/Third_Party/LwIP/src/core/tcp.c **** 
1112:Middlewares/Third_Party/LwIP/src/core/tcp.c ****       if (pcb_reset) {
1113:Middlewares/Third_Party/LwIP/src/core/tcp.c ****         tcp_rst(pcb->snd_nxt, pcb->rcv_nxt, &pcb->local_ip, &pcb->remote_ip,
1114:Middlewares/Third_Party/LwIP/src/core/tcp.c ****                  pcb->local_port, pcb->remote_port);
1115:Middlewares/Third_Party/LwIP/src/core/tcp.c ****       }
1116:Middlewares/Third_Party/LwIP/src/core/tcp.c **** 
1117:Middlewares/Third_Party/LwIP/src/core/tcp.c ****       err_arg = pcb->callback_arg;
1118:Middlewares/Third_Party/LwIP/src/core/tcp.c ****       pcb2 = pcb;
1119:Middlewares/Third_Party/LwIP/src/core/tcp.c ****       pcb = pcb->next;
1120:Middlewares/Third_Party/LwIP/src/core/tcp.c ****       memp_free(MEMP_TCP_PCB, pcb2);
1121:Middlewares/Third_Party/LwIP/src/core/tcp.c **** 
1122:Middlewares/Third_Party/LwIP/src/core/tcp.c ****       tcp_active_pcbs_changed = 0;
1123:Middlewares/Third_Party/LwIP/src/core/tcp.c ****       TCP_EVENT_ERR(err_fn, err_arg, ERR_ABRT);
1124:Middlewares/Third_Party/LwIP/src/core/tcp.c ****       if (tcp_active_pcbs_changed) {
1125:Middlewares/Third_Party/LwIP/src/core/tcp.c ****         goto tcp_slowtmr_start;
1126:Middlewares/Third_Party/LwIP/src/core/tcp.c ****       }
1127:Middlewares/Third_Party/LwIP/src/core/tcp.c ****     } else {
1128:Middlewares/Third_Party/LwIP/src/core/tcp.c ****       /* get the 'next' element now and work with 'prev' below (in case of abort) */
1129:Middlewares/Third_Party/LwIP/src/core/tcp.c ****       prev = pcb;
1130:Middlewares/Third_Party/LwIP/src/core/tcp.c ****       pcb = pcb->next;
ARM GAS  C:\Users\Student\AppData\Local\Temp\ccY4weUp.s 			page 35


1131:Middlewares/Third_Party/LwIP/src/core/tcp.c **** 
1132:Middlewares/Third_Party/LwIP/src/core/tcp.c ****       /* We check if we should poll the connection. */
1133:Middlewares/Third_Party/LwIP/src/core/tcp.c ****       ++prev->polltmr;
1134:Middlewares/Third_Party/LwIP/src/core/tcp.c ****       if (prev->polltmr >= prev->pollinterval) {
1135:Middlewares/Third_Party/LwIP/src/core/tcp.c ****         prev->polltmr = 0;
1136:Middlewares/Third_Party/LwIP/src/core/tcp.c ****         LWIP_DEBUGF(TCP_DEBUG, ("tcp_slowtmr: polling application\n"));
1137:Middlewares/Third_Party/LwIP/src/core/tcp.c ****         tcp_active_pcbs_changed = 0;
1138:Middlewares/Third_Party/LwIP/src/core/tcp.c ****         TCP_EVENT_POLL(prev, err);
1139:Middlewares/Third_Party/LwIP/src/core/tcp.c ****         if (tcp_active_pcbs_changed) {
1140:Middlewares/Third_Party/LwIP/src/core/tcp.c ****           goto tcp_slowtmr_start;
1141:Middlewares/Third_Party/LwIP/src/core/tcp.c ****         }
1142:Middlewares/Third_Party/LwIP/src/core/tcp.c ****         /* if err == ERR_ABRT, 'prev' is already deallocated */
1143:Middlewares/Third_Party/LwIP/src/core/tcp.c ****         if (err == ERR_OK) {
1144:Middlewares/Third_Party/LwIP/src/core/tcp.c ****           tcp_output(prev);
1145:Middlewares/Third_Party/LwIP/src/core/tcp.c ****         }
1146:Middlewares/Third_Party/LwIP/src/core/tcp.c ****       }
1147:Middlewares/Third_Party/LwIP/src/core/tcp.c ****     }
1148:Middlewares/Third_Party/LwIP/src/core/tcp.c ****   }
1149:Middlewares/Third_Party/LwIP/src/core/tcp.c **** 
1150:Middlewares/Third_Party/LwIP/src/core/tcp.c **** 
1151:Middlewares/Third_Party/LwIP/src/core/tcp.c ****   /* Steps through all of the TIME-WAIT PCBs. */
1152:Middlewares/Third_Party/LwIP/src/core/tcp.c ****   prev = NULL;
1153:Middlewares/Third_Party/LwIP/src/core/tcp.c ****   pcb = tcp_tw_pcbs;
1154:Middlewares/Third_Party/LwIP/src/core/tcp.c ****   while (pcb != NULL) {
1155:Middlewares/Third_Party/LwIP/src/core/tcp.c ****     LWIP_ASSERT("tcp_slowtmr: TIME-WAIT pcb->state == TIME-WAIT", pcb->state == TIME_WAIT);
1156:Middlewares/Third_Party/LwIP/src/core/tcp.c ****     pcb_remove = 0;
1157:Middlewares/Third_Party/LwIP/src/core/tcp.c **** 
1158:Middlewares/Third_Party/LwIP/src/core/tcp.c ****     /* Check if this PCB has stayed long enough in TIME-WAIT */
1159:Middlewares/Third_Party/LwIP/src/core/tcp.c ****     if ((u32_t)(tcp_ticks - pcb->tmr) > 2 * TCP_MSL / TCP_SLOW_INTERVAL) {
1160:Middlewares/Third_Party/LwIP/src/core/tcp.c ****       ++pcb_remove;
1161:Middlewares/Third_Party/LwIP/src/core/tcp.c ****     }
1162:Middlewares/Third_Party/LwIP/src/core/tcp.c **** 
1163:Middlewares/Third_Party/LwIP/src/core/tcp.c ****     /* If the PCB should be removed, do it. */
1164:Middlewares/Third_Party/LwIP/src/core/tcp.c ****     if (pcb_remove) {
1165:Middlewares/Third_Party/LwIP/src/core/tcp.c ****       struct tcp_pcb *pcb2;
1166:Middlewares/Third_Party/LwIP/src/core/tcp.c ****       tcp_pcb_purge(pcb);
1167:Middlewares/Third_Party/LwIP/src/core/tcp.c ****       /* Remove PCB from tcp_tw_pcbs list. */
1168:Middlewares/Third_Party/LwIP/src/core/tcp.c ****       if (prev != NULL) {
1169:Middlewares/Third_Party/LwIP/src/core/tcp.c ****         LWIP_ASSERT("tcp_slowtmr: middle tcp != tcp_tw_pcbs", pcb != tcp_tw_pcbs);
1170:Middlewares/Third_Party/LwIP/src/core/tcp.c ****         prev->next = pcb->next;
1171:Middlewares/Third_Party/LwIP/src/core/tcp.c ****       } else {
1172:Middlewares/Third_Party/LwIP/src/core/tcp.c ****         /* This PCB was the first. */
1173:Middlewares/Third_Party/LwIP/src/core/tcp.c ****         LWIP_ASSERT("tcp_slowtmr: first pcb == tcp_tw_pcbs", tcp_tw_pcbs == pcb);
1174:Middlewares/Third_Party/LwIP/src/core/tcp.c ****         tcp_tw_pcbs = pcb->next;
1175:Middlewares/Third_Party/LwIP/src/core/tcp.c ****       }
1176:Middlewares/Third_Party/LwIP/src/core/tcp.c ****       pcb2 = pcb;
1177:Middlewares/Third_Party/LwIP/src/core/tcp.c ****       pcb = pcb->next;
1178:Middlewares/Third_Party/LwIP/src/core/tcp.c ****       memp_free(MEMP_TCP_PCB, pcb2);
1179:Middlewares/Third_Party/LwIP/src/core/tcp.c ****     } else {
1180:Middlewares/Third_Party/LwIP/src/core/tcp.c ****       prev = pcb;
1181:Middlewares/Third_Party/LwIP/src/core/tcp.c ****       pcb = pcb->next;
1182:Middlewares/Third_Party/LwIP/src/core/tcp.c ****     }
1183:Middlewares/Third_Party/LwIP/src/core/tcp.c ****   }
1184:Middlewares/Third_Party/LwIP/src/core/tcp.c **** }
1185:Middlewares/Third_Party/LwIP/src/core/tcp.c **** 
1186:Middlewares/Third_Party/LwIP/src/core/tcp.c **** /**
1187:Middlewares/Third_Party/LwIP/src/core/tcp.c ****  * Is called every TCP_FAST_INTERVAL (250 ms) and process data previously
ARM GAS  C:\Users\Student\AppData\Local\Temp\ccY4weUp.s 			page 36


1188:Middlewares/Third_Party/LwIP/src/core/tcp.c ****  * "refused" by upper layer (application) and sends delayed ACKs.
1189:Middlewares/Third_Party/LwIP/src/core/tcp.c ****  *
1190:Middlewares/Third_Party/LwIP/src/core/tcp.c ****  * Automatically called from tcp_tmr().
1191:Middlewares/Third_Party/LwIP/src/core/tcp.c ****  */
1192:Middlewares/Third_Party/LwIP/src/core/tcp.c **** void
1193:Middlewares/Third_Party/LwIP/src/core/tcp.c **** tcp_fasttmr(void)
1194:Middlewares/Third_Party/LwIP/src/core/tcp.c **** {
1195:Middlewares/Third_Party/LwIP/src/core/tcp.c ****   struct tcp_pcb *pcb;
1196:Middlewares/Third_Party/LwIP/src/core/tcp.c **** 
1197:Middlewares/Third_Party/LwIP/src/core/tcp.c ****   ++tcp_timer_ctr;
1198:Middlewares/Third_Party/LwIP/src/core/tcp.c **** 
1199:Middlewares/Third_Party/LwIP/src/core/tcp.c **** tcp_fasttmr_start:
1200:Middlewares/Third_Party/LwIP/src/core/tcp.c ****   pcb = tcp_active_pcbs;
1201:Middlewares/Third_Party/LwIP/src/core/tcp.c **** 
1202:Middlewares/Third_Party/LwIP/src/core/tcp.c ****   while (pcb != NULL) {
1203:Middlewares/Third_Party/LwIP/src/core/tcp.c ****     if (pcb->last_timer != tcp_timer_ctr) {
1204:Middlewares/Third_Party/LwIP/src/core/tcp.c ****       struct tcp_pcb *next;
1205:Middlewares/Third_Party/LwIP/src/core/tcp.c ****       pcb->last_timer = tcp_timer_ctr;
1206:Middlewares/Third_Party/LwIP/src/core/tcp.c ****       /* send delayed ACKs */
1207:Middlewares/Third_Party/LwIP/src/core/tcp.c ****       if (pcb->flags & TF_ACK_DELAY) {
1208:Middlewares/Third_Party/LwIP/src/core/tcp.c ****         LWIP_DEBUGF(TCP_DEBUG, ("tcp_fasttmr: delayed ACK\n"));
1209:Middlewares/Third_Party/LwIP/src/core/tcp.c ****         tcp_ack_now(pcb);
1210:Middlewares/Third_Party/LwIP/src/core/tcp.c ****         tcp_output(pcb);
1211:Middlewares/Third_Party/LwIP/src/core/tcp.c ****         pcb->flags &= ~(TF_ACK_DELAY | TF_ACK_NOW);
1212:Middlewares/Third_Party/LwIP/src/core/tcp.c ****       }
1213:Middlewares/Third_Party/LwIP/src/core/tcp.c **** 
1214:Middlewares/Third_Party/LwIP/src/core/tcp.c ****       next = pcb->next;
1215:Middlewares/Third_Party/LwIP/src/core/tcp.c **** 
1216:Middlewares/Third_Party/LwIP/src/core/tcp.c ****       /* If there is data which was previously "refused" by upper layer */
1217:Middlewares/Third_Party/LwIP/src/core/tcp.c ****       if (pcb->refused_data != NULL) {
1218:Middlewares/Third_Party/LwIP/src/core/tcp.c ****         tcp_active_pcbs_changed = 0;
1219:Middlewares/Third_Party/LwIP/src/core/tcp.c ****         tcp_process_refused_data(pcb);
1220:Middlewares/Third_Party/LwIP/src/core/tcp.c ****         if (tcp_active_pcbs_changed) {
1221:Middlewares/Third_Party/LwIP/src/core/tcp.c ****           /* application callback has changed the pcb list: restart the loop */
1222:Middlewares/Third_Party/LwIP/src/core/tcp.c ****           goto tcp_fasttmr_start;
1223:Middlewares/Third_Party/LwIP/src/core/tcp.c ****         }
1224:Middlewares/Third_Party/LwIP/src/core/tcp.c ****       }
1225:Middlewares/Third_Party/LwIP/src/core/tcp.c ****       pcb = next;
1226:Middlewares/Third_Party/LwIP/src/core/tcp.c ****     } else {
1227:Middlewares/Third_Party/LwIP/src/core/tcp.c ****       pcb = pcb->next;
1228:Middlewares/Third_Party/LwIP/src/core/tcp.c ****     }
1229:Middlewares/Third_Party/LwIP/src/core/tcp.c ****   }
1230:Middlewares/Third_Party/LwIP/src/core/tcp.c **** }
1231:Middlewares/Third_Party/LwIP/src/core/tcp.c **** 
1232:Middlewares/Third_Party/LwIP/src/core/tcp.c **** /** Call tcp_output for all active pcbs that have TF_NAGLEMEMERR set */
1233:Middlewares/Third_Party/LwIP/src/core/tcp.c **** void
1234:Middlewares/Third_Party/LwIP/src/core/tcp.c **** tcp_txnow(void)
1235:Middlewares/Third_Party/LwIP/src/core/tcp.c **** {
 728              		.loc 1 1235 0
 729              		.cfi_startproc
 730              		@ args = 0, pretend = 0, frame = 0
 731              		@ frame_needed = 0, uses_anonymous_args = 0
 732 0000 10B5     		push	{r4, lr}
 733              	.LCFI10:
 734              		.cfi_def_cfa_offset 8
 735              		.cfi_offset 4, -8
 736              		.cfi_offset 14, -4
ARM GAS  C:\Users\Student\AppData\Local\Temp\ccY4weUp.s 			page 37


1236:Middlewares/Third_Party/LwIP/src/core/tcp.c ****   struct tcp_pcb *pcb;
1237:Middlewares/Third_Party/LwIP/src/core/tcp.c **** 
1238:Middlewares/Third_Party/LwIP/src/core/tcp.c ****   for (pcb = tcp_active_pcbs; pcb != NULL; pcb = pcb->next) {
 737              		.loc 1 1238 0
 738 0002 074B     		ldr	r3, .L92
 739 0004 1C68     		ldr	r4, [r3]
 740              	.LVL85:
 741 0006 00E0     		b	.L87
 742              	.L88:
 743              		.loc 1 1238 0 is_stmt 0 discriminator 2
 744 0008 E468     		ldr	r4, [r4, #12]
 745              	.LVL86:
 746              	.L87:
 747              		.loc 1 1238 0 discriminator 1
 748 000a 3CB1     		cbz	r4, .L91
1239:Middlewares/Third_Party/LwIP/src/core/tcp.c ****     if (pcb->flags & TF_NAGLEMEMERR) {
 749              		.loc 1 1239 0 is_stmt 1
 750 000c 94F91A30 		ldrsb	r3, [r4, #26]
 751 0010 002B     		cmp	r3, #0
 752 0012 F9DA     		bge	.L88
1240:Middlewares/Third_Party/LwIP/src/core/tcp.c ****       tcp_output(pcb);
 753              		.loc 1 1240 0
 754 0014 2046     		mov	r0, r4
 755 0016 FFF7FEFF 		bl	tcp_output
 756              	.LVL87:
 757 001a F5E7     		b	.L88
 758              	.L91:
1241:Middlewares/Third_Party/LwIP/src/core/tcp.c ****     }
1242:Middlewares/Third_Party/LwIP/src/core/tcp.c ****   }
1243:Middlewares/Third_Party/LwIP/src/core/tcp.c **** }
 759              		.loc 1 1243 0
 760 001c 10BD     		pop	{r4, pc}
 761              	.LVL88:
 762              	.L93:
 763 001e 00BF     		.align	2
 764              	.L92:
 765 0020 00000000 		.word	tcp_active_pcbs
 766              		.cfi_endproc
 767              	.LFE154:
 769              		.section	.text.tcp_seg_free,"ax",%progbits
 770              		.align	1
 771              		.global	tcp_seg_free
 772              		.syntax unified
 773              		.thumb
 774              		.thumb_func
 775              		.fpu fpv5-sp-d16
 777              	tcp_seg_free:
 778              	.LFB157:
1244:Middlewares/Third_Party/LwIP/src/core/tcp.c **** 
1245:Middlewares/Third_Party/LwIP/src/core/tcp.c **** /** Pass pcb->refused_data to the recv callback */
1246:Middlewares/Third_Party/LwIP/src/core/tcp.c **** err_t
1247:Middlewares/Third_Party/LwIP/src/core/tcp.c **** tcp_process_refused_data(struct tcp_pcb *pcb)
1248:Middlewares/Third_Party/LwIP/src/core/tcp.c **** {
1249:Middlewares/Third_Party/LwIP/src/core/tcp.c **** #if TCP_QUEUE_OOSEQ && LWIP_WND_SCALE
1250:Middlewares/Third_Party/LwIP/src/core/tcp.c ****   struct pbuf *rest;
1251:Middlewares/Third_Party/LwIP/src/core/tcp.c ****   while (pcb->refused_data != NULL)
1252:Middlewares/Third_Party/LwIP/src/core/tcp.c **** #endif /* TCP_QUEUE_OOSEQ && LWIP_WND_SCALE */
ARM GAS  C:\Users\Student\AppData\Local\Temp\ccY4weUp.s 			page 38


1253:Middlewares/Third_Party/LwIP/src/core/tcp.c ****   {
1254:Middlewares/Third_Party/LwIP/src/core/tcp.c ****     err_t err;
1255:Middlewares/Third_Party/LwIP/src/core/tcp.c ****     u8_t refused_flags = pcb->refused_data->flags;
1256:Middlewares/Third_Party/LwIP/src/core/tcp.c ****     /* set pcb->refused_data to NULL in case the callback frees it and then
1257:Middlewares/Third_Party/LwIP/src/core/tcp.c ****        closes the pcb */
1258:Middlewares/Third_Party/LwIP/src/core/tcp.c ****     struct pbuf *refused_data = pcb->refused_data;
1259:Middlewares/Third_Party/LwIP/src/core/tcp.c **** #if TCP_QUEUE_OOSEQ && LWIP_WND_SCALE
1260:Middlewares/Third_Party/LwIP/src/core/tcp.c ****     pbuf_split_64k(refused_data, &rest);
1261:Middlewares/Third_Party/LwIP/src/core/tcp.c ****     pcb->refused_data = rest;
1262:Middlewares/Third_Party/LwIP/src/core/tcp.c **** #else /* TCP_QUEUE_OOSEQ && LWIP_WND_SCALE */
1263:Middlewares/Third_Party/LwIP/src/core/tcp.c ****     pcb->refused_data = NULL;
1264:Middlewares/Third_Party/LwIP/src/core/tcp.c **** #endif /* TCP_QUEUE_OOSEQ && LWIP_WND_SCALE */
1265:Middlewares/Third_Party/LwIP/src/core/tcp.c ****     /* Notify again application with data previously received. */
1266:Middlewares/Third_Party/LwIP/src/core/tcp.c ****     LWIP_DEBUGF(TCP_INPUT_DEBUG, ("tcp_input: notify kept packet\n"));
1267:Middlewares/Third_Party/LwIP/src/core/tcp.c ****     TCP_EVENT_RECV(pcb, refused_data, ERR_OK, err);
1268:Middlewares/Third_Party/LwIP/src/core/tcp.c ****     if (err == ERR_OK) {
1269:Middlewares/Third_Party/LwIP/src/core/tcp.c ****       /* did refused_data include a FIN? */
1270:Middlewares/Third_Party/LwIP/src/core/tcp.c ****       if (refused_flags & PBUF_FLAG_TCP_FIN
1271:Middlewares/Third_Party/LwIP/src/core/tcp.c **** #if TCP_QUEUE_OOSEQ && LWIP_WND_SCALE
1272:Middlewares/Third_Party/LwIP/src/core/tcp.c ****           && (rest == NULL)
1273:Middlewares/Third_Party/LwIP/src/core/tcp.c **** #endif /* TCP_QUEUE_OOSEQ && LWIP_WND_SCALE */
1274:Middlewares/Third_Party/LwIP/src/core/tcp.c ****          ) {
1275:Middlewares/Third_Party/LwIP/src/core/tcp.c ****         /* correct rcv_wnd as the application won't call tcp_recved()
1276:Middlewares/Third_Party/LwIP/src/core/tcp.c ****            for the FIN's seqno */
1277:Middlewares/Third_Party/LwIP/src/core/tcp.c ****         if (pcb->rcv_wnd != TCP_WND_MAX(pcb)) {
1278:Middlewares/Third_Party/LwIP/src/core/tcp.c ****           pcb->rcv_wnd++;
1279:Middlewares/Third_Party/LwIP/src/core/tcp.c ****         }
1280:Middlewares/Third_Party/LwIP/src/core/tcp.c ****         TCP_EVENT_CLOSED(pcb, err);
1281:Middlewares/Third_Party/LwIP/src/core/tcp.c ****         if (err == ERR_ABRT) {
1282:Middlewares/Third_Party/LwIP/src/core/tcp.c ****           return ERR_ABRT;
1283:Middlewares/Third_Party/LwIP/src/core/tcp.c ****         }
1284:Middlewares/Third_Party/LwIP/src/core/tcp.c ****       }
1285:Middlewares/Third_Party/LwIP/src/core/tcp.c ****     } else if (err == ERR_ABRT) {
1286:Middlewares/Third_Party/LwIP/src/core/tcp.c ****       /* if err == ERR_ABRT, 'pcb' is already deallocated */
1287:Middlewares/Third_Party/LwIP/src/core/tcp.c ****       /* Drop incoming packets because pcb is "full" (only if the incoming
1288:Middlewares/Third_Party/LwIP/src/core/tcp.c ****          segment contains data). */
1289:Middlewares/Third_Party/LwIP/src/core/tcp.c ****       LWIP_DEBUGF(TCP_INPUT_DEBUG, ("tcp_input: drop incoming packets, because pcb is \"full\"\n"))
1290:Middlewares/Third_Party/LwIP/src/core/tcp.c ****       return ERR_ABRT;
1291:Middlewares/Third_Party/LwIP/src/core/tcp.c ****     } else {
1292:Middlewares/Third_Party/LwIP/src/core/tcp.c ****       /* data is still refused, pbuf is still valid (go on for ACK-only packets) */
1293:Middlewares/Third_Party/LwIP/src/core/tcp.c **** #if TCP_QUEUE_OOSEQ && LWIP_WND_SCALE
1294:Middlewares/Third_Party/LwIP/src/core/tcp.c ****       if (rest != NULL) {
1295:Middlewares/Third_Party/LwIP/src/core/tcp.c ****         pbuf_cat(refused_data, rest);
1296:Middlewares/Third_Party/LwIP/src/core/tcp.c ****       }
1297:Middlewares/Third_Party/LwIP/src/core/tcp.c **** #endif /* TCP_QUEUE_OOSEQ && LWIP_WND_SCALE */
1298:Middlewares/Third_Party/LwIP/src/core/tcp.c ****       pcb->refused_data = refused_data;
1299:Middlewares/Third_Party/LwIP/src/core/tcp.c ****       return ERR_INPROGRESS;
1300:Middlewares/Third_Party/LwIP/src/core/tcp.c ****     }
1301:Middlewares/Third_Party/LwIP/src/core/tcp.c ****   }
1302:Middlewares/Third_Party/LwIP/src/core/tcp.c ****   return ERR_OK;
1303:Middlewares/Third_Party/LwIP/src/core/tcp.c **** }
1304:Middlewares/Third_Party/LwIP/src/core/tcp.c **** 
1305:Middlewares/Third_Party/LwIP/src/core/tcp.c **** /**
1306:Middlewares/Third_Party/LwIP/src/core/tcp.c ****  * Deallocates a list of TCP segments (tcp_seg structures).
1307:Middlewares/Third_Party/LwIP/src/core/tcp.c ****  *
1308:Middlewares/Third_Party/LwIP/src/core/tcp.c ****  * @param seg tcp_seg list of TCP segments to free
1309:Middlewares/Third_Party/LwIP/src/core/tcp.c ****  */
ARM GAS  C:\Users\Student\AppData\Local\Temp\ccY4weUp.s 			page 39


1310:Middlewares/Third_Party/LwIP/src/core/tcp.c **** void
1311:Middlewares/Third_Party/LwIP/src/core/tcp.c **** tcp_segs_free(struct tcp_seg *seg)
1312:Middlewares/Third_Party/LwIP/src/core/tcp.c **** {
1313:Middlewares/Third_Party/LwIP/src/core/tcp.c ****   while (seg != NULL) {
1314:Middlewares/Third_Party/LwIP/src/core/tcp.c ****     struct tcp_seg *next = seg->next;
1315:Middlewares/Third_Party/LwIP/src/core/tcp.c ****     tcp_seg_free(seg);
1316:Middlewares/Third_Party/LwIP/src/core/tcp.c ****     seg = next;
1317:Middlewares/Third_Party/LwIP/src/core/tcp.c ****   }
1318:Middlewares/Third_Party/LwIP/src/core/tcp.c **** }
1319:Middlewares/Third_Party/LwIP/src/core/tcp.c **** 
1320:Middlewares/Third_Party/LwIP/src/core/tcp.c **** /**
1321:Middlewares/Third_Party/LwIP/src/core/tcp.c ****  * Frees a TCP segment (tcp_seg structure).
1322:Middlewares/Third_Party/LwIP/src/core/tcp.c ****  *
1323:Middlewares/Third_Party/LwIP/src/core/tcp.c ****  * @param seg single tcp_seg to free
1324:Middlewares/Third_Party/LwIP/src/core/tcp.c ****  */
1325:Middlewares/Third_Party/LwIP/src/core/tcp.c **** void
1326:Middlewares/Third_Party/LwIP/src/core/tcp.c **** tcp_seg_free(struct tcp_seg *seg)
1327:Middlewares/Third_Party/LwIP/src/core/tcp.c **** {
 779              		.loc 1 1327 0
 780              		.cfi_startproc
 781              		@ args = 0, pretend = 0, frame = 0
 782              		@ frame_needed = 0, uses_anonymous_args = 0
 783              	.LVL89:
1328:Middlewares/Third_Party/LwIP/src/core/tcp.c ****   if (seg != NULL) {
 784              		.loc 1 1328 0
 785 0000 50B1     		cbz	r0, .L98
1327:Middlewares/Third_Party/LwIP/src/core/tcp.c ****   if (seg != NULL) {
 786              		.loc 1 1327 0
 787 0002 10B5     		push	{r4, lr}
 788              	.LCFI11:
 789              		.cfi_def_cfa_offset 8
 790              		.cfi_offset 4, -8
 791              		.cfi_offset 14, -4
 792 0004 0446     		mov	r4, r0
1329:Middlewares/Third_Party/LwIP/src/core/tcp.c ****     if (seg->p != NULL) {
 793              		.loc 1 1329 0
 794 0006 4068     		ldr	r0, [r0, #4]
 795              	.LVL90:
 796 0008 08B1     		cbz	r0, .L96
1330:Middlewares/Third_Party/LwIP/src/core/tcp.c ****       pbuf_free(seg->p);
 797              		.loc 1 1330 0
 798 000a FFF7FEFF 		bl	pbuf_free
 799              	.LVL91:
 800              	.L96:
1331:Middlewares/Third_Party/LwIP/src/core/tcp.c **** #if TCP_DEBUG
1332:Middlewares/Third_Party/LwIP/src/core/tcp.c ****       seg->p = NULL;
1333:Middlewares/Third_Party/LwIP/src/core/tcp.c **** #endif /* TCP_DEBUG */
1334:Middlewares/Third_Party/LwIP/src/core/tcp.c ****     }
1335:Middlewares/Third_Party/LwIP/src/core/tcp.c ****     memp_free(MEMP_TCP_SEG, seg);
 801              		.loc 1 1335 0
 802 000e 2146     		mov	r1, r4
 803 0010 0320     		movs	r0, #3
 804 0012 FFF7FEFF 		bl	memp_free
 805              	.LVL92:
 806 0016 10BD     		pop	{r4, pc}
 807              	.LVL93:
 808              	.L98:
ARM GAS  C:\Users\Student\AppData\Local\Temp\ccY4weUp.s 			page 40


 809              	.LCFI12:
 810              		.cfi_def_cfa_offset 0
 811              		.cfi_restore 4
 812              		.cfi_restore 14
 813 0018 7047     		bx	lr
 814              		.cfi_endproc
 815              	.LFE157:
 817              		.section	.text.tcp_segs_free,"ax",%progbits
 818              		.align	1
 819              		.global	tcp_segs_free
 820              		.syntax unified
 821              		.thumb
 822              		.thumb_func
 823              		.fpu fpv5-sp-d16
 825              	tcp_segs_free:
 826              	.LFB156:
1312:Middlewares/Third_Party/LwIP/src/core/tcp.c ****   while (seg != NULL) {
 827              		.loc 1 1312 0
 828              		.cfi_startproc
 829              		@ args = 0, pretend = 0, frame = 0
 830              		@ frame_needed = 0, uses_anonymous_args = 0
 831              	.LVL94:
1313:Middlewares/Third_Party/LwIP/src/core/tcp.c ****     struct tcp_seg *next = seg->next;
 832              		.loc 1 1313 0
 833 0000 38B1     		cbz	r0, .L107
1312:Middlewares/Third_Party/LwIP/src/core/tcp.c ****   while (seg != NULL) {
 834              		.loc 1 1312 0
 835 0002 10B5     		push	{r4, lr}
 836              	.LCFI13:
 837              		.cfi_def_cfa_offset 8
 838              		.cfi_offset 4, -8
 839              		.cfi_offset 14, -4
 840              	.L103:
 841              	.LBB5:
1314:Middlewares/Third_Party/LwIP/src/core/tcp.c ****     tcp_seg_free(seg);
 842              		.loc 1 1314 0
 843 0004 0468     		ldr	r4, [r0]
 844              	.LVL95:
1315:Middlewares/Third_Party/LwIP/src/core/tcp.c ****     seg = next;
 845              		.loc 1 1315 0
 846 0006 FFF7FEFF 		bl	tcp_seg_free
 847              	.LVL96:
1316:Middlewares/Third_Party/LwIP/src/core/tcp.c ****   }
 848              		.loc 1 1316 0
 849 000a 2046     		mov	r0, r4
 850              	.LBE5:
1313:Middlewares/Third_Party/LwIP/src/core/tcp.c ****     struct tcp_seg *next = seg->next;
 851              		.loc 1 1313 0
 852 000c 002C     		cmp	r4, #0
 853 000e F9D1     		bne	.L103
1318:Middlewares/Third_Party/LwIP/src/core/tcp.c **** 
 854              		.loc 1 1318 0
 855 0010 10BD     		pop	{r4, pc}
 856              	.LVL97:
 857              	.L107:
 858              	.LCFI14:
 859              		.cfi_def_cfa_offset 0
ARM GAS  C:\Users\Student\AppData\Local\Temp\ccY4weUp.s 			page 41


 860              		.cfi_restore 4
 861              		.cfi_restore 14
 862 0012 7047     		bx	lr
 863              		.cfi_endproc
 864              	.LFE156:
 866              		.section	.text.tcp_setprio,"ax",%progbits
 867              		.align	1
 868              		.global	tcp_setprio
 869              		.syntax unified
 870              		.thumb
 871              		.thumb_func
 872              		.fpu fpv5-sp-d16
 874              	tcp_setprio:
 875              	.LFB158:
1336:Middlewares/Third_Party/LwIP/src/core/tcp.c ****   }
1337:Middlewares/Third_Party/LwIP/src/core/tcp.c **** }
1338:Middlewares/Third_Party/LwIP/src/core/tcp.c **** 
1339:Middlewares/Third_Party/LwIP/src/core/tcp.c **** /**
1340:Middlewares/Third_Party/LwIP/src/core/tcp.c ****  * Sets the priority of a connection.
1341:Middlewares/Third_Party/LwIP/src/core/tcp.c ****  *
1342:Middlewares/Third_Party/LwIP/src/core/tcp.c ****  * @param pcb the tcp_pcb to manipulate
1343:Middlewares/Third_Party/LwIP/src/core/tcp.c ****  * @param prio new priority
1344:Middlewares/Third_Party/LwIP/src/core/tcp.c ****  */
1345:Middlewares/Third_Party/LwIP/src/core/tcp.c **** void
1346:Middlewares/Third_Party/LwIP/src/core/tcp.c **** tcp_setprio(struct tcp_pcb *pcb, u8_t prio)
1347:Middlewares/Third_Party/LwIP/src/core/tcp.c **** {
 876              		.loc 1 1347 0
 877              		.cfi_startproc
 878              		@ args = 0, pretend = 0, frame = 0
 879              		@ frame_needed = 0, uses_anonymous_args = 0
 880              		@ link register save eliminated.
 881              	.LVL98:
1348:Middlewares/Third_Party/LwIP/src/core/tcp.c ****   pcb->prio = prio;
 882              		.loc 1 1348 0
 883 0000 4175     		strb	r1, [r0, #21]
 884 0002 7047     		bx	lr
 885              		.cfi_endproc
 886              	.LFE158:
 888              		.section	.text.tcp_seg_copy,"ax",%progbits
 889              		.align	1
 890              		.global	tcp_seg_copy
 891              		.syntax unified
 892              		.thumb
 893              		.thumb_func
 894              		.fpu fpv5-sp-d16
 896              	tcp_seg_copy:
 897              	.LFB159:
1349:Middlewares/Third_Party/LwIP/src/core/tcp.c **** }
1350:Middlewares/Third_Party/LwIP/src/core/tcp.c **** 
1351:Middlewares/Third_Party/LwIP/src/core/tcp.c **** #if TCP_QUEUE_OOSEQ
1352:Middlewares/Third_Party/LwIP/src/core/tcp.c **** /**
1353:Middlewares/Third_Party/LwIP/src/core/tcp.c ****  * Returns a copy of the given TCP segment.
1354:Middlewares/Third_Party/LwIP/src/core/tcp.c ****  * The pbuf and data are not copied, only the pointers
1355:Middlewares/Third_Party/LwIP/src/core/tcp.c ****  *
1356:Middlewares/Third_Party/LwIP/src/core/tcp.c ****  * @param seg the old tcp_seg
1357:Middlewares/Third_Party/LwIP/src/core/tcp.c ****  * @return a copy of seg
1358:Middlewares/Third_Party/LwIP/src/core/tcp.c ****  */
ARM GAS  C:\Users\Student\AppData\Local\Temp\ccY4weUp.s 			page 42


1359:Middlewares/Third_Party/LwIP/src/core/tcp.c **** struct tcp_seg *
1360:Middlewares/Third_Party/LwIP/src/core/tcp.c **** tcp_seg_copy(struct tcp_seg *seg)
1361:Middlewares/Third_Party/LwIP/src/core/tcp.c **** {
 898              		.loc 1 1361 0
 899              		.cfi_startproc
 900              		@ args = 0, pretend = 0, frame = 0
 901              		@ frame_needed = 0, uses_anonymous_args = 0
 902              	.LVL99:
 903 0000 38B5     		push	{r3, r4, r5, lr}
 904              	.LCFI15:
 905              		.cfi_def_cfa_offset 16
 906              		.cfi_offset 3, -16
 907              		.cfi_offset 4, -12
 908              		.cfi_offset 5, -8
 909              		.cfi_offset 14, -4
 910 0002 0546     		mov	r5, r0
1362:Middlewares/Third_Party/LwIP/src/core/tcp.c ****   struct tcp_seg *cseg;
1363:Middlewares/Third_Party/LwIP/src/core/tcp.c **** 
1364:Middlewares/Third_Party/LwIP/src/core/tcp.c ****   cseg = (struct tcp_seg *)memp_malloc(MEMP_TCP_SEG);
 911              		.loc 1 1364 0
 912 0004 0320     		movs	r0, #3
 913              	.LVL100:
 914 0006 FFF7FEFF 		bl	memp_malloc
 915              	.LVL101:
1365:Middlewares/Third_Party/LwIP/src/core/tcp.c ****   if (cseg == NULL) {
 916              		.loc 1 1365 0
 917 000a 0446     		mov	r4, r0
 918 000c 50B1     		cbz	r0, .L109
1366:Middlewares/Third_Party/LwIP/src/core/tcp.c ****     return NULL;
1367:Middlewares/Third_Party/LwIP/src/core/tcp.c ****   }
1368:Middlewares/Third_Party/LwIP/src/core/tcp.c ****   SMEMCPY((u8_t *)cseg, (const u8_t *)seg, sizeof(struct tcp_seg));
 919              		.loc 1 1368 0
 920 000e 2868     		ldr	r0, [r5]	@ unaligned
 921              	.LVL102:
 922 0010 6968     		ldr	r1, [r5, #4]	@ unaligned
 923 0012 AA68     		ldr	r2, [r5, #8]	@ unaligned
 924 0014 EB68     		ldr	r3, [r5, #12]	@ unaligned
 925 0016 2060     		str	r0, [r4]	@ unaligned
 926 0018 6160     		str	r1, [r4, #4]	@ unaligned
 927 001a A260     		str	r2, [r4, #8]	@ unaligned
 928 001c E360     		str	r3, [r4, #12]	@ unaligned
1369:Middlewares/Third_Party/LwIP/src/core/tcp.c ****   pbuf_ref(cseg->p);
 929              		.loc 1 1369 0
 930 001e 6068     		ldr	r0, [r4, #4]
 931 0020 FFF7FEFF 		bl	pbuf_ref
 932              	.LVL103:
 933              	.L109:
1370:Middlewares/Third_Party/LwIP/src/core/tcp.c ****   return cseg;
1371:Middlewares/Third_Party/LwIP/src/core/tcp.c **** }
 934              		.loc 1 1371 0
 935 0024 2046     		mov	r0, r4
 936 0026 38BD     		pop	{r3, r4, r5, pc}
 937              		.cfi_endproc
 938              	.LFE159:
 940              		.section	.text.tcp_arg,"ax",%progbits
 941              		.align	1
 942              		.global	tcp_arg
ARM GAS  C:\Users\Student\AppData\Local\Temp\ccY4weUp.s 			page 43


 943              		.syntax unified
 944              		.thumb
 945              		.thumb_func
 946              		.fpu fpv5-sp-d16
 948              	tcp_arg:
 949              	.LFB167:
1372:Middlewares/Third_Party/LwIP/src/core/tcp.c **** #endif /* TCP_QUEUE_OOSEQ */
1373:Middlewares/Third_Party/LwIP/src/core/tcp.c **** 
1374:Middlewares/Third_Party/LwIP/src/core/tcp.c **** #if LWIP_CALLBACK_API
1375:Middlewares/Third_Party/LwIP/src/core/tcp.c **** /**
1376:Middlewares/Third_Party/LwIP/src/core/tcp.c ****  * Default receive callback that is called if the user didn't register
1377:Middlewares/Third_Party/LwIP/src/core/tcp.c ****  * a recv callback for the pcb.
1378:Middlewares/Third_Party/LwIP/src/core/tcp.c ****  */
1379:Middlewares/Third_Party/LwIP/src/core/tcp.c **** err_t
1380:Middlewares/Third_Party/LwIP/src/core/tcp.c **** tcp_recv_null(void *arg, struct tcp_pcb *pcb, struct pbuf *p, err_t err)
1381:Middlewares/Third_Party/LwIP/src/core/tcp.c **** {
1382:Middlewares/Third_Party/LwIP/src/core/tcp.c ****   LWIP_UNUSED_ARG(arg);
1383:Middlewares/Third_Party/LwIP/src/core/tcp.c ****   if (p != NULL) {
1384:Middlewares/Third_Party/LwIP/src/core/tcp.c ****     tcp_recved(pcb, p->tot_len);
1385:Middlewares/Third_Party/LwIP/src/core/tcp.c ****     pbuf_free(p);
1386:Middlewares/Third_Party/LwIP/src/core/tcp.c ****   } else if (err == ERR_OK) {
1387:Middlewares/Third_Party/LwIP/src/core/tcp.c ****     return tcp_close(pcb);
1388:Middlewares/Third_Party/LwIP/src/core/tcp.c ****   }
1389:Middlewares/Third_Party/LwIP/src/core/tcp.c ****   return ERR_OK;
1390:Middlewares/Third_Party/LwIP/src/core/tcp.c **** }
1391:Middlewares/Third_Party/LwIP/src/core/tcp.c **** #endif /* LWIP_CALLBACK_API */
1392:Middlewares/Third_Party/LwIP/src/core/tcp.c **** 
1393:Middlewares/Third_Party/LwIP/src/core/tcp.c **** /**
1394:Middlewares/Third_Party/LwIP/src/core/tcp.c ****  * Kills the oldest active connection that has the same or lower priority than
1395:Middlewares/Third_Party/LwIP/src/core/tcp.c ****  * 'prio'.
1396:Middlewares/Third_Party/LwIP/src/core/tcp.c ****  *
1397:Middlewares/Third_Party/LwIP/src/core/tcp.c ****  * @param prio minimum priority
1398:Middlewares/Third_Party/LwIP/src/core/tcp.c ****  */
1399:Middlewares/Third_Party/LwIP/src/core/tcp.c **** static void
1400:Middlewares/Third_Party/LwIP/src/core/tcp.c **** tcp_kill_prio(u8_t prio)
1401:Middlewares/Third_Party/LwIP/src/core/tcp.c **** {
1402:Middlewares/Third_Party/LwIP/src/core/tcp.c ****   struct tcp_pcb *pcb, *inactive;
1403:Middlewares/Third_Party/LwIP/src/core/tcp.c ****   u32_t inactivity;
1404:Middlewares/Third_Party/LwIP/src/core/tcp.c ****   u8_t mprio;
1405:Middlewares/Third_Party/LwIP/src/core/tcp.c **** 
1406:Middlewares/Third_Party/LwIP/src/core/tcp.c ****   mprio = LWIP_MIN(TCP_PRIO_MAX, prio);
1407:Middlewares/Third_Party/LwIP/src/core/tcp.c **** 
1408:Middlewares/Third_Party/LwIP/src/core/tcp.c ****   /* We kill the oldest active connection that has lower priority than prio. */
1409:Middlewares/Third_Party/LwIP/src/core/tcp.c ****   inactivity = 0;
1410:Middlewares/Third_Party/LwIP/src/core/tcp.c ****   inactive = NULL;
1411:Middlewares/Third_Party/LwIP/src/core/tcp.c ****   for (pcb = tcp_active_pcbs; pcb != NULL; pcb = pcb->next) {
1412:Middlewares/Third_Party/LwIP/src/core/tcp.c ****     if (pcb->prio <= mprio &&
1413:Middlewares/Third_Party/LwIP/src/core/tcp.c ****        (u32_t)(tcp_ticks - pcb->tmr) >= inactivity) {
1414:Middlewares/Third_Party/LwIP/src/core/tcp.c ****       inactivity = tcp_ticks - pcb->tmr;
1415:Middlewares/Third_Party/LwIP/src/core/tcp.c ****       inactive = pcb;
1416:Middlewares/Third_Party/LwIP/src/core/tcp.c ****       mprio = pcb->prio;
1417:Middlewares/Third_Party/LwIP/src/core/tcp.c ****     }
1418:Middlewares/Third_Party/LwIP/src/core/tcp.c ****   }
1419:Middlewares/Third_Party/LwIP/src/core/tcp.c ****   if (inactive != NULL) {
1420:Middlewares/Third_Party/LwIP/src/core/tcp.c ****     LWIP_DEBUGF(TCP_DEBUG, ("tcp_kill_prio: killing oldest PCB %p (%"S32_F")\n",
1421:Middlewares/Third_Party/LwIP/src/core/tcp.c ****            (void *)inactive, inactivity));
1422:Middlewares/Third_Party/LwIP/src/core/tcp.c ****     tcp_abort(inactive);
ARM GAS  C:\Users\Student\AppData\Local\Temp\ccY4weUp.s 			page 44


1423:Middlewares/Third_Party/LwIP/src/core/tcp.c ****   }
1424:Middlewares/Third_Party/LwIP/src/core/tcp.c **** }
1425:Middlewares/Third_Party/LwIP/src/core/tcp.c **** 
1426:Middlewares/Third_Party/LwIP/src/core/tcp.c **** /**
1427:Middlewares/Third_Party/LwIP/src/core/tcp.c ****  * Kills the oldest connection that is in specific state.
1428:Middlewares/Third_Party/LwIP/src/core/tcp.c ****  * Called from tcp_alloc() for LAST_ACK and CLOSING if no more connections are available.
1429:Middlewares/Third_Party/LwIP/src/core/tcp.c ****  */
1430:Middlewares/Third_Party/LwIP/src/core/tcp.c **** static void
1431:Middlewares/Third_Party/LwIP/src/core/tcp.c **** tcp_kill_state(enum tcp_state state)
1432:Middlewares/Third_Party/LwIP/src/core/tcp.c **** {
1433:Middlewares/Third_Party/LwIP/src/core/tcp.c ****   struct tcp_pcb *pcb, *inactive;
1434:Middlewares/Third_Party/LwIP/src/core/tcp.c ****   u32_t inactivity;
1435:Middlewares/Third_Party/LwIP/src/core/tcp.c **** 
1436:Middlewares/Third_Party/LwIP/src/core/tcp.c ****   LWIP_ASSERT("invalid state", (state == CLOSING) || (state == LAST_ACK));
1437:Middlewares/Third_Party/LwIP/src/core/tcp.c **** 
1438:Middlewares/Third_Party/LwIP/src/core/tcp.c ****   inactivity = 0;
1439:Middlewares/Third_Party/LwIP/src/core/tcp.c ****   inactive = NULL;
1440:Middlewares/Third_Party/LwIP/src/core/tcp.c ****   /* Go through the list of active pcbs and get the oldest pcb that is in state
1441:Middlewares/Third_Party/LwIP/src/core/tcp.c ****      CLOSING/LAST_ACK. */
1442:Middlewares/Third_Party/LwIP/src/core/tcp.c ****   for (pcb = tcp_active_pcbs; pcb != NULL; pcb = pcb->next) {
1443:Middlewares/Third_Party/LwIP/src/core/tcp.c ****     if (pcb->state == state) {
1444:Middlewares/Third_Party/LwIP/src/core/tcp.c ****       if ((u32_t)(tcp_ticks - pcb->tmr) >= inactivity) {
1445:Middlewares/Third_Party/LwIP/src/core/tcp.c ****         inactivity = tcp_ticks - pcb->tmr;
1446:Middlewares/Third_Party/LwIP/src/core/tcp.c ****         inactive = pcb;
1447:Middlewares/Third_Party/LwIP/src/core/tcp.c ****       }
1448:Middlewares/Third_Party/LwIP/src/core/tcp.c ****     }
1449:Middlewares/Third_Party/LwIP/src/core/tcp.c ****   }
1450:Middlewares/Third_Party/LwIP/src/core/tcp.c ****   if (inactive != NULL) {
1451:Middlewares/Third_Party/LwIP/src/core/tcp.c ****     LWIP_DEBUGF(TCP_DEBUG, ("tcp_kill_closing: killing oldest %s PCB %p (%"S32_F")\n",
1452:Middlewares/Third_Party/LwIP/src/core/tcp.c ****            tcp_state_str[state], (void *)inactive, inactivity));
1453:Middlewares/Third_Party/LwIP/src/core/tcp.c ****     /* Don't send a RST, since no data is lost. */
1454:Middlewares/Third_Party/LwIP/src/core/tcp.c ****     tcp_abandon(inactive, 0);
1455:Middlewares/Third_Party/LwIP/src/core/tcp.c ****   }
1456:Middlewares/Third_Party/LwIP/src/core/tcp.c **** }
1457:Middlewares/Third_Party/LwIP/src/core/tcp.c **** 
1458:Middlewares/Third_Party/LwIP/src/core/tcp.c **** /**
1459:Middlewares/Third_Party/LwIP/src/core/tcp.c ****  * Kills the oldest connection that is in TIME_WAIT state.
1460:Middlewares/Third_Party/LwIP/src/core/tcp.c ****  * Called from tcp_alloc() if no more connections are available.
1461:Middlewares/Third_Party/LwIP/src/core/tcp.c ****  */
1462:Middlewares/Third_Party/LwIP/src/core/tcp.c **** static void
1463:Middlewares/Third_Party/LwIP/src/core/tcp.c **** tcp_kill_timewait(void)
1464:Middlewares/Third_Party/LwIP/src/core/tcp.c **** {
1465:Middlewares/Third_Party/LwIP/src/core/tcp.c ****   struct tcp_pcb *pcb, *inactive;
1466:Middlewares/Third_Party/LwIP/src/core/tcp.c ****   u32_t inactivity;
1467:Middlewares/Third_Party/LwIP/src/core/tcp.c **** 
1468:Middlewares/Third_Party/LwIP/src/core/tcp.c ****   inactivity = 0;
1469:Middlewares/Third_Party/LwIP/src/core/tcp.c ****   inactive = NULL;
1470:Middlewares/Third_Party/LwIP/src/core/tcp.c ****   /* Go through the list of TIME_WAIT pcbs and get the oldest pcb. */
1471:Middlewares/Third_Party/LwIP/src/core/tcp.c ****   for (pcb = tcp_tw_pcbs; pcb != NULL; pcb = pcb->next) {
1472:Middlewares/Third_Party/LwIP/src/core/tcp.c ****     if ((u32_t)(tcp_ticks - pcb->tmr) >= inactivity) {
1473:Middlewares/Third_Party/LwIP/src/core/tcp.c ****       inactivity = tcp_ticks - pcb->tmr;
1474:Middlewares/Third_Party/LwIP/src/core/tcp.c ****       inactive = pcb;
1475:Middlewares/Third_Party/LwIP/src/core/tcp.c ****     }
1476:Middlewares/Third_Party/LwIP/src/core/tcp.c ****   }
1477:Middlewares/Third_Party/LwIP/src/core/tcp.c ****   if (inactive != NULL) {
1478:Middlewares/Third_Party/LwIP/src/core/tcp.c ****     LWIP_DEBUGF(TCP_DEBUG, ("tcp_kill_timewait: killing oldest TIME-WAIT PCB %p (%"S32_F")\n",
1479:Middlewares/Third_Party/LwIP/src/core/tcp.c ****            (void *)inactive, inactivity));
ARM GAS  C:\Users\Student\AppData\Local\Temp\ccY4weUp.s 			page 45


1480:Middlewares/Third_Party/LwIP/src/core/tcp.c ****     tcp_abort(inactive);
1481:Middlewares/Third_Party/LwIP/src/core/tcp.c ****   }
1482:Middlewares/Third_Party/LwIP/src/core/tcp.c **** }
1483:Middlewares/Third_Party/LwIP/src/core/tcp.c **** 
1484:Middlewares/Third_Party/LwIP/src/core/tcp.c **** /**
1485:Middlewares/Third_Party/LwIP/src/core/tcp.c ****  * Allocate a new tcp_pcb structure.
1486:Middlewares/Third_Party/LwIP/src/core/tcp.c ****  *
1487:Middlewares/Third_Party/LwIP/src/core/tcp.c ****  * @param prio priority for the new pcb
1488:Middlewares/Third_Party/LwIP/src/core/tcp.c ****  * @return a new tcp_pcb that initially is in state CLOSED
1489:Middlewares/Third_Party/LwIP/src/core/tcp.c ****  */
1490:Middlewares/Third_Party/LwIP/src/core/tcp.c **** struct tcp_pcb *
1491:Middlewares/Third_Party/LwIP/src/core/tcp.c **** tcp_alloc(u8_t prio)
1492:Middlewares/Third_Party/LwIP/src/core/tcp.c **** {
1493:Middlewares/Third_Party/LwIP/src/core/tcp.c ****   struct tcp_pcb *pcb;
1494:Middlewares/Third_Party/LwIP/src/core/tcp.c ****   u32_t iss;
1495:Middlewares/Third_Party/LwIP/src/core/tcp.c **** 
1496:Middlewares/Third_Party/LwIP/src/core/tcp.c ****   pcb = (struct tcp_pcb *)memp_malloc(MEMP_TCP_PCB);
1497:Middlewares/Third_Party/LwIP/src/core/tcp.c ****   if (pcb == NULL) {
1498:Middlewares/Third_Party/LwIP/src/core/tcp.c ****     /* Try killing oldest connection in TIME-WAIT. */
1499:Middlewares/Third_Party/LwIP/src/core/tcp.c ****     LWIP_DEBUGF(TCP_DEBUG, ("tcp_alloc: killing off oldest TIME-WAIT connection\n"));
1500:Middlewares/Third_Party/LwIP/src/core/tcp.c ****     tcp_kill_timewait();
1501:Middlewares/Third_Party/LwIP/src/core/tcp.c ****     /* Try to allocate a tcp_pcb again. */
1502:Middlewares/Third_Party/LwIP/src/core/tcp.c ****     pcb = (struct tcp_pcb *)memp_malloc(MEMP_TCP_PCB);
1503:Middlewares/Third_Party/LwIP/src/core/tcp.c ****     if (pcb == NULL) {
1504:Middlewares/Third_Party/LwIP/src/core/tcp.c ****       /* Try killing oldest connection in LAST-ACK (these wouldn't go to TIME-WAIT). */
1505:Middlewares/Third_Party/LwIP/src/core/tcp.c ****       LWIP_DEBUGF(TCP_DEBUG, ("tcp_alloc: killing off oldest LAST-ACK connection\n"));
1506:Middlewares/Third_Party/LwIP/src/core/tcp.c ****       tcp_kill_state(LAST_ACK);
1507:Middlewares/Third_Party/LwIP/src/core/tcp.c ****       /* Try to allocate a tcp_pcb again. */
1508:Middlewares/Third_Party/LwIP/src/core/tcp.c ****       pcb = (struct tcp_pcb *)memp_malloc(MEMP_TCP_PCB);
1509:Middlewares/Third_Party/LwIP/src/core/tcp.c ****       if (pcb == NULL) {
1510:Middlewares/Third_Party/LwIP/src/core/tcp.c ****         /* Try killing oldest connection in CLOSING. */
1511:Middlewares/Third_Party/LwIP/src/core/tcp.c ****         LWIP_DEBUGF(TCP_DEBUG, ("tcp_alloc: killing off oldest CLOSING connection\n"));
1512:Middlewares/Third_Party/LwIP/src/core/tcp.c ****         tcp_kill_state(CLOSING);
1513:Middlewares/Third_Party/LwIP/src/core/tcp.c ****         /* Try to allocate a tcp_pcb again. */
1514:Middlewares/Third_Party/LwIP/src/core/tcp.c ****         pcb = (struct tcp_pcb *)memp_malloc(MEMP_TCP_PCB);
1515:Middlewares/Third_Party/LwIP/src/core/tcp.c ****         if (pcb == NULL) {
1516:Middlewares/Third_Party/LwIP/src/core/tcp.c ****           /* Try killing active connections with lower priority than the new one. */
1517:Middlewares/Third_Party/LwIP/src/core/tcp.c ****           LWIP_DEBUGF(TCP_DEBUG, ("tcp_alloc: killing connection with prio lower than %d\n", prio))
1518:Middlewares/Third_Party/LwIP/src/core/tcp.c ****           tcp_kill_prio(prio);
1519:Middlewares/Third_Party/LwIP/src/core/tcp.c ****           /* Try to allocate a tcp_pcb again. */
1520:Middlewares/Third_Party/LwIP/src/core/tcp.c ****           pcb = (struct tcp_pcb *)memp_malloc(MEMP_TCP_PCB);
1521:Middlewares/Third_Party/LwIP/src/core/tcp.c ****           if (pcb != NULL) {
1522:Middlewares/Third_Party/LwIP/src/core/tcp.c ****             /* adjust err stats: memp_malloc failed multiple times before */
1523:Middlewares/Third_Party/LwIP/src/core/tcp.c ****             MEMP_STATS_DEC(err, MEMP_TCP_PCB);
1524:Middlewares/Third_Party/LwIP/src/core/tcp.c ****           }
1525:Middlewares/Third_Party/LwIP/src/core/tcp.c ****         }
1526:Middlewares/Third_Party/LwIP/src/core/tcp.c ****         if (pcb != NULL) {
1527:Middlewares/Third_Party/LwIP/src/core/tcp.c ****           /* adjust err stats: memp_malloc failed multiple times before */
1528:Middlewares/Third_Party/LwIP/src/core/tcp.c ****           MEMP_STATS_DEC(err, MEMP_TCP_PCB);
1529:Middlewares/Third_Party/LwIP/src/core/tcp.c ****         }
1530:Middlewares/Third_Party/LwIP/src/core/tcp.c ****       }
1531:Middlewares/Third_Party/LwIP/src/core/tcp.c ****       if (pcb != NULL) {
1532:Middlewares/Third_Party/LwIP/src/core/tcp.c ****         /* adjust err stats: memp_malloc failed multiple times before */
1533:Middlewares/Third_Party/LwIP/src/core/tcp.c ****         MEMP_STATS_DEC(err, MEMP_TCP_PCB);
1534:Middlewares/Third_Party/LwIP/src/core/tcp.c ****       }
1535:Middlewares/Third_Party/LwIP/src/core/tcp.c ****     }
1536:Middlewares/Third_Party/LwIP/src/core/tcp.c ****     if (pcb != NULL) {
ARM GAS  C:\Users\Student\AppData\Local\Temp\ccY4weUp.s 			page 46


1537:Middlewares/Third_Party/LwIP/src/core/tcp.c ****       /* adjust err stats: memp_malloc failed above */
1538:Middlewares/Third_Party/LwIP/src/core/tcp.c ****       MEMP_STATS_DEC(err, MEMP_TCP_PCB);
1539:Middlewares/Third_Party/LwIP/src/core/tcp.c ****     }
1540:Middlewares/Third_Party/LwIP/src/core/tcp.c ****   }
1541:Middlewares/Third_Party/LwIP/src/core/tcp.c ****   if (pcb != NULL) {
1542:Middlewares/Third_Party/LwIP/src/core/tcp.c ****     /* zero out the whole pcb, so there is no need to initialize members to zero */
1543:Middlewares/Third_Party/LwIP/src/core/tcp.c ****     memset(pcb, 0, sizeof(struct tcp_pcb));
1544:Middlewares/Third_Party/LwIP/src/core/tcp.c ****     pcb->prio = prio;
1545:Middlewares/Third_Party/LwIP/src/core/tcp.c ****     pcb->snd_buf = TCP_SND_BUF;
1546:Middlewares/Third_Party/LwIP/src/core/tcp.c ****     /* Start with a window that does not need scaling. When window scaling is
1547:Middlewares/Third_Party/LwIP/src/core/tcp.c ****        enabled and used, the window is enlarged when both sides agree on scaling. */
1548:Middlewares/Third_Party/LwIP/src/core/tcp.c ****     pcb->rcv_wnd = pcb->rcv_ann_wnd = TCPWND_MIN16(TCP_WND);
1549:Middlewares/Third_Party/LwIP/src/core/tcp.c ****     pcb->ttl = TCP_TTL;
1550:Middlewares/Third_Party/LwIP/src/core/tcp.c ****     /* As initial send MSS, we use TCP_MSS but limit it to 536.
1551:Middlewares/Third_Party/LwIP/src/core/tcp.c ****        The send MSS is updated when an MSS option is received. */
1552:Middlewares/Third_Party/LwIP/src/core/tcp.c ****     pcb->mss = INITIAL_MSS;
1553:Middlewares/Third_Party/LwIP/src/core/tcp.c ****     pcb->rto = 3000 / TCP_SLOW_INTERVAL;
1554:Middlewares/Third_Party/LwIP/src/core/tcp.c ****     pcb->sv = 3000 / TCP_SLOW_INTERVAL;
1555:Middlewares/Third_Party/LwIP/src/core/tcp.c ****     pcb->rtime = -1;
1556:Middlewares/Third_Party/LwIP/src/core/tcp.c ****     pcb->cwnd = 1;
1557:Middlewares/Third_Party/LwIP/src/core/tcp.c ****     iss = tcp_next_iss();
1558:Middlewares/Third_Party/LwIP/src/core/tcp.c ****     pcb->snd_wl2 = iss;
1559:Middlewares/Third_Party/LwIP/src/core/tcp.c ****     pcb->snd_nxt = iss;
1560:Middlewares/Third_Party/LwIP/src/core/tcp.c ****     pcb->lastack = iss;
1561:Middlewares/Third_Party/LwIP/src/core/tcp.c ****     pcb->snd_lbb = iss;
1562:Middlewares/Third_Party/LwIP/src/core/tcp.c ****     pcb->tmr = tcp_ticks;
1563:Middlewares/Third_Party/LwIP/src/core/tcp.c ****     pcb->last_timer = tcp_timer_ctr;
1564:Middlewares/Third_Party/LwIP/src/core/tcp.c **** 
1565:Middlewares/Third_Party/LwIP/src/core/tcp.c **** #if LWIP_CALLBACK_API
1566:Middlewares/Third_Party/LwIP/src/core/tcp.c ****     pcb->recv = tcp_recv_null;
1567:Middlewares/Third_Party/LwIP/src/core/tcp.c **** #endif /* LWIP_CALLBACK_API */
1568:Middlewares/Third_Party/LwIP/src/core/tcp.c **** 
1569:Middlewares/Third_Party/LwIP/src/core/tcp.c ****     /* Init KEEPALIVE timer */
1570:Middlewares/Third_Party/LwIP/src/core/tcp.c ****     pcb->keep_idle  = TCP_KEEPIDLE_DEFAULT;
1571:Middlewares/Third_Party/LwIP/src/core/tcp.c **** 
1572:Middlewares/Third_Party/LwIP/src/core/tcp.c **** #if LWIP_TCP_KEEPALIVE
1573:Middlewares/Third_Party/LwIP/src/core/tcp.c ****     pcb->keep_intvl = TCP_KEEPINTVL_DEFAULT;
1574:Middlewares/Third_Party/LwIP/src/core/tcp.c ****     pcb->keep_cnt   = TCP_KEEPCNT_DEFAULT;
1575:Middlewares/Third_Party/LwIP/src/core/tcp.c **** #endif /* LWIP_TCP_KEEPALIVE */
1576:Middlewares/Third_Party/LwIP/src/core/tcp.c ****   }
1577:Middlewares/Third_Party/LwIP/src/core/tcp.c ****   return pcb;
1578:Middlewares/Third_Party/LwIP/src/core/tcp.c **** }
1579:Middlewares/Third_Party/LwIP/src/core/tcp.c **** 
1580:Middlewares/Third_Party/LwIP/src/core/tcp.c **** /**
1581:Middlewares/Third_Party/LwIP/src/core/tcp.c ****  * @ingroup tcp_raw
1582:Middlewares/Third_Party/LwIP/src/core/tcp.c ****  * Creates a new TCP protocol control block but doesn't place it on
1583:Middlewares/Third_Party/LwIP/src/core/tcp.c ****  * any of the TCP PCB lists.
1584:Middlewares/Third_Party/LwIP/src/core/tcp.c ****  * The pcb is not put on any list until binding using tcp_bind().
1585:Middlewares/Third_Party/LwIP/src/core/tcp.c ****  *
1586:Middlewares/Third_Party/LwIP/src/core/tcp.c ****  * @internal: Maybe there should be a idle TCP PCB list where these
1587:Middlewares/Third_Party/LwIP/src/core/tcp.c ****  * PCBs are put on. Port reservation using tcp_bind() is implemented but
1588:Middlewares/Third_Party/LwIP/src/core/tcp.c ****  * allocated pcbs that are not bound can't be killed automatically if wanting
1589:Middlewares/Third_Party/LwIP/src/core/tcp.c ****  * to allocate a pcb with higher prio (@see tcp_kill_prio())
1590:Middlewares/Third_Party/LwIP/src/core/tcp.c ****  *
1591:Middlewares/Third_Party/LwIP/src/core/tcp.c ****  * @return a new tcp_pcb that initially is in state CLOSED
1592:Middlewares/Third_Party/LwIP/src/core/tcp.c ****  */
1593:Middlewares/Third_Party/LwIP/src/core/tcp.c **** struct tcp_pcb *
ARM GAS  C:\Users\Student\AppData\Local\Temp\ccY4weUp.s 			page 47


1594:Middlewares/Third_Party/LwIP/src/core/tcp.c **** tcp_new(void)
1595:Middlewares/Third_Party/LwIP/src/core/tcp.c **** {
1596:Middlewares/Third_Party/LwIP/src/core/tcp.c ****   return tcp_alloc(TCP_PRIO_NORMAL);
1597:Middlewares/Third_Party/LwIP/src/core/tcp.c **** }
1598:Middlewares/Third_Party/LwIP/src/core/tcp.c **** 
1599:Middlewares/Third_Party/LwIP/src/core/tcp.c **** /**
1600:Middlewares/Third_Party/LwIP/src/core/tcp.c ****  * @ingroup tcp_raw
1601:Middlewares/Third_Party/LwIP/src/core/tcp.c ****  * Creates a new TCP protocol control block but doesn't
1602:Middlewares/Third_Party/LwIP/src/core/tcp.c ****  * place it on any of the TCP PCB lists.
1603:Middlewares/Third_Party/LwIP/src/core/tcp.c ****  * The pcb is not put on any list until binding using tcp_bind().
1604:Middlewares/Third_Party/LwIP/src/core/tcp.c ****  *
1605:Middlewares/Third_Party/LwIP/src/core/tcp.c ****  * @param type IP address type, see @ref lwip_ip_addr_type definitions.
1606:Middlewares/Third_Party/LwIP/src/core/tcp.c ****  * If you want to listen to IPv4 and IPv6 (dual-stack) connections,
1607:Middlewares/Third_Party/LwIP/src/core/tcp.c ****  * supply @ref IPADDR_TYPE_ANY as argument and bind to @ref IP_ANY_TYPE.
1608:Middlewares/Third_Party/LwIP/src/core/tcp.c ****  * @return a new tcp_pcb that initially is in state CLOSED
1609:Middlewares/Third_Party/LwIP/src/core/tcp.c ****  */
1610:Middlewares/Third_Party/LwIP/src/core/tcp.c **** struct tcp_pcb *
1611:Middlewares/Third_Party/LwIP/src/core/tcp.c **** tcp_new_ip_type(u8_t type)
1612:Middlewares/Third_Party/LwIP/src/core/tcp.c **** {
1613:Middlewares/Third_Party/LwIP/src/core/tcp.c ****   struct tcp_pcb * pcb;
1614:Middlewares/Third_Party/LwIP/src/core/tcp.c ****   pcb = tcp_alloc(TCP_PRIO_NORMAL);
1615:Middlewares/Third_Party/LwIP/src/core/tcp.c **** #if LWIP_IPV4 && LWIP_IPV6
1616:Middlewares/Third_Party/LwIP/src/core/tcp.c ****   if (pcb != NULL) {
1617:Middlewares/Third_Party/LwIP/src/core/tcp.c ****     IP_SET_TYPE_VAL(pcb->local_ip, type);
1618:Middlewares/Third_Party/LwIP/src/core/tcp.c ****     IP_SET_TYPE_VAL(pcb->remote_ip, type);
1619:Middlewares/Third_Party/LwIP/src/core/tcp.c ****   }
1620:Middlewares/Third_Party/LwIP/src/core/tcp.c **** #else
1621:Middlewares/Third_Party/LwIP/src/core/tcp.c ****   LWIP_UNUSED_ARG(type);
1622:Middlewares/Third_Party/LwIP/src/core/tcp.c **** #endif /* LWIP_IPV4 && LWIP_IPV6 */
1623:Middlewares/Third_Party/LwIP/src/core/tcp.c ****   return pcb;
1624:Middlewares/Third_Party/LwIP/src/core/tcp.c **** }
1625:Middlewares/Third_Party/LwIP/src/core/tcp.c **** 
1626:Middlewares/Third_Party/LwIP/src/core/tcp.c **** /**
1627:Middlewares/Third_Party/LwIP/src/core/tcp.c ****  * @ingroup tcp_raw
1628:Middlewares/Third_Party/LwIP/src/core/tcp.c ****  * Used to specify the argument that should be passed callback
1629:Middlewares/Third_Party/LwIP/src/core/tcp.c ****  * functions.
1630:Middlewares/Third_Party/LwIP/src/core/tcp.c ****  *
1631:Middlewares/Third_Party/LwIP/src/core/tcp.c ****  * @param pcb tcp_pcb to set the callback argument
1632:Middlewares/Third_Party/LwIP/src/core/tcp.c ****  * @param arg void pointer argument to pass to callback functions
1633:Middlewares/Third_Party/LwIP/src/core/tcp.c ****  */
1634:Middlewares/Third_Party/LwIP/src/core/tcp.c **** void
1635:Middlewares/Third_Party/LwIP/src/core/tcp.c **** tcp_arg(struct tcp_pcb *pcb, void *arg)
1636:Middlewares/Third_Party/LwIP/src/core/tcp.c **** {
 950              		.loc 1 1636 0
 951              		.cfi_startproc
 952              		@ args = 0, pretend = 0, frame = 0
 953              		@ frame_needed = 0, uses_anonymous_args = 0
 954              		@ link register save eliminated.
 955              	.LVL104:
1637:Middlewares/Third_Party/LwIP/src/core/tcp.c ****   /* This function is allowed to be called for both listen pcbs and
1638:Middlewares/Third_Party/LwIP/src/core/tcp.c ****      connection pcbs. */
1639:Middlewares/Third_Party/LwIP/src/core/tcp.c ****   if (pcb != NULL) {
 956              		.loc 1 1639 0
 957 0000 00B1     		cbz	r0, .L112
1640:Middlewares/Third_Party/LwIP/src/core/tcp.c ****     pcb->callback_arg = arg;
 958              		.loc 1 1640 0
 959 0002 0161     		str	r1, [r0, #16]
ARM GAS  C:\Users\Student\AppData\Local\Temp\ccY4weUp.s 			page 48


 960              	.L112:
 961 0004 7047     		bx	lr
 962              		.cfi_endproc
 963              	.LFE167:
 965              		.section	.text.tcp_recv,"ax",%progbits
 966              		.align	1
 967              		.global	tcp_recv
 968              		.syntax unified
 969              		.thumb
 970              		.thumb_func
 971              		.fpu fpv5-sp-d16
 973              	tcp_recv:
 974              	.LFB168:
1641:Middlewares/Third_Party/LwIP/src/core/tcp.c ****   }
1642:Middlewares/Third_Party/LwIP/src/core/tcp.c **** }
1643:Middlewares/Third_Party/LwIP/src/core/tcp.c **** #if LWIP_CALLBACK_API
1644:Middlewares/Third_Party/LwIP/src/core/tcp.c **** 
1645:Middlewares/Third_Party/LwIP/src/core/tcp.c **** /**
1646:Middlewares/Third_Party/LwIP/src/core/tcp.c ****  * @ingroup tcp_raw
1647:Middlewares/Third_Party/LwIP/src/core/tcp.c ****  * Used to specify the function that should be called when a TCP
1648:Middlewares/Third_Party/LwIP/src/core/tcp.c ****  * connection receives data.
1649:Middlewares/Third_Party/LwIP/src/core/tcp.c ****  *
1650:Middlewares/Third_Party/LwIP/src/core/tcp.c ****  * @param pcb tcp_pcb to set the recv callback
1651:Middlewares/Third_Party/LwIP/src/core/tcp.c ****  * @param recv callback function to call for this pcb when data is received
1652:Middlewares/Third_Party/LwIP/src/core/tcp.c ****  */
1653:Middlewares/Third_Party/LwIP/src/core/tcp.c **** void
1654:Middlewares/Third_Party/LwIP/src/core/tcp.c **** tcp_recv(struct tcp_pcb *pcb, tcp_recv_fn recv)
1655:Middlewares/Third_Party/LwIP/src/core/tcp.c **** {
 975              		.loc 1 1655 0
 976              		.cfi_startproc
 977              		@ args = 0, pretend = 0, frame = 0
 978              		@ frame_needed = 0, uses_anonymous_args = 0
 979              		@ link register save eliminated.
 980              	.LVL105:
1656:Middlewares/Third_Party/LwIP/src/core/tcp.c ****   if (pcb != NULL) {
 981              		.loc 1 1656 0
 982 0000 08B1     		cbz	r0, .L114
1657:Middlewares/Third_Party/LwIP/src/core/tcp.c ****     LWIP_ASSERT("invalid socket state for recv callback", pcb->state != LISTEN);
1658:Middlewares/Third_Party/LwIP/src/core/tcp.c ****     pcb->recv = recv;
 983              		.loc 1 1658 0
 984 0002 C0F88010 		str	r1, [r0, #128]
 985              	.L114:
 986 0006 7047     		bx	lr
 987              		.cfi_endproc
 988              	.LFE168:
 990              		.section	.text.tcp_sent,"ax",%progbits
 991              		.align	1
 992              		.global	tcp_sent
 993              		.syntax unified
 994              		.thumb
 995              		.thumb_func
 996              		.fpu fpv5-sp-d16
 998              	tcp_sent:
 999              	.LFB169:
1659:Middlewares/Third_Party/LwIP/src/core/tcp.c ****   }
1660:Middlewares/Third_Party/LwIP/src/core/tcp.c **** }
1661:Middlewares/Third_Party/LwIP/src/core/tcp.c **** 
ARM GAS  C:\Users\Student\AppData\Local\Temp\ccY4weUp.s 			page 49


1662:Middlewares/Third_Party/LwIP/src/core/tcp.c **** /**
1663:Middlewares/Third_Party/LwIP/src/core/tcp.c ****  * @ingroup tcp_raw
1664:Middlewares/Third_Party/LwIP/src/core/tcp.c ****  * Used to specify the function that should be called when TCP data
1665:Middlewares/Third_Party/LwIP/src/core/tcp.c ****  * has been successfully delivered to the remote host.
1666:Middlewares/Third_Party/LwIP/src/core/tcp.c ****  *
1667:Middlewares/Third_Party/LwIP/src/core/tcp.c ****  * @param pcb tcp_pcb to set the sent callback
1668:Middlewares/Third_Party/LwIP/src/core/tcp.c ****  * @param sent callback function to call for this pcb when data is successfully sent
1669:Middlewares/Third_Party/LwIP/src/core/tcp.c ****  */
1670:Middlewares/Third_Party/LwIP/src/core/tcp.c **** void
1671:Middlewares/Third_Party/LwIP/src/core/tcp.c **** tcp_sent(struct tcp_pcb *pcb, tcp_sent_fn sent)
1672:Middlewares/Third_Party/LwIP/src/core/tcp.c **** {
 1000              		.loc 1 1672 0
 1001              		.cfi_startproc
 1002              		@ args = 0, pretend = 0, frame = 0
 1003              		@ frame_needed = 0, uses_anonymous_args = 0
 1004              		@ link register save eliminated.
 1005              	.LVL106:
1673:Middlewares/Third_Party/LwIP/src/core/tcp.c ****   if (pcb != NULL) {
 1006              		.loc 1 1673 0
 1007 0000 00B1     		cbz	r0, .L116
1674:Middlewares/Third_Party/LwIP/src/core/tcp.c ****     LWIP_ASSERT("invalid socket state for sent callback", pcb->state != LISTEN);
1675:Middlewares/Third_Party/LwIP/src/core/tcp.c ****     pcb->sent = sent;
 1008              		.loc 1 1675 0
 1009 0002 C167     		str	r1, [r0, #124]
 1010              	.L116:
 1011 0004 7047     		bx	lr
 1012              		.cfi_endproc
 1013              	.LFE169:
 1015              		.section	.text.tcp_err,"ax",%progbits
 1016              		.align	1
 1017              		.global	tcp_err
 1018              		.syntax unified
 1019              		.thumb
 1020              		.thumb_func
 1021              		.fpu fpv5-sp-d16
 1023              	tcp_err:
 1024              	.LFB170:
1676:Middlewares/Third_Party/LwIP/src/core/tcp.c ****   }
1677:Middlewares/Third_Party/LwIP/src/core/tcp.c **** }
1678:Middlewares/Third_Party/LwIP/src/core/tcp.c **** 
1679:Middlewares/Third_Party/LwIP/src/core/tcp.c **** /**
1680:Middlewares/Third_Party/LwIP/src/core/tcp.c ****  * @ingroup tcp_raw
1681:Middlewares/Third_Party/LwIP/src/core/tcp.c ****  * Used to specify the function that should be called when a fatal error
1682:Middlewares/Third_Party/LwIP/src/core/tcp.c ****  * has occurred on the connection.
1683:Middlewares/Third_Party/LwIP/src/core/tcp.c ****  *
1684:Middlewares/Third_Party/LwIP/src/core/tcp.c ****  * @note The corresponding pcb is already freed when this callback is called!
1685:Middlewares/Third_Party/LwIP/src/core/tcp.c ****  * 
1686:Middlewares/Third_Party/LwIP/src/core/tcp.c ****  * @param pcb tcp_pcb to set the err callback
1687:Middlewares/Third_Party/LwIP/src/core/tcp.c ****  * @param err callback function to call for this pcb when a fatal error
1688:Middlewares/Third_Party/LwIP/src/core/tcp.c ****  *        has occurred on the connection
1689:Middlewares/Third_Party/LwIP/src/core/tcp.c ****  */
1690:Middlewares/Third_Party/LwIP/src/core/tcp.c **** void
1691:Middlewares/Third_Party/LwIP/src/core/tcp.c **** tcp_err(struct tcp_pcb *pcb, tcp_err_fn err)
1692:Middlewares/Third_Party/LwIP/src/core/tcp.c **** {
 1025              		.loc 1 1692 0
 1026              		.cfi_startproc
 1027              		@ args = 0, pretend = 0, frame = 0
ARM GAS  C:\Users\Student\AppData\Local\Temp\ccY4weUp.s 			page 50


 1028              		@ frame_needed = 0, uses_anonymous_args = 0
 1029              		@ link register save eliminated.
 1030              	.LVL107:
1693:Middlewares/Third_Party/LwIP/src/core/tcp.c ****   if (pcb != NULL) {
 1031              		.loc 1 1693 0
 1032 0000 08B1     		cbz	r0, .L118
1694:Middlewares/Third_Party/LwIP/src/core/tcp.c ****     LWIP_ASSERT("invalid socket state for err callback", pcb->state != LISTEN);
1695:Middlewares/Third_Party/LwIP/src/core/tcp.c ****     pcb->errf = err;
 1033              		.loc 1 1695 0
 1034 0002 C0F88C10 		str	r1, [r0, #140]
 1035              	.L118:
 1036 0006 7047     		bx	lr
 1037              		.cfi_endproc
 1038              	.LFE170:
 1040              		.section	.text.tcp_accept,"ax",%progbits
 1041              		.align	1
 1042              		.global	tcp_accept
 1043              		.syntax unified
 1044              		.thumb
 1045              		.thumb_func
 1046              		.fpu fpv5-sp-d16
 1048              	tcp_accept:
 1049              	.LFB171:
1696:Middlewares/Third_Party/LwIP/src/core/tcp.c ****   }
1697:Middlewares/Third_Party/LwIP/src/core/tcp.c **** }
1698:Middlewares/Third_Party/LwIP/src/core/tcp.c **** 
1699:Middlewares/Third_Party/LwIP/src/core/tcp.c **** /**
1700:Middlewares/Third_Party/LwIP/src/core/tcp.c ****  * @ingroup tcp_raw
1701:Middlewares/Third_Party/LwIP/src/core/tcp.c ****  * Used for specifying the function that should be called when a
1702:Middlewares/Third_Party/LwIP/src/core/tcp.c ****  * LISTENing connection has been connected to another host.
1703:Middlewares/Third_Party/LwIP/src/core/tcp.c ****  *
1704:Middlewares/Third_Party/LwIP/src/core/tcp.c ****  * @param pcb tcp_pcb to set the accept callback
1705:Middlewares/Third_Party/LwIP/src/core/tcp.c ****  * @param accept callback function to call for this pcb when LISTENing
1706:Middlewares/Third_Party/LwIP/src/core/tcp.c ****  *        connection has been connected to another host
1707:Middlewares/Third_Party/LwIP/src/core/tcp.c ****  */
1708:Middlewares/Third_Party/LwIP/src/core/tcp.c **** void
1709:Middlewares/Third_Party/LwIP/src/core/tcp.c **** tcp_accept(struct tcp_pcb *pcb, tcp_accept_fn accept)
1710:Middlewares/Third_Party/LwIP/src/core/tcp.c **** {
 1050              		.loc 1 1710 0
 1051              		.cfi_startproc
 1052              		@ args = 0, pretend = 0, frame = 0
 1053              		@ frame_needed = 0, uses_anonymous_args = 0
 1054              		@ link register save eliminated.
 1055              	.LVL108:
1711:Middlewares/Third_Party/LwIP/src/core/tcp.c ****   if ((pcb != NULL) && (pcb->state == LISTEN)) {
 1056              		.loc 1 1711 0
 1057 0000 10B1     		cbz	r0, .L120
 1058              		.loc 1 1711 0 is_stmt 0 discriminator 1
 1059 0002 027D     		ldrb	r2, [r0, #20]	@ zero_extendqisi2
 1060 0004 012A     		cmp	r2, #1
 1061 0006 00D0     		beq	.L122
 1062              	.L120:
 1063 0008 7047     		bx	lr
 1064              	.L122:
 1065              	.LVL109:
 1066              	.LBB6:
1712:Middlewares/Third_Party/LwIP/src/core/tcp.c ****     struct tcp_pcb_listen *lpcb = (struct tcp_pcb_listen*)pcb;
ARM GAS  C:\Users\Student\AppData\Local\Temp\ccY4weUp.s 			page 51


1713:Middlewares/Third_Party/LwIP/src/core/tcp.c ****     lpcb->accept = accept;
 1067              		.loc 1 1713 0 is_stmt 1
 1068 000a 8161     		str	r1, [r0, #24]
 1069              	.LBE6:
1714:Middlewares/Third_Party/LwIP/src/core/tcp.c ****   }
1715:Middlewares/Third_Party/LwIP/src/core/tcp.c **** }
 1070              		.loc 1 1715 0
 1071 000c FCE7     		b	.L120
 1072              		.cfi_endproc
 1073              	.LFE171:
 1075              		.section	.text.tcp_poll,"ax",%progbits
 1076              		.align	1
 1077              		.global	tcp_poll
 1078              		.syntax unified
 1079              		.thumb
 1080              		.thumb_func
 1081              		.fpu fpv5-sp-d16
 1083              	tcp_poll:
 1084              	.LFB172:
1716:Middlewares/Third_Party/LwIP/src/core/tcp.c **** #endif /* LWIP_CALLBACK_API */
1717:Middlewares/Third_Party/LwIP/src/core/tcp.c **** 
1718:Middlewares/Third_Party/LwIP/src/core/tcp.c **** 
1719:Middlewares/Third_Party/LwIP/src/core/tcp.c **** /**
1720:Middlewares/Third_Party/LwIP/src/core/tcp.c ****  * @ingroup tcp_raw
1721:Middlewares/Third_Party/LwIP/src/core/tcp.c ****  * Used to specify the function that should be called periodically
1722:Middlewares/Third_Party/LwIP/src/core/tcp.c ****  * from TCP. The interval is specified in terms of the TCP coarse
1723:Middlewares/Third_Party/LwIP/src/core/tcp.c ****  * timer interval, which is called twice a second.
1724:Middlewares/Third_Party/LwIP/src/core/tcp.c ****  *
1725:Middlewares/Third_Party/LwIP/src/core/tcp.c ****  */
1726:Middlewares/Third_Party/LwIP/src/core/tcp.c **** void
1727:Middlewares/Third_Party/LwIP/src/core/tcp.c **** tcp_poll(struct tcp_pcb *pcb, tcp_poll_fn poll, u8_t interval)
1728:Middlewares/Third_Party/LwIP/src/core/tcp.c **** {
 1085              		.loc 1 1728 0
 1086              		.cfi_startproc
 1087              		@ args = 0, pretend = 0, frame = 0
 1088              		@ frame_needed = 0, uses_anonymous_args = 0
 1089              		@ link register save eliminated.
 1090              	.LVL110:
1729:Middlewares/Third_Party/LwIP/src/core/tcp.c ****   LWIP_ASSERT("invalid socket state for poll", pcb->state != LISTEN);
1730:Middlewares/Third_Party/LwIP/src/core/tcp.c **** #if LWIP_CALLBACK_API
1731:Middlewares/Third_Party/LwIP/src/core/tcp.c ****   pcb->poll = poll;
 1091              		.loc 1 1731 0
 1092 0000 C0F88810 		str	r1, [r0, #136]
1732:Middlewares/Third_Party/LwIP/src/core/tcp.c **** #else /* LWIP_CALLBACK_API */
1733:Middlewares/Third_Party/LwIP/src/core/tcp.c ****   LWIP_UNUSED_ARG(poll);
1734:Middlewares/Third_Party/LwIP/src/core/tcp.c **** #endif /* LWIP_CALLBACK_API */
1735:Middlewares/Third_Party/LwIP/src/core/tcp.c ****   pcb->pollinterval = interval;
 1093              		.loc 1 1735 0
 1094 0004 0277     		strb	r2, [r0, #28]
 1095 0006 7047     		bx	lr
 1096              		.cfi_endproc
 1097              	.LFE172:
 1099              		.section	.text.tcp_pcb_purge,"ax",%progbits
 1100              		.align	1
 1101              		.global	tcp_pcb_purge
 1102              		.syntax unified
 1103              		.thumb
ARM GAS  C:\Users\Student\AppData\Local\Temp\ccY4weUp.s 			page 52


 1104              		.thumb_func
 1105              		.fpu fpv5-sp-d16
 1107              	tcp_pcb_purge:
 1108              	.LFB173:
1736:Middlewares/Third_Party/LwIP/src/core/tcp.c **** }
1737:Middlewares/Third_Party/LwIP/src/core/tcp.c **** 
1738:Middlewares/Third_Party/LwIP/src/core/tcp.c **** /**
1739:Middlewares/Third_Party/LwIP/src/core/tcp.c ****  * Purges a TCP PCB. Removes any buffered data and frees the buffer memory
1740:Middlewares/Third_Party/LwIP/src/core/tcp.c ****  * (pcb->ooseq, pcb->unsent and pcb->unacked are freed).
1741:Middlewares/Third_Party/LwIP/src/core/tcp.c ****  *
1742:Middlewares/Third_Party/LwIP/src/core/tcp.c ****  * @param pcb tcp_pcb to purge. The pcb itself is not deallocated!
1743:Middlewares/Third_Party/LwIP/src/core/tcp.c ****  */
1744:Middlewares/Third_Party/LwIP/src/core/tcp.c **** void
1745:Middlewares/Third_Party/LwIP/src/core/tcp.c **** tcp_pcb_purge(struct tcp_pcb *pcb)
1746:Middlewares/Third_Party/LwIP/src/core/tcp.c **** {
 1109              		.loc 1 1746 0
 1110              		.cfi_startproc
 1111              		@ args = 0, pretend = 0, frame = 0
 1112              		@ frame_needed = 0, uses_anonymous_args = 0
 1113              	.LVL111:
 1114 0000 38B5     		push	{r3, r4, r5, lr}
 1115              	.LCFI16:
 1116              		.cfi_def_cfa_offset 16
 1117              		.cfi_offset 3, -16
 1118              		.cfi_offset 4, -12
 1119              		.cfi_offset 5, -8
 1120              		.cfi_offset 14, -4
1747:Middlewares/Third_Party/LwIP/src/core/tcp.c ****   if (pcb->state != CLOSED &&
 1121              		.loc 1 1747 0
 1122 0002 037D     		ldrb	r3, [r0, #20]	@ zero_extendqisi2
 1123 0004 002B     		cmp	r3, #0
 1124 0006 18BF     		it	ne
 1125 0008 0A2B     		cmpne	r3, #10
 1126 000a 1AD0     		beq	.L124
1748:Middlewares/Third_Party/LwIP/src/core/tcp.c ****      pcb->state != TIME_WAIT &&
 1127              		.loc 1 1748 0
 1128 000c 012B     		cmp	r3, #1
 1129 000e 18D0     		beq	.L124
 1130 0010 0446     		mov	r4, r0
1749:Middlewares/Third_Party/LwIP/src/core/tcp.c ****      pcb->state != LISTEN) {
1750:Middlewares/Third_Party/LwIP/src/core/tcp.c **** 
1751:Middlewares/Third_Party/LwIP/src/core/tcp.c ****     LWIP_DEBUGF(TCP_DEBUG, ("tcp_pcb_purge\n"));
1752:Middlewares/Third_Party/LwIP/src/core/tcp.c **** 
1753:Middlewares/Third_Party/LwIP/src/core/tcp.c ****     tcp_backlog_accepted(pcb);
1754:Middlewares/Third_Party/LwIP/src/core/tcp.c **** 
1755:Middlewares/Third_Party/LwIP/src/core/tcp.c ****     if (pcb->refused_data != NULL) {
 1131              		.loc 1 1755 0
 1132 0012 406F     		ldr	r0, [r0, #116]
 1133              	.LVL112:
 1134 0014 18B1     		cbz	r0, .L126
1756:Middlewares/Third_Party/LwIP/src/core/tcp.c ****       LWIP_DEBUGF(TCP_DEBUG, ("tcp_pcb_purge: data left on ->refused_data\n"));
1757:Middlewares/Third_Party/LwIP/src/core/tcp.c ****       pbuf_free(pcb->refused_data);
 1135              		.loc 1 1757 0
 1136 0016 FFF7FEFF 		bl	pbuf_free
 1137              	.LVL113:
1758:Middlewares/Third_Party/LwIP/src/core/tcp.c ****       pcb->refused_data = NULL;
 1138              		.loc 1 1758 0
ARM GAS  C:\Users\Student\AppData\Local\Temp\ccY4weUp.s 			page 53


 1139 001a 0023     		movs	r3, #0
 1140 001c 6367     		str	r3, [r4, #116]
 1141              	.L126:
1759:Middlewares/Third_Party/LwIP/src/core/tcp.c ****     }
1760:Middlewares/Third_Party/LwIP/src/core/tcp.c ****     if (pcb->unsent != NULL) {
1761:Middlewares/Third_Party/LwIP/src/core/tcp.c ****       LWIP_DEBUGF(TCP_DEBUG, ("tcp_pcb_purge: not all data sent\n"));
1762:Middlewares/Third_Party/LwIP/src/core/tcp.c ****     }
1763:Middlewares/Third_Party/LwIP/src/core/tcp.c ****     if (pcb->unacked != NULL) {
1764:Middlewares/Third_Party/LwIP/src/core/tcp.c ****       LWIP_DEBUGF(TCP_DEBUG, ("tcp_pcb_purge: data left on ->unacked\n"));
1765:Middlewares/Third_Party/LwIP/src/core/tcp.c ****     }
1766:Middlewares/Third_Party/LwIP/src/core/tcp.c **** #if TCP_QUEUE_OOSEQ
1767:Middlewares/Third_Party/LwIP/src/core/tcp.c ****     if (pcb->ooseq != NULL) {
1768:Middlewares/Third_Party/LwIP/src/core/tcp.c ****       LWIP_DEBUGF(TCP_DEBUG, ("tcp_pcb_purge: data left on ->ooseq\n"));
1769:Middlewares/Third_Party/LwIP/src/core/tcp.c ****     }
1770:Middlewares/Third_Party/LwIP/src/core/tcp.c ****     tcp_segs_free(pcb->ooseq);
 1142              		.loc 1 1770 0
 1143 001e 206F     		ldr	r0, [r4, #112]
 1144 0020 FFF7FEFF 		bl	tcp_segs_free
 1145              	.LVL114:
1771:Middlewares/Third_Party/LwIP/src/core/tcp.c ****     pcb->ooseq = NULL;
 1146              		.loc 1 1771 0
 1147 0024 0025     		movs	r5, #0
 1148 0026 2567     		str	r5, [r4, #112]
1772:Middlewares/Third_Party/LwIP/src/core/tcp.c **** #endif /* TCP_QUEUE_OOSEQ */
1773:Middlewares/Third_Party/LwIP/src/core/tcp.c **** 
1774:Middlewares/Third_Party/LwIP/src/core/tcp.c ****     /* Stop the retransmission timer as it will expect data on unacked
1775:Middlewares/Third_Party/LwIP/src/core/tcp.c ****        queue if it fires */
1776:Middlewares/Third_Party/LwIP/src/core/tcp.c ****     pcb->rtime = -1;
 1149              		.loc 1 1776 0
 1150 0028 4FF6FF73 		movw	r3, #65535
 1151 002c 2386     		strh	r3, [r4, #48]	@ movhi
1777:Middlewares/Third_Party/LwIP/src/core/tcp.c **** 
1778:Middlewares/Third_Party/LwIP/src/core/tcp.c ****     tcp_segs_free(pcb->unsent);
 1152              		.loc 1 1778 0
 1153 002e A06E     		ldr	r0, [r4, #104]
 1154 0030 FFF7FEFF 		bl	tcp_segs_free
 1155              	.LVL115:
1779:Middlewares/Third_Party/LwIP/src/core/tcp.c ****     tcp_segs_free(pcb->unacked);
 1156              		.loc 1 1779 0
 1157 0034 E06E     		ldr	r0, [r4, #108]
 1158 0036 FFF7FEFF 		bl	tcp_segs_free
 1159              	.LVL116:
1780:Middlewares/Third_Party/LwIP/src/core/tcp.c ****     pcb->unacked = pcb->unsent = NULL;
 1160              		.loc 1 1780 0
 1161 003a A566     		str	r5, [r4, #104]
 1162 003c E566     		str	r5, [r4, #108]
1781:Middlewares/Third_Party/LwIP/src/core/tcp.c **** #if TCP_OVERSIZE
1782:Middlewares/Third_Party/LwIP/src/core/tcp.c ****     pcb->unsent_oversize = 0;
 1163              		.loc 1 1782 0
 1164 003e A4F86450 		strh	r5, [r4, #100]	@ movhi
 1165              	.LVL117:
 1166              	.L124:
 1167 0042 38BD     		pop	{r3, r4, r5, pc}
 1168              		.cfi_endproc
 1169              	.LFE173:
 1171              		.section	.text.tcp_slowtmr,"ax",%progbits
 1172              		.align	1
ARM GAS  C:\Users\Student\AppData\Local\Temp\ccY4weUp.s 			page 54


 1173              		.global	tcp_slowtmr
 1174              		.syntax unified
 1175              		.thumb
 1176              		.thumb_func
 1177              		.fpu fpv5-sp-d16
 1179              	tcp_slowtmr:
 1180              	.LFB152:
 932:Middlewares/Third_Party/LwIP/src/core/tcp.c ****   struct tcp_pcb *pcb, *prev;
 1181              		.loc 1 932 0
 1182              		.cfi_startproc
 1183              		@ args = 0, pretend = 0, frame = 0
 1184              		@ frame_needed = 0, uses_anonymous_args = 0
 1185 0000 2DE9F041 		push	{r4, r5, r6, r7, r8, lr}
 1186              	.LCFI17:
 1187              		.cfi_def_cfa_offset 24
 1188              		.cfi_offset 4, -24
 1189              		.cfi_offset 5, -20
 1190              		.cfi_offset 6, -16
 1191              		.cfi_offset 7, -12
 1192              		.cfi_offset 8, -8
 1193              		.cfi_offset 14, -4
 1194 0004 82B0     		sub	sp, sp, #8
 1195              	.LCFI18:
 1196              		.cfi_def_cfa_offset 32
 1197              	.LVL118:
 941:Middlewares/Third_Party/LwIP/src/core/tcp.c ****   ++tcp_timer_ctr;
 1198              		.loc 1 941 0
 1199 0006 A64A     		ldr	r2, .L189
 1200 0008 1368     		ldr	r3, [r2]
 1201 000a 0133     		adds	r3, r3, #1
 1202 000c 1360     		str	r3, [r2]
 942:Middlewares/Third_Party/LwIP/src/core/tcp.c **** 
 1203              		.loc 1 942 0
 1204 000e A54A     		ldr	r2, .L189+4
 1205 0010 1378     		ldrb	r3, [r2]	@ zero_extendqisi2
 1206 0012 0133     		adds	r3, r3, #1
 1207 0014 1370     		strb	r3, [r2]
 1208              	.L130:
 1209              	.LVL119:
 1210              	.L129:
 947:Middlewares/Third_Party/LwIP/src/core/tcp.c ****   if (pcb == NULL) {
 1211              		.loc 1 947 0
 1212 0016 A44B     		ldr	r3, .L189+8
 1213 0018 1C68     		ldr	r4, [r3]
 1214              	.LVL120:
 946:Middlewares/Third_Party/LwIP/src/core/tcp.c ****   pcb = tcp_active_pcbs;
 1215              		.loc 1 946 0
 1216 001a 0026     		movs	r6, #0
 951:Middlewares/Third_Party/LwIP/src/core/tcp.c ****     LWIP_DEBUGF(TCP_DEBUG, ("tcp_slowtmr: processing active pcb\n"));
 1217              		.loc 1 951 0
 1218 001c 00E0     		b	.L131
 1219              	.LVL121:
 1220              	.L176:
 958:Middlewares/Third_Party/LwIP/src/core/tcp.c ****       continue;
 1221              		.loc 1 958 0
 1222 001e E468     		ldr	r4, [r4, #12]
 1223              	.LVL122:
ARM GAS  C:\Users\Student\AppData\Local\Temp\ccY4weUp.s 			page 55


 1224              	.L131:
 951:Middlewares/Third_Party/LwIP/src/core/tcp.c ****     LWIP_DEBUGF(TCP_DEBUG, ("tcp_slowtmr: processing active pcb\n"));
 1225              		.loc 1 951 0
 1226 0020 002C     		cmp	r4, #0
 1227 0022 00F03A81 		beq	.L175
 953:Middlewares/Third_Party/LwIP/src/core/tcp.c ****     LWIP_ASSERT("tcp_slowtmr: active pcb->state != LISTEN\n", pcb->state != LISTEN);
 1228              		.loc 1 953 0
 1229 0026 217D     		ldrb	r1, [r4, #20]	@ zero_extendqisi2
 956:Middlewares/Third_Party/LwIP/src/core/tcp.c ****       /* skip this pcb, we have already processed it */
 1230              		.loc 1 956 0
 1231 0028 627F     		ldrb	r2, [r4, #29]	@ zero_extendqisi2
 1232 002a 9E4B     		ldr	r3, .L189+4
 1233 002c 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 1234 002e 9A42     		cmp	r2, r3
 1235 0030 F5D0     		beq	.L176
 961:Middlewares/Third_Party/LwIP/src/core/tcp.c **** 
 1236              		.loc 1 961 0
 1237 0032 6377     		strb	r3, [r4, #29]
 1238              	.LVL123:
 966:Middlewares/Third_Party/LwIP/src/core/tcp.c ****       ++pcb_remove;
 1239              		.loc 1 966 0
 1240 0034 0229     		cmp	r1, #2
 1241 0036 16D0     		beq	.L177
 1242              	.L134:
 970:Middlewares/Third_Party/LwIP/src/core/tcp.c ****       ++pcb_remove;
 1243              		.loc 1 970 0
 1244 0038 94F84230 		ldrb	r3, [r4, #66]	@ zero_extendqisi2
 1245 003c 0C2B     		cmp	r3, #12
 1246 003e 5ED0     		beq	.L162
 974:Middlewares/Third_Party/LwIP/src/core/tcp.c ****         /* If snd_wnd is zero, use persist timer to send 1 byte probes
 1247              		.loc 1 974 0
 1248 0040 94F89550 		ldrb	r5, [r4, #149]	@ zero_extendqisi2
 1249 0044 35B3     		cbz	r5, .L136
 1250              	.LBB7:
 977:Middlewares/Third_Party/LwIP/src/core/tcp.c ****         if (pcb->persist_cnt < backoff_cnt) {
 1251              		.loc 1 977 0
 1252 0046 013D     		subs	r5, r5, #1
 1253 0048 984B     		ldr	r3, .L189+12
 1254 004a 5A5D     		ldrb	r2, [r3, r5]	@ zero_extendqisi2
 1255              	.LVL124:
 978:Middlewares/Third_Party/LwIP/src/core/tcp.c ****           pcb->persist_cnt++;
 1256              		.loc 1 978 0
 1257 004c 94F89430 		ldrb	r3, [r4, #148]	@ zero_extendqisi2
 1258 0050 9A42     		cmp	r2, r3
 1259 0052 02D9     		bls	.L137
 979:Middlewares/Third_Party/LwIP/src/core/tcp.c ****         }
 1260              		.loc 1 979 0
 1261 0054 0133     		adds	r3, r3, #1
 1262 0056 84F89430 		strb	r3, [r4, #148]
 1263              	.L137:
 981:Middlewares/Third_Party/LwIP/src/core/tcp.c ****           if (tcp_zero_window_probe(pcb) == ERR_OK) {
 1264              		.loc 1 981 0
 1265 005a 94F89430 		ldrb	r3, [r4, #148]	@ zero_extendqisi2
 1266 005e 9A42     		cmp	r2, r3
 1267 0060 07D9     		bls	.L178
 1268              	.LBE7:
 963:Middlewares/Third_Party/LwIP/src/core/tcp.c ****     pcb_reset = 0;
ARM GAS  C:\Users\Student\AppData\Local\Temp\ccY4weUp.s 			page 56


 1269              		.loc 1 963 0
 1270 0062 0025     		movs	r5, #0
 1271 0064 4CE0     		b	.L135
 1272              	.LVL125:
 1273              	.L177:
 966:Middlewares/Third_Party/LwIP/src/core/tcp.c ****       ++pcb_remove;
 1274              		.loc 1 966 0 discriminator 1
 1275 0066 94F84230 		ldrb	r3, [r4, #66]	@ zero_extendqisi2
 1276 006a 062B     		cmp	r3, #6
 1277 006c E4D1     		bne	.L134
 967:Middlewares/Third_Party/LwIP/src/core/tcp.c ****       LWIP_DEBUGF(TCP_DEBUG, ("tcp_slowtmr: max SYN retries reached\n"));
 1278              		.loc 1 967 0
 1279 006e 0125     		movs	r5, #1
 1280 0070 46E0     		b	.L135
 1281              	.LVL126:
 1282              	.L178:
 1283              	.LBB8:
 982:Middlewares/Third_Party/LwIP/src/core/tcp.c ****             pcb->persist_cnt = 0;
 1284              		.loc 1 982 0
 1285 0072 2046     		mov	r0, r4
 1286 0074 FFF7FEFF 		bl	tcp_zero_window_probe
 1287              	.LVL127:
 1288 0078 0028     		cmp	r0, #0
 1289 007a 5ED1     		bne	.L164
 983:Middlewares/Third_Party/LwIP/src/core/tcp.c ****             if (pcb->persist_backoff < sizeof(tcp_persist_backoff)) {
 1290              		.loc 1 983 0
 1291 007c 0023     		movs	r3, #0
 1292 007e 84F89430 		strb	r3, [r4, #148]
 984:Middlewares/Third_Party/LwIP/src/core/tcp.c ****               pcb->persist_backoff++;
 1293              		.loc 1 984 0
 1294 0082 94F89530 		ldrb	r3, [r4, #149]	@ zero_extendqisi2
 1295 0086 062B     		cmp	r3, #6
 1296 0088 59D8     		bhi	.L165
 985:Middlewares/Third_Party/LwIP/src/core/tcp.c ****             }
 1297              		.loc 1 985 0
 1298 008a 0133     		adds	r3, r3, #1
 1299 008c 84F89530 		strb	r3, [r4, #149]
 1300              	.LBE8:
 963:Middlewares/Third_Party/LwIP/src/core/tcp.c ****     pcb_reset = 0;
 1301              		.loc 1 963 0
 1302 0090 0025     		movs	r5, #0
 1303              	.LVL128:
 1304 0092 35E0     		b	.L135
 1305              	.L136:
 991:Middlewares/Third_Party/LwIP/src/core/tcp.c ****           ++pcb->rtime;
 1306              		.loc 1 991 0
 1307 0094 B4F93020 		ldrsh	r2, [r4, #48]
 1308 0098 002A     		cmp	r2, #0
 1309 009a 01DB     		blt	.L138
 992:Middlewares/Third_Party/LwIP/src/core/tcp.c ****         }
 1310              		.loc 1 992 0
 1311 009c 0132     		adds	r2, r2, #1
 1312 009e 2286     		strh	r2, [r4, #48]	@ movhi
 1313              	.L138:
 995:Middlewares/Third_Party/LwIP/src/core/tcp.c ****           /* Time for a retransmission. */
 1314              		.loc 1 995 0
 1315 00a0 E26E     		ldr	r2, [r4, #108]
ARM GAS  C:\Users\Student\AppData\Local\Temp\ccY4weUp.s 			page 57


 1316 00a2 6AB3     		cbz	r2, .L135
 995:Middlewares/Third_Party/LwIP/src/core/tcp.c ****           /* Time for a retransmission. */
 1317              		.loc 1 995 0 is_stmt 0 discriminator 1
 1318 00a4 B4F93000 		ldrsh	r0, [r4, #48]
 1319 00a8 B4F94020 		ldrsh	r2, [r4, #64]
 1320 00ac 9042     		cmp	r0, r2
 1321 00ae 27DB     		blt	.L135
1003:Middlewares/Third_Party/LwIP/src/core/tcp.c ****             pcb->rto = ((pcb->sa >> 3) + pcb->sv) << tcp_backoff[pcb->nrtx];
 1322              		.loc 1 1003 0 is_stmt 1
 1323 00b0 0229     		cmp	r1, #2
 1324 00b2 0BD0     		beq	.L139
1004:Middlewares/Third_Party/LwIP/src/core/tcp.c ****           }
 1325              		.loc 1 1004 0
 1326 00b4 B4F93C10 		ldrsh	r1, [r4, #60]
 1327 00b8 B4F93E20 		ldrsh	r2, [r4, #62]
 1328 00bc 02EBE102 		add	r2, r2, r1, asr #3
 1329 00c0 7B49     		ldr	r1, .L189+16
 1330 00c2 CB5C     		ldrb	r3, [r1, r3]	@ zero_extendqisi2
 1331 00c4 02FA03F3 		lsl	r3, r2, r3
 1332 00c8 A4F84030 		strh	r3, [r4, #64]	@ movhi
 1333              	.L139:
1008:Middlewares/Third_Party/LwIP/src/core/tcp.c **** 
 1334              		.loc 1 1008 0
 1335 00cc 0023     		movs	r3, #0
 1336 00ce 2386     		strh	r3, [r4, #48]	@ movhi
1011:Middlewares/Third_Party/LwIP/src/core/tcp.c ****           pcb->ssthresh = eff_wnd >> 1;
 1337              		.loc 1 1011 0
 1338 00d0 B4F85C30 		ldrh	r3, [r4, #92]
 1339 00d4 B4F84820 		ldrh	r2, [r4, #72]
 1340 00d8 9342     		cmp	r3, r2
 1341 00da 28BF     		it	cs
 1342 00dc 1346     		movcs	r3, r2
 1343              	.LVL129:
1012:Middlewares/Third_Party/LwIP/src/core/tcp.c ****           if (pcb->ssthresh < (tcpwnd_size_t)(pcb->mss << 1)) {
 1344              		.loc 1 1012 0
 1345 00de 5B08     		lsrs	r3, r3, #1
 1346              	.LVL130:
 1347 00e0 A4F84A30 		strh	r3, [r4, #74]	@ movhi
1013:Middlewares/Third_Party/LwIP/src/core/tcp.c ****             pcb->ssthresh = (pcb->mss << 1);
 1348              		.loc 1 1013 0
 1349 00e4 618E     		ldrh	r1, [r4, #50]
 1350 00e6 4A00     		lsls	r2, r1, #1
 1351              	.LVL131:
 1352 00e8 92B2     		uxth	r2, r2
 1353 00ea 9342     		cmp	r3, r2
 1354              	.LVL132:
 1355 00ec 01D2     		bcs	.L140
1014:Middlewares/Third_Party/LwIP/src/core/tcp.c ****           }
 1356              		.loc 1 1014 0
 1357 00ee A4F84A20 		strh	r2, [r4, #74]	@ movhi
 1358              	.L140:
1016:Middlewares/Third_Party/LwIP/src/core/tcp.c ****           LWIP_DEBUGF(TCP_CWND_DEBUG, ("tcp_slowtmr: cwnd %"TCPWNDSIZE_F
 1359              		.loc 1 1016 0
 1360 00f2 A4F84810 		strh	r1, [r4, #72]	@ movhi
 1361              	.LVL133:
1023:Middlewares/Third_Party/LwIP/src/core/tcp.c ****         }
 1362              		.loc 1 1023 0
ARM GAS  C:\Users\Student\AppData\Local\Temp\ccY4weUp.s 			page 58


 1363 00f6 2046     		mov	r0, r4
 1364 00f8 FFF7FEFF 		bl	tcp_rexmit_rto
 1365              	.LVL134:
 1366 00fc 00E0     		b	.L135
 1367              	.L162:
 971:Middlewares/Third_Party/LwIP/src/core/tcp.c ****       LWIP_DEBUGF(TCP_DEBUG, ("tcp_slowtmr: max DATA retries reached\n"));
 1368              		.loc 1 971 0
 1369 00fe 0125     		movs	r5, #1
 1370              	.L135:
 1371              	.LVL135:
1028:Middlewares/Third_Party/LwIP/src/core/tcp.c ****       /* If this PCB is in FIN_WAIT_2 because of SHUT_WR don't let it time out. */
 1372              		.loc 1 1028 0
 1373 0100 237D     		ldrb	r3, [r4, #20]	@ zero_extendqisi2
 1374 0102 062B     		cmp	r3, #6
 1375 0104 1DD0     		beq	.L179
 1376              	.L141:
1042:Middlewares/Third_Party/LwIP/src/core/tcp.c ****        ((pcb->state == ESTABLISHED) ||
 1377              		.loc 1 1042 0
 1378 0106 227A     		ldrb	r2, [r4, #8]	@ zero_extendqisi2
 1379 0108 12F0080F 		tst	r2, #8
 1380 010c 3FD0     		beq	.L166
1042:Middlewares/Third_Party/LwIP/src/core/tcp.c ****        ((pcb->state == ESTABLISHED) ||
 1381              		.loc 1 1042 0 is_stmt 0 discriminator 1
 1382 010e 072B     		cmp	r3, #7
 1383 0110 18BF     		it	ne
 1384 0112 042B     		cmpne	r3, #4
 1385 0114 6DD1     		bne	.L167
1045:Middlewares/Third_Party/LwIP/src/core/tcp.c ****          (pcb->keep_idle + TCP_KEEP_DUR(pcb)) / TCP_SLOW_INTERVAL)
 1386              		.loc 1 1045 0 is_stmt 1
 1387 0116 624B     		ldr	r3, .L189
 1388 0118 1A68     		ldr	r2, [r3]
 1389 011a 236A     		ldr	r3, [r4, #32]
 1390 011c D21A     		subs	r2, r2, r3
1046:Middlewares/Third_Party/LwIP/src/core/tcp.c ****       {
 1391              		.loc 1 1046 0
 1392 011e D4F89010 		ldr	r1, [r4, #144]
 1393 0122 644B     		ldr	r3, .L189+20
 1394 0124 0B44     		add	r3, r3, r1
 1395 0126 6448     		ldr	r0, .L189+24
 1396 0128 A0FB0303 		umull	r0, r3, r0, r3
1045:Middlewares/Third_Party/LwIP/src/core/tcp.c ****          (pcb->keep_idle + TCP_KEEP_DUR(pcb)) / TCP_SLOW_INTERVAL)
 1397              		.loc 1 1045 0
 1398 012c B2EB531F 		cmp	r2, r3, lsr #5
 1399 0130 14D9     		bls	.L143
1052:Middlewares/Third_Party/LwIP/src/core/tcp.c ****         ++pcb_reset;
 1400              		.loc 1 1052 0
 1401 0132 0135     		adds	r5, r5, #1
 1402              	.LVL136:
 1403 0134 EDB2     		uxtb	r5, r5
 1404              	.LVL137:
1053:Middlewares/Third_Party/LwIP/src/core/tcp.c ****       } else if ((u32_t)(tcp_ticks - pcb->tmr) >
 1405              		.loc 1 1053 0
 1406 0136 0127     		movs	r7, #1
 1407 0138 2AE0     		b	.L142
 1408              	.LVL138:
 1409              	.L164:
 963:Middlewares/Third_Party/LwIP/src/core/tcp.c ****     pcb_reset = 0;
ARM GAS  C:\Users\Student\AppData\Local\Temp\ccY4weUp.s 			page 59


 1410              		.loc 1 963 0
 1411 013a 0025     		movs	r5, #0
 1412              	.LVL139:
 1413 013c E0E7     		b	.L135
 1414              	.LVL140:
 1415              	.L165:
 1416 013e 0025     		movs	r5, #0
 1417              	.LVL141:
 1418 0140 DEE7     		b	.L135
 1419              	.LVL142:
 1420              	.L179:
1030:Middlewares/Third_Party/LwIP/src/core/tcp.c ****         /* PCB was fully closed (either through close() or SHUT_RDWR):
 1421              		.loc 1 1030 0
 1422 0142 A27E     		ldrb	r2, [r4, #26]	@ zero_extendqisi2
 1423 0144 12F0100F 		tst	r2, #16
 1424 0148 DDD0     		beq	.L141
1033:Middlewares/Third_Party/LwIP/src/core/tcp.c ****             TCP_FIN_WAIT_TIMEOUT / TCP_SLOW_INTERVAL) {
 1425              		.loc 1 1033 0
 1426 014a 216A     		ldr	r1, [r4, #32]
 1427 014c 544A     		ldr	r2, .L189
 1428 014e 1268     		ldr	r2, [r2]
 1429 0150 521A     		subs	r2, r2, r1
 1430 0152 282A     		cmp	r2, #40
 1431 0154 D7D9     		bls	.L141
1035:Middlewares/Third_Party/LwIP/src/core/tcp.c ****           LWIP_DEBUGF(TCP_DEBUG, ("tcp_slowtmr: removing pcb stuck in FIN-WAIT-2\n"));
 1432              		.loc 1 1035 0
 1433 0156 0135     		adds	r5, r5, #1
 1434              	.LVL143:
 1435 0158 EDB2     		uxtb	r5, r5
 1436              	.LVL144:
 1437 015a D4E7     		b	.L141
 1438              	.L143:
1055:Middlewares/Third_Party/LwIP/src/core/tcp.c ****                 / TCP_SLOW_INTERVAL)
 1439              		.loc 1 1055 0
 1440 015c 94F89630 		ldrb	r3, [r4, #150]	@ zero_extendqisi2
 1441 0160 5648     		ldr	r0, .L189+28
 1442 0162 00FB0313 		mla	r3, r0, r3, r1
1056:Middlewares/Third_Party/LwIP/src/core/tcp.c ****       {
 1443              		.loc 1 1056 0
 1444 0166 5449     		ldr	r1, .L189+24
 1445 0168 A1FB0313 		umull	r1, r3, r1, r3
1054:Middlewares/Third_Party/LwIP/src/core/tcp.c ****                 (pcb->keep_idle + pcb->keep_cnt_sent * TCP_KEEP_INTVL(pcb))
 1446              		.loc 1 1054 0
 1447 016c B2EB531F 		cmp	r2, r3, lsr #5
 1448 0170 01D8     		bhi	.L180
 964:Middlewares/Third_Party/LwIP/src/core/tcp.c **** 
 1449              		.loc 1 964 0
 1450 0172 0027     		movs	r7, #0
 1451 0174 0CE0     		b	.L142
 1452              	.L180:
1058:Middlewares/Third_Party/LwIP/src/core/tcp.c ****         if (err == ERR_OK) {
 1453              		.loc 1 1058 0
 1454 0176 2046     		mov	r0, r4
 1455 0178 FFF7FEFF 		bl	tcp_keepalive
 1456              	.LVL145:
1059:Middlewares/Third_Party/LwIP/src/core/tcp.c ****           pcb->keep_cnt_sent++;
 1457              		.loc 1 1059 0
ARM GAS  C:\Users\Student\AppData\Local\Temp\ccY4weUp.s 			page 60


 1458 017c 0028     		cmp	r0, #0
 1459 017e 3AD1     		bne	.L169
1060:Middlewares/Third_Party/LwIP/src/core/tcp.c ****         }
 1460              		.loc 1 1060 0
 1461 0180 94F89630 		ldrb	r3, [r4, #150]	@ zero_extendqisi2
 1462 0184 0133     		adds	r3, r3, #1
 1463 0186 84F89630 		strb	r3, [r4, #150]
 964:Middlewares/Third_Party/LwIP/src/core/tcp.c **** 
 1464              		.loc 1 964 0
 1465 018a 0027     		movs	r7, #0
 1466 018c 00E0     		b	.L142
 1467              	.LVL146:
 1468              	.L166:
 1469 018e 0027     		movs	r7, #0
 1470              	.LVL147:
 1471              	.L142:
1069:Middlewares/Third_Party/LwIP/src/core/tcp.c ****         (u32_t)tcp_ticks - pcb->tmr >= pcb->rto * TCP_OOSEQ_TIMEOUT) {
 1472              		.loc 1 1069 0
 1473 0190 206F     		ldr	r0, [r4, #112]
 1474 0192 50B1     		cbz	r0, .L144
1070:Middlewares/Third_Party/LwIP/src/core/tcp.c ****       tcp_segs_free(pcb->ooseq);
 1475              		.loc 1 1070 0 discriminator 1
 1476 0194 424B     		ldr	r3, .L189
 1477 0196 1A68     		ldr	r2, [r3]
 1478 0198 236A     		ldr	r3, [r4, #32]
 1479 019a D21A     		subs	r2, r2, r3
 1480 019c B4F94030 		ldrsh	r3, [r4, #64]
 1481 01a0 03EB4303 		add	r3, r3, r3, lsl #1
 1482 01a4 5900     		lsls	r1, r3, #1
1069:Middlewares/Third_Party/LwIP/src/core/tcp.c ****         (u32_t)tcp_ticks - pcb->tmr >= pcb->rto * TCP_OOSEQ_TIMEOUT) {
 1483              		.loc 1 1069 0 discriminator 1
 1484 01a6 8A42     		cmp	r2, r1
 1485 01a8 27D2     		bcs	.L181
 1486              	.L144:
1078:Middlewares/Third_Party/LwIP/src/core/tcp.c ****       if ((u32_t)(tcp_ticks - pcb->tmr) >
 1487              		.loc 1 1078 0
 1488 01aa 237D     		ldrb	r3, [r4, #20]	@ zero_extendqisi2
 1489 01ac 032B     		cmp	r3, #3
 1490 01ae 29D0     		beq	.L182
 1491              	.L145:
1087:Middlewares/Third_Party/LwIP/src/core/tcp.c ****       if ((u32_t)(tcp_ticks - pcb->tmr) > 2 * TCP_MSL / TCP_SLOW_INTERVAL) {
 1492              		.loc 1 1087 0
 1493 01b0 092B     		cmp	r3, #9
 1494 01b2 30D0     		beq	.L183
 1495              	.L146:
1095:Middlewares/Third_Party/LwIP/src/core/tcp.c ****       struct tcp_pcb *pcb2;
 1496              		.loc 1 1095 0
 1497 01b4 002D     		cmp	r5, #0
 1498 01b6 37D1     		bne	.L184
 1499              	.LVL148:
1130:Middlewares/Third_Party/LwIP/src/core/tcp.c **** 
 1500              		.loc 1 1130 0
 1501 01b8 E568     		ldr	r5, [r4, #12]
 1502              	.LVL149:
1133:Middlewares/Third_Party/LwIP/src/core/tcp.c ****       if (prev->polltmr >= prev->pollinterval) {
 1503              		.loc 1 1133 0
 1504 01ba E37E     		ldrb	r3, [r4, #27]	@ zero_extendqisi2
ARM GAS  C:\Users\Student\AppData\Local\Temp\ccY4weUp.s 			page 61


 1505 01bc 0133     		adds	r3, r3, #1
 1506 01be DBB2     		uxtb	r3, r3
 1507 01c0 E376     		strb	r3, [r4, #27]
1134:Middlewares/Third_Party/LwIP/src/core/tcp.c ****         prev->polltmr = 0;
 1508              		.loc 1 1134 0
 1509 01c2 227F     		ldrb	r2, [r4, #28]	@ zero_extendqisi2
 1510 01c4 9342     		cmp	r3, r2
 1511 01c6 65D3     		bcc	.L170
1135:Middlewares/Third_Party/LwIP/src/core/tcp.c ****         LWIP_DEBUGF(TCP_DEBUG, ("tcp_slowtmr: polling application\n"));
 1512              		.loc 1 1135 0
 1513 01c8 0023     		movs	r3, #0
 1514 01ca E376     		strb	r3, [r4, #27]
1137:Middlewares/Third_Party/LwIP/src/core/tcp.c ****         TCP_EVENT_POLL(prev, err);
 1515              		.loc 1 1137 0
 1516 01cc 3C4A     		ldr	r2, .L189+32
 1517 01ce 1370     		strb	r3, [r2]
1138:Middlewares/Third_Party/LwIP/src/core/tcp.c ****         if (tcp_active_pcbs_changed) {
 1518              		.loc 1 1138 0
 1519 01d0 D4F88830 		ldr	r3, [r4, #136]
 1520 01d4 002B     		cmp	r3, #0
 1521 01d6 55D0     		beq	.L171
1138:Middlewares/Third_Party/LwIP/src/core/tcp.c ****         if (tcp_active_pcbs_changed) {
 1522              		.loc 1 1138 0 is_stmt 0 discriminator 1
 1523 01d8 2146     		mov	r1, r4
 1524 01da 2069     		ldr	r0, [r4, #16]
 1525 01dc 9847     		blx	r3
 1526              	.LVL150:
 1527              	.L152:
1139:Middlewares/Third_Party/LwIP/src/core/tcp.c ****           goto tcp_slowtmr_start;
 1528              		.loc 1 1139 0 is_stmt 1
 1529 01de 384B     		ldr	r3, .L189+32
 1530 01e0 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 1531 01e2 002B     		cmp	r3, #0
 1532 01e4 7FF417AF 		bne	.L129
1143:Middlewares/Third_Party/LwIP/src/core/tcp.c ****           tcp_output(prev);
 1533              		.loc 1 1143 0
 1534 01e8 0028     		cmp	r0, #0
 1535 01ea 4DD0     		beq	.L185
1129:Middlewares/Third_Party/LwIP/src/core/tcp.c ****       pcb = pcb->next;
 1536              		.loc 1 1129 0
 1537 01ec 2646     		mov	r6, r4
1130:Middlewares/Third_Party/LwIP/src/core/tcp.c **** 
 1538              		.loc 1 1130 0
 1539 01ee 2C46     		mov	r4, r5
 1540              	.LVL151:
 1541 01f0 16E7     		b	.L131
 1542              	.LVL152:
 1543              	.L167:
 964:Middlewares/Third_Party/LwIP/src/core/tcp.c **** 
 1544              		.loc 1 964 0
 1545 01f2 0027     		movs	r7, #0
 1546 01f4 CCE7     		b	.L142
 1547              	.LVL153:
 1548              	.L169:
 1549 01f6 0027     		movs	r7, #0
 1550 01f8 CAE7     		b	.L142
 1551              	.LVL154:
ARM GAS  C:\Users\Student\AppData\Local\Temp\ccY4weUp.s 			page 62


 1552              	.L181:
1071:Middlewares/Third_Party/LwIP/src/core/tcp.c ****       pcb->ooseq = NULL;
 1553              		.loc 1 1071 0
 1554 01fa FFF7FEFF 		bl	tcp_segs_free
 1555              	.LVL155:
1072:Middlewares/Third_Party/LwIP/src/core/tcp.c ****       LWIP_DEBUGF(TCP_CWND_DEBUG, ("tcp_slowtmr: dropping OOSEQ queued data\n"));
 1556              		.loc 1 1072 0
 1557 01fe 0023     		movs	r3, #0
 1558 0200 2367     		str	r3, [r4, #112]
 1559 0202 D2E7     		b	.L144
 1560              	.L182:
1079:Middlewares/Third_Party/LwIP/src/core/tcp.c ****           TCP_SYN_RCVD_TIMEOUT / TCP_SLOW_INTERVAL) {
 1561              		.loc 1 1079 0
 1562 0204 216A     		ldr	r1, [r4, #32]
 1563 0206 264A     		ldr	r2, .L189
 1564 0208 1268     		ldr	r2, [r2]
 1565 020a 521A     		subs	r2, r2, r1
 1566 020c 282A     		cmp	r2, #40
 1567 020e CFD9     		bls	.L145
1081:Middlewares/Third_Party/LwIP/src/core/tcp.c ****         LWIP_DEBUGF(TCP_DEBUG, ("tcp_slowtmr: removing pcb stuck in SYN-RCVD\n"));
 1568              		.loc 1 1081 0
 1569 0210 0135     		adds	r5, r5, #1
 1570              	.LVL156:
 1571 0212 EDB2     		uxtb	r5, r5
 1572              	.LVL157:
 1573 0214 CCE7     		b	.L145
 1574              	.L183:
1088:Middlewares/Third_Party/LwIP/src/core/tcp.c ****         ++pcb_remove;
 1575              		.loc 1 1088 0
 1576 0216 226A     		ldr	r2, [r4, #32]
 1577 0218 214B     		ldr	r3, .L189
 1578 021a 1B68     		ldr	r3, [r3]
 1579 021c 9B1A     		subs	r3, r3, r2
 1580 021e F02B     		cmp	r3, #240
 1581 0220 C8D9     		bls	.L146
1089:Middlewares/Third_Party/LwIP/src/core/tcp.c ****         LWIP_DEBUGF(TCP_DEBUG, ("tcp_slowtmr: removing pcb stuck in LAST-ACK\n"));
 1582              		.loc 1 1089 0
 1583 0222 0135     		adds	r5, r5, #1
 1584              	.LVL158:
 1585 0224 EDB2     		uxtb	r5, r5
 1586              	.LVL159:
 1587 0226 C5E7     		b	.L146
 1588              	.L184:
 1589              	.LBB9:
1098:Middlewares/Third_Party/LwIP/src/core/tcp.c **** #endif /* LWIP_CALLBACK_API */
 1590              		.loc 1 1098 0
 1591 0228 D4F88C50 		ldr	r5, [r4, #140]
 1592              	.LVL160:
1101:Middlewares/Third_Party/LwIP/src/core/tcp.c ****       /* Remove PCB from tcp_active_pcbs list. */
 1593              		.loc 1 1101 0
 1594 022c 2046     		mov	r0, r4
 1595 022e FFF7FEFF 		bl	tcp_pcb_purge
 1596              	.LVL161:
1103:Middlewares/Third_Party/LwIP/src/core/tcp.c ****         LWIP_ASSERT("tcp_slowtmr: middle tcp != tcp_active_pcbs", pcb != tcp_active_pcbs);
 1597              		.loc 1 1103 0
 1598 0232 C6B1     		cbz	r6, .L148
1105:Middlewares/Third_Party/LwIP/src/core/tcp.c ****       } else {
ARM GAS  C:\Users\Student\AppData\Local\Temp\ccY4weUp.s 			page 63


 1599              		.loc 1 1105 0
 1600 0234 E368     		ldr	r3, [r4, #12]
 1601 0236 F360     		str	r3, [r6, #12]
 1602              	.L149:
1112:Middlewares/Third_Party/LwIP/src/core/tcp.c ****         tcp_rst(pcb->snd_nxt, pcb->rcv_nxt, &pcb->local_ip, &pcb->remote_ip,
 1603              		.loc 1 1112 0
 1604 0238 CFB9     		cbnz	r7, .L186
 1605              	.L150:
1117:Middlewares/Third_Party/LwIP/src/core/tcp.c ****       pcb2 = pcb;
 1606              		.loc 1 1117 0
 1607 023a D4F81080 		ldr	r8, [r4, #16]
 1608              	.LVL162:
1119:Middlewares/Third_Party/LwIP/src/core/tcp.c ****       memp_free(MEMP_TCP_PCB, pcb2);
 1609              		.loc 1 1119 0
 1610 023e E768     		ldr	r7, [r4, #12]
 1611              	.LVL163:
1120:Middlewares/Third_Party/LwIP/src/core/tcp.c **** 
 1612              		.loc 1 1120 0
 1613 0240 2146     		mov	r1, r4
 1614 0242 0120     		movs	r0, #1
 1615 0244 FFF7FEFF 		bl	memp_free
 1616              	.LVL164:
1122:Middlewares/Third_Party/LwIP/src/core/tcp.c ****       TCP_EVENT_ERR(err_fn, err_arg, ERR_ABRT);
 1617              		.loc 1 1122 0
 1618 0248 0022     		movs	r2, #0
 1619 024a 1D4B     		ldr	r3, .L189+32
 1620 024c 1A70     		strb	r2, [r3]
1123:Middlewares/Third_Party/LwIP/src/core/tcp.c ****       if (tcp_active_pcbs_changed) {
 1621              		.loc 1 1123 0
 1622 024e 1DB1     		cbz	r5, .L151
1123:Middlewares/Third_Party/LwIP/src/core/tcp.c ****       if (tcp_active_pcbs_changed) {
 1623              		.loc 1 1123 0 is_stmt 0 discriminator 1
 1624 0250 6FF00C01 		mvn	r1, #12
 1625 0254 4046     		mov	r0, r8
 1626 0256 A847     		blx	r5
 1627              	.LVL165:
 1628              	.L151:
1124:Middlewares/Third_Party/LwIP/src/core/tcp.c ****         goto tcp_slowtmr_start;
 1629              		.loc 1 1124 0 is_stmt 1
 1630 0258 194B     		ldr	r3, .L189+32
 1631 025a 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 1632 025c 002B     		cmp	r3, #0
 1633 025e 7FF4DAAE 		bne	.L129
1119:Middlewares/Third_Party/LwIP/src/core/tcp.c ****       memp_free(MEMP_TCP_PCB, pcb2);
 1634              		.loc 1 1119 0
 1635 0262 3C46     		mov	r4, r7
 1636              	.LVL166:
 1637 0264 DCE6     		b	.L131
 1638              	.LVL167:
 1639              	.L148:
1109:Middlewares/Third_Party/LwIP/src/core/tcp.c ****       }
 1640              		.loc 1 1109 0
 1641 0266 E268     		ldr	r2, [r4, #12]
 1642 0268 0F4B     		ldr	r3, .L189+8
 1643 026a 1A60     		str	r2, [r3]
 1644 026c E4E7     		b	.L149
 1645              	.L186:
ARM GAS  C:\Users\Student\AppData\Local\Temp\ccY4weUp.s 			page 64


1113:Middlewares/Third_Party/LwIP/src/core/tcp.c ****                  pcb->local_port, pcb->remote_port);
 1646              		.loc 1 1113 0
 1647 026e 616A     		ldr	r1, [r4, #36]
 1648 0270 E06C     		ldr	r0, [r4, #76]
 1649 0272 238B     		ldrh	r3, [r4, #24]
 1650 0274 0193     		str	r3, [sp, #4]
 1651 0276 E38A     		ldrh	r3, [r4, #22]
 1652 0278 0093     		str	r3, [sp]
 1653 027a 231D     		adds	r3, r4, #4
 1654 027c 2246     		mov	r2, r4
 1655 027e FFF7FEFF 		bl	tcp_rst
 1656              	.LVL168:
 1657 0282 DAE7     		b	.L150
 1658              	.LVL169:
 1659              	.L171:
 1660              	.LBE9:
1138:Middlewares/Third_Party/LwIP/src/core/tcp.c ****         if (tcp_active_pcbs_changed) {
 1661              		.loc 1 1138 0
 1662 0284 0020     		movs	r0, #0
 1663 0286 AAE7     		b	.L152
 1664              	.LVL170:
 1665              	.L185:
1144:Middlewares/Third_Party/LwIP/src/core/tcp.c ****         }
 1666              		.loc 1 1144 0
 1667 0288 2046     		mov	r0, r4
 1668              	.LVL171:
 1669 028a FFF7FEFF 		bl	tcp_output
 1670              	.LVL172:
1129:Middlewares/Third_Party/LwIP/src/core/tcp.c ****       pcb = pcb->next;
 1671              		.loc 1 1129 0
 1672 028e 2646     		mov	r6, r4
1130:Middlewares/Third_Party/LwIP/src/core/tcp.c **** 
 1673              		.loc 1 1130 0
 1674 0290 2C46     		mov	r4, r5
 1675              	.LVL173:
 1676 0292 C5E6     		b	.L131
 1677              	.LVL174:
 1678              	.L170:
1129:Middlewares/Third_Party/LwIP/src/core/tcp.c ****       pcb = pcb->next;
 1679              		.loc 1 1129 0
 1680 0294 2646     		mov	r6, r4
1130:Middlewares/Third_Party/LwIP/src/core/tcp.c **** 
 1681              		.loc 1 1130 0
 1682 0296 2C46     		mov	r4, r5
 1683              	.LVL175:
 1684 0298 C2E6     		b	.L131
 1685              	.LVL176:
 1686              	.L175:
1153:Middlewares/Third_Party/LwIP/src/core/tcp.c ****   while (pcb != NULL) {
 1687              		.loc 1 1153 0
 1688 029a 0A4B     		ldr	r3, .L189+36
 1689 029c 1D68     		ldr	r5, [r3]
 1690              	.LVL177:
1154:Middlewares/Third_Party/LwIP/src/core/tcp.c ****     LWIP_ASSERT("tcp_slowtmr: TIME-WAIT pcb->state == TIME-WAIT", pcb->state == TIME_WAIT);
 1691              		.loc 1 1154 0
 1692 029e 17E0     		b	.L154
 1693              	.L190:
ARM GAS  C:\Users\Student\AppData\Local\Temp\ccY4weUp.s 			page 65


 1694              		.align	2
 1695              	.L189:
 1696 02a0 00000000 		.word	tcp_ticks
 1697 02a4 00000000 		.word	.LANCHOR2
 1698 02a8 00000000 		.word	tcp_active_pcbs
 1699 02ac 00000000 		.word	.LANCHOR3
 1700 02b0 00000000 		.word	.LANCHOR4
 1701 02b4 B84C0A00 		.word	675000
 1702 02b8 D34D6210 		.word	274877907
 1703 02bc F8240100 		.word	75000
 1704 02c0 00000000 		.word	tcp_active_pcbs_changed
 1705 02c4 00000000 		.word	tcp_tw_pcbs
 1706              	.LVL178:
 1707              	.L173:
1160:Middlewares/Third_Party/LwIP/src/core/tcp.c ****     }
 1708              		.loc 1 1160 0
 1709 02c8 0123     		movs	r3, #1
 1710              	.L155:
 1711              	.LVL179:
1164:Middlewares/Third_Party/LwIP/src/core/tcp.c ****       struct tcp_pcb *pcb2;
 1712              		.loc 1 1164 0
 1713 02ca 53B9     		cbnz	r3, .L187
 1714              	.LVL180:
1180:Middlewares/Third_Party/LwIP/src/core/tcp.c ****       pcb = pcb->next;
 1715              		.loc 1 1180 0
 1716 02cc 2C46     		mov	r4, r5
1181:Middlewares/Third_Party/LwIP/src/core/tcp.c ****     }
 1717              		.loc 1 1181 0
 1718 02ce ED68     		ldr	r5, [r5, #12]
 1719              	.LVL181:
 1720              	.L154:
1154:Middlewares/Third_Party/LwIP/src/core/tcp.c ****     LWIP_ASSERT("tcp_slowtmr: TIME-WAIT pcb->state == TIME-WAIT", pcb->state == TIME_WAIT);
 1721              		.loc 1 1154 0
 1722 02d0 C5B1     		cbz	r5, .L188
 1723              	.LVL182:
1159:Middlewares/Third_Party/LwIP/src/core/tcp.c ****       ++pcb_remove;
 1724              		.loc 1 1159 0
 1725 02d2 2A6A     		ldr	r2, [r5, #32]
 1726 02d4 0D4B     		ldr	r3, .L191
 1727 02d6 1B68     		ldr	r3, [r3]
 1728 02d8 9B1A     		subs	r3, r3, r2
 1729 02da F02B     		cmp	r3, #240
 1730 02dc F4D8     		bhi	.L173
1156:Middlewares/Third_Party/LwIP/src/core/tcp.c **** 
 1731              		.loc 1 1156 0
 1732 02de 0023     		movs	r3, #0
 1733 02e0 F3E7     		b	.L155
 1734              	.LVL183:
 1735              	.L187:
 1736              	.LBB10:
1166:Middlewares/Third_Party/LwIP/src/core/tcp.c ****       /* Remove PCB from tcp_tw_pcbs list. */
 1737              		.loc 1 1166 0
 1738 02e2 2846     		mov	r0, r5
 1739 02e4 FFF7FEFF 		bl	tcp_pcb_purge
 1740              	.LVL184:
1168:Middlewares/Third_Party/LwIP/src/core/tcp.c ****         LWIP_ASSERT("tcp_slowtmr: middle tcp != tcp_tw_pcbs", pcb != tcp_tw_pcbs);
 1741              		.loc 1 1168 0
ARM GAS  C:\Users\Student\AppData\Local\Temp\ccY4weUp.s 			page 66


 1742 02e8 44B1     		cbz	r4, .L157
1170:Middlewares/Third_Party/LwIP/src/core/tcp.c ****       } else {
 1743              		.loc 1 1170 0
 1744 02ea EB68     		ldr	r3, [r5, #12]
 1745 02ec E360     		str	r3, [r4, #12]
 1746              	.L158:
 1747              	.LVL185:
1177:Middlewares/Third_Party/LwIP/src/core/tcp.c ****       memp_free(MEMP_TCP_PCB, pcb2);
 1748              		.loc 1 1177 0
 1749 02ee EE68     		ldr	r6, [r5, #12]
 1750              	.LVL186:
1178:Middlewares/Third_Party/LwIP/src/core/tcp.c ****     } else {
 1751              		.loc 1 1178 0
 1752 02f0 2946     		mov	r1, r5
 1753 02f2 0120     		movs	r0, #1
 1754 02f4 FFF7FEFF 		bl	memp_free
 1755              	.LVL187:
1177:Middlewares/Third_Party/LwIP/src/core/tcp.c ****       memp_free(MEMP_TCP_PCB, pcb2);
 1756              		.loc 1 1177 0
 1757 02f8 3546     		mov	r5, r6
 1758              	.LVL188:
 1759              	.LBE10:
 1760 02fa E9E7     		b	.L154
 1761              	.LVL189:
 1762              	.L157:
 1763              	.LBB11:
1174:Middlewares/Third_Party/LwIP/src/core/tcp.c ****       }
 1764              		.loc 1 1174 0
 1765 02fc EA68     		ldr	r2, [r5, #12]
 1766 02fe 044B     		ldr	r3, .L191+4
 1767 0300 1A60     		str	r2, [r3]
 1768 0302 F4E7     		b	.L158
 1769              	.L188:
 1770              	.LBE11:
1184:Middlewares/Third_Party/LwIP/src/core/tcp.c **** 
 1771              		.loc 1 1184 0
 1772 0304 02B0     		add	sp, sp, #8
 1773              	.LCFI19:
 1774              		.cfi_def_cfa_offset 24
 1775              		@ sp needed
 1776 0306 BDE8F081 		pop	{r4, r5, r6, r7, r8, pc}
 1777              	.LVL190:
 1778              	.L192:
 1779 030a 00BF     		.align	2
 1780              	.L191:
 1781 030c 00000000 		.word	tcp_ticks
 1782 0310 00000000 		.word	tcp_tw_pcbs
 1783              		.cfi_endproc
 1784              	.LFE152:
 1786              		.section	.text.tcp_pcb_remove,"ax",%progbits
 1787              		.align	1
 1788              		.global	tcp_pcb_remove
 1789              		.syntax unified
 1790              		.thumb
 1791              		.thumb_func
 1792              		.fpu fpv5-sp-d16
 1794              	tcp_pcb_remove:
ARM GAS  C:\Users\Student\AppData\Local\Temp\ccY4weUp.s 			page 67


 1795              	.LFB174:
1783:Middlewares/Third_Party/LwIP/src/core/tcp.c **** #endif /* TCP_OVERSIZE */
1784:Middlewares/Third_Party/LwIP/src/core/tcp.c ****   }
1785:Middlewares/Third_Party/LwIP/src/core/tcp.c **** }
1786:Middlewares/Third_Party/LwIP/src/core/tcp.c **** 
1787:Middlewares/Third_Party/LwIP/src/core/tcp.c **** /**
1788:Middlewares/Third_Party/LwIP/src/core/tcp.c ****  * Purges the PCB and removes it from a PCB list. Any delayed ACKs are sent first.
1789:Middlewares/Third_Party/LwIP/src/core/tcp.c ****  *
1790:Middlewares/Third_Party/LwIP/src/core/tcp.c ****  * @param pcblist PCB list to purge.
1791:Middlewares/Third_Party/LwIP/src/core/tcp.c ****  * @param pcb tcp_pcb to purge. The pcb itself is NOT deallocated!
1792:Middlewares/Third_Party/LwIP/src/core/tcp.c ****  */
1793:Middlewares/Third_Party/LwIP/src/core/tcp.c **** void
1794:Middlewares/Third_Party/LwIP/src/core/tcp.c **** tcp_pcb_remove(struct tcp_pcb **pcblist, struct tcp_pcb *pcb)
1795:Middlewares/Third_Party/LwIP/src/core/tcp.c **** {
 1796              		.loc 1 1795 0
 1797              		.cfi_startproc
 1798              		@ args = 0, pretend = 0, frame = 0
 1799              		@ frame_needed = 0, uses_anonymous_args = 0
 1800              	.LVL191:
 1801 0000 10B5     		push	{r4, lr}
 1802              	.LCFI20:
 1803              		.cfi_def_cfa_offset 8
 1804              		.cfi_offset 4, -8
 1805              		.cfi_offset 14, -4
 1806 0002 0C46     		mov	r4, r1
1796:Middlewares/Third_Party/LwIP/src/core/tcp.c ****   TCP_RMV(pcblist, pcb);
 1807              		.loc 1 1796 0
 1808 0004 0368     		ldr	r3, [r0]
 1809 0006 8B42     		cmp	r3, r1
 1810 0008 05D0     		beq	.L200
 1811              	.L194:
 1812              	.LVL192:
 1813              	.LBB12:
 1814              		.loc 1 1796 0 is_stmt 0 discriminator 8
 1815 000a 4BB1     		cbz	r3, .L195
 1816              		.loc 1 1796 0 discriminator 9
 1817 000c DA68     		ldr	r2, [r3, #12]
 1818 000e 9442     		cmp	r4, r2
 1819 0010 04D0     		beq	.L201
 1820              		.loc 1 1796 0
 1821 0012 1346     		mov	r3, r2
 1822              	.LVL193:
 1823 0014 F9E7     		b	.L194
 1824              	.L200:
 1825              	.LBE12:
 1826              		.loc 1 1796 0 discriminator 1
 1827 0016 DB68     		ldr	r3, [r3, #12]
 1828 0018 0360     		str	r3, [r0]
 1829 001a 01E0     		b	.L195
 1830              	.LVL194:
 1831              	.L201:
 1832              	.LBB13:
 1833              		.loc 1 1796 0 discriminator 5
 1834 001c E268     		ldr	r2, [r4, #12]
 1835 001e DA60     		str	r2, [r3, #12]
 1836              	.LVL195:
 1837              	.L195:
ARM GAS  C:\Users\Student\AppData\Local\Temp\ccY4weUp.s 			page 68


 1838              	.LBE13:
 1839              		.loc 1 1796 0 discriminator 10
 1840 0020 0023     		movs	r3, #0
 1841 0022 E360     		str	r3, [r4, #12]
1797:Middlewares/Third_Party/LwIP/src/core/tcp.c **** 
1798:Middlewares/Third_Party/LwIP/src/core/tcp.c ****   tcp_pcb_purge(pcb);
 1842              		.loc 1 1798 0 is_stmt 1 discriminator 10
 1843 0024 2046     		mov	r0, r4
 1844              	.LVL196:
 1845 0026 FFF7FEFF 		bl	tcp_pcb_purge
 1846              	.LVL197:
1799:Middlewares/Third_Party/LwIP/src/core/tcp.c **** 
1800:Middlewares/Third_Party/LwIP/src/core/tcp.c ****   /* if there is an outstanding delayed ACKs, send it */
1801:Middlewares/Third_Party/LwIP/src/core/tcp.c ****   if (pcb->state != TIME_WAIT &&
 1847              		.loc 1 1801 0 discriminator 10
 1848 002a 237D     		ldrb	r3, [r4, #20]	@ zero_extendqisi2
 1849 002c 0A2B     		cmp	r3, #10
 1850 002e 18BF     		it	ne
 1851 0030 012B     		cmpne	r3, #1
 1852 0032 03D0     		beq	.L197
1802:Middlewares/Third_Party/LwIP/src/core/tcp.c ****      pcb->state != LISTEN &&
1803:Middlewares/Third_Party/LwIP/src/core/tcp.c ****      pcb->flags & TF_ACK_DELAY) {
 1853              		.loc 1 1803 0
 1854 0034 A37E     		ldrb	r3, [r4, #26]	@ zero_extendqisi2
1802:Middlewares/Third_Party/LwIP/src/core/tcp.c ****      pcb->state != LISTEN &&
 1855              		.loc 1 1802 0
 1856 0036 13F0010F 		tst	r3, #1
 1857 003a 03D1     		bne	.L202
 1858              	.L197:
1804:Middlewares/Third_Party/LwIP/src/core/tcp.c ****     pcb->flags |= TF_ACK_NOW;
1805:Middlewares/Third_Party/LwIP/src/core/tcp.c ****     tcp_output(pcb);
1806:Middlewares/Third_Party/LwIP/src/core/tcp.c ****   }
1807:Middlewares/Third_Party/LwIP/src/core/tcp.c **** 
1808:Middlewares/Third_Party/LwIP/src/core/tcp.c ****   if (pcb->state != LISTEN) {
1809:Middlewares/Third_Party/LwIP/src/core/tcp.c ****     LWIP_ASSERT("unsent segments leaking", pcb->unsent == NULL);
1810:Middlewares/Third_Party/LwIP/src/core/tcp.c ****     LWIP_ASSERT("unacked segments leaking", pcb->unacked == NULL);
1811:Middlewares/Third_Party/LwIP/src/core/tcp.c **** #if TCP_QUEUE_OOSEQ
1812:Middlewares/Third_Party/LwIP/src/core/tcp.c ****     LWIP_ASSERT("ooseq segments leaking", pcb->ooseq == NULL);
1813:Middlewares/Third_Party/LwIP/src/core/tcp.c **** #endif /* TCP_QUEUE_OOSEQ */
1814:Middlewares/Third_Party/LwIP/src/core/tcp.c ****   }
1815:Middlewares/Third_Party/LwIP/src/core/tcp.c **** 
1816:Middlewares/Third_Party/LwIP/src/core/tcp.c ****   pcb->state = CLOSED;
 1859              		.loc 1 1816 0
 1860 003c 0023     		movs	r3, #0
 1861 003e 2375     		strb	r3, [r4, #20]
1817:Middlewares/Third_Party/LwIP/src/core/tcp.c ****   /* reset the local port to prevent the pcb from being 'bound' */
1818:Middlewares/Third_Party/LwIP/src/core/tcp.c ****   pcb->local_port = 0;
 1862              		.loc 1 1818 0
 1863 0040 E382     		strh	r3, [r4, #22]	@ movhi
 1864 0042 10BD     		pop	{r4, pc}
 1865              	.LVL198:
 1866              	.L202:
1804:Middlewares/Third_Party/LwIP/src/core/tcp.c ****     pcb->flags |= TF_ACK_NOW;
 1867              		.loc 1 1804 0
 1868 0044 43F00203 		orr	r3, r3, #2
 1869 0048 A376     		strb	r3, [r4, #26]
1805:Middlewares/Third_Party/LwIP/src/core/tcp.c ****   }
ARM GAS  C:\Users\Student\AppData\Local\Temp\ccY4weUp.s 			page 69


 1870              		.loc 1 1805 0
 1871 004a 2046     		mov	r0, r4
 1872 004c FFF7FEFF 		bl	tcp_output
 1873              	.LVL199:
 1874 0050 F4E7     		b	.L197
 1875              		.cfi_endproc
 1876              	.LFE174:
 1878              		.section	.text.tcp_close_shutdown,"ax",%progbits
 1879              		.align	1
 1880              		.syntax unified
 1881              		.thumb
 1882              		.thumb_func
 1883              		.fpu fpv5-sp-d16
 1885              	tcp_close_shutdown:
 1886              	.LFB140:
 260:Middlewares/Third_Party/LwIP/src/core/tcp.c ****   err_t err;
 1887              		.loc 1 260 0
 1888              		.cfi_startproc
 1889              		@ args = 0, pretend = 0, frame = 0
 1890              		@ frame_needed = 0, uses_anonymous_args = 0
 1891              	.LVL200:
 1892 0000 30B5     		push	{r4, r5, lr}
 1893              	.LCFI21:
 1894              		.cfi_def_cfa_offset 12
 1895              		.cfi_offset 4, -12
 1896              		.cfi_offset 5, -8
 1897              		.cfi_offset 14, -4
 1898 0002 83B0     		sub	sp, sp, #12
 1899              	.LCFI22:
 1900              		.cfi_def_cfa_offset 24
 1901 0004 0446     		mov	r4, r0
 263:Middlewares/Third_Party/LwIP/src/core/tcp.c ****     if ((pcb->refused_data != NULL) || (pcb->rcv_wnd != TCP_WND_MAX(pcb))) {
 1902              		.loc 1 263 0
 1903 0006 09B3     		cbz	r1, .L204
 263:Middlewares/Third_Party/LwIP/src/core/tcp.c ****     if ((pcb->refused_data != NULL) || (pcb->rcv_wnd != TCP_WND_MAX(pcb))) {
 1904              		.loc 1 263 0 is_stmt 0 discriminator 1
 1905 0008 037D     		ldrb	r3, [r0, #20]	@ zero_extendqisi2
 1906 000a 072B     		cmp	r3, #7
 1907 000c 18BF     		it	ne
 1908 000e 042B     		cmpne	r3, #4
 1909 0010 1CD1     		bne	.L204
 264:Middlewares/Third_Party/LwIP/src/core/tcp.c ****       /* Not all data received by application, send RST to tell the remote
 1910              		.loc 1 264 0 is_stmt 1
 1911 0012 436F     		ldr	r3, [r0, #116]
 1912 0014 B3B1     		cbz	r3, .L228
 1913              	.L205:
 271:Middlewares/Third_Party/LwIP/src/core/tcp.c ****                pcb->local_port, pcb->remote_port);
 1914              		.loc 1 271 0
 1915 0016 616A     		ldr	r1, [r4, #36]
 1916              	.LVL201:
 1917 0018 E06C     		ldr	r0, [r4, #76]
 1918              	.LVL202:
 1919 001a 238B     		ldrh	r3, [r4, #24]
 1920 001c 0193     		str	r3, [sp, #4]
 1921 001e E38A     		ldrh	r3, [r4, #22]
 1922 0020 0093     		str	r3, [sp]
 1923 0022 231D     		adds	r3, r4, #4
ARM GAS  C:\Users\Student\AppData\Local\Temp\ccY4weUp.s 			page 70


 1924 0024 2246     		mov	r2, r4
 1925 0026 FFF7FEFF 		bl	tcp_rst
 1926              	.LVL203:
 274:Middlewares/Third_Party/LwIP/src/core/tcp.c ****       TCP_RMV_ACTIVE(pcb);
 1927              		.loc 1 274 0
 1928 002a 2046     		mov	r0, r4
 1929 002c FFF7FEFF 		bl	tcp_pcb_purge
 1930              	.LVL204:
 275:Middlewares/Third_Party/LwIP/src/core/tcp.c ****       if (pcb->state == ESTABLISHED) {
 1931              		.loc 1 275 0
 1932 0030 4F4B     		ldr	r3, .L236
 1933 0032 1B68     		ldr	r3, [r3]
 1934 0034 9C42     		cmp	r4, r3
 1935 0036 13D0     		beq	.L229
 1936              	.L206:
 1937              	.LVL205:
 1938              	.LBB14:
 275:Middlewares/Third_Party/LwIP/src/core/tcp.c ****       if (pcb->state == ESTABLISHED) {
 1939              		.loc 1 275 0 is_stmt 0 discriminator 8
 1940 0038 C3B1     		cbz	r3, .L207
 275:Middlewares/Third_Party/LwIP/src/core/tcp.c ****       if (pcb->state == ESTABLISHED) {
 1941              		.loc 1 275 0 discriminator 9
 1942 003a DA68     		ldr	r2, [r3, #12]
 1943 003c 9442     		cmp	r4, r2
 1944 003e 13D0     		beq	.L230
 275:Middlewares/Third_Party/LwIP/src/core/tcp.c ****       if (pcb->state == ESTABLISHED) {
 1945              		.loc 1 275 0
 1946 0040 1346     		mov	r3, r2
 1947              	.LVL206:
 1948 0042 F9E7     		b	.L206
 1949              	.LVL207:
 1950              	.L228:
 1951              	.LBE14:
 264:Middlewares/Third_Party/LwIP/src/core/tcp.c ****       /* Not all data received by application, send RST to tell the remote
 1952              		.loc 1 264 0 is_stmt 1 discriminator 1
 1953 0044 038D     		ldrh	r3, [r0, #40]
 1954 0046 B3F5066F 		cmp	r3, #2144
 1955 004a E4D1     		bne	.L205
 1956              	.L204:
 293:Middlewares/Third_Party/LwIP/src/core/tcp.c ****   case CLOSED:
 1957              		.loc 1 293 0
 1958 004c 237D     		ldrb	r3, [r4, #20]	@ zero_extendqisi2
 1959 004e 072B     		cmp	r3, #7
 1960 0050 00F28780 		bhi	.L225
 1961 0054 DFE803F0 		tbb	[pc, r3]
 1962              	.L214:
 1963 0058 2A       		.byte	(.L213-.L214)/2
 1964 0059 4F       		.byte	(.L215-.L214)/2
 1965 005a 5D       		.byte	(.L216-.L214)/2
 1966 005b 6A       		.byte	(.L217-.L214)/2
 1967 005c 73       		.byte	(.L218-.L214)/2
 1968 005d 85       		.byte	(.L225-.L214)/2
 1969 005e 85       		.byte	(.L225-.L214)/2
 1970 005f 7C       		.byte	(.L219-.L214)/2
 1971              	.LVL208:
 1972              		.p2align 1
 1973              	.L229:
ARM GAS  C:\Users\Student\AppData\Local\Temp\ccY4weUp.s 			page 71


 275:Middlewares/Third_Party/LwIP/src/core/tcp.c ****       if (pcb->state == ESTABLISHED) {
 1974              		.loc 1 275 0 discriminator 1
 1975 0060 DA68     		ldr	r2, [r3, #12]
 1976 0062 434B     		ldr	r3, .L236
 1977 0064 1A60     		str	r2, [r3]
 1978 0066 01E0     		b	.L207
 1979              	.LVL209:
 1980              	.L230:
 1981              	.LBB15:
 275:Middlewares/Third_Party/LwIP/src/core/tcp.c ****       if (pcb->state == ESTABLISHED) {
 1982              		.loc 1 275 0 is_stmt 0 discriminator 5
 1983 0068 E268     		ldr	r2, [r4, #12]
 1984 006a DA60     		str	r2, [r3, #12]
 1985              	.LVL210:
 1986              	.L207:
 1987              	.LBE15:
 275:Middlewares/Third_Party/LwIP/src/core/tcp.c ****       if (pcb->state == ESTABLISHED) {
 1988              		.loc 1 275 0 discriminator 10
 1989 006c 0023     		movs	r3, #0
 1990 006e E360     		str	r3, [r4, #12]
 1991 0070 0122     		movs	r2, #1
 1992 0072 404B     		ldr	r3, .L236+4
 1993 0074 1A70     		strb	r2, [r3]
 276:Middlewares/Third_Party/LwIP/src/core/tcp.c ****         /* move to TIME_WAIT since we close actively */
 1994              		.loc 1 276 0 is_stmt 1 discriminator 10
 1995 0076 237D     		ldrb	r3, [r4, #20]	@ zero_extendqisi2
 1996 0078 042B     		cmp	r3, #4
 1997 007a 09D0     		beq	.L231
 282:Middlewares/Third_Party/LwIP/src/core/tcp.c ****           /* prevent using a deallocated pcb: free it from tcp_input later */
 1998              		.loc 1 282 0
 1999 007c 3E4B     		ldr	r3, .L236+8
 2000 007e 1B68     		ldr	r3, [r3]
 2001 0080 9C42     		cmp	r4, r3
 2002 0082 0FD0     		beq	.L232
 286:Middlewares/Third_Party/LwIP/src/core/tcp.c ****         }
 2003              		.loc 1 286 0
 2004 0084 2146     		mov	r1, r4
 2005 0086 0120     		movs	r0, #1
 2006 0088 FFF7FEFF 		bl	memp_free
 2007              	.LVL211:
 289:Middlewares/Third_Party/LwIP/src/core/tcp.c ****     }
 2008              		.loc 1 289 0
 2009 008c 0025     		movs	r5, #0
 2010 008e 2FE0     		b	.L210
 2011              	.L231:
 278:Middlewares/Third_Party/LwIP/src/core/tcp.c ****         TCP_REG(&tcp_tw_pcbs, pcb);
 2012              		.loc 1 278 0
 2013 0090 0A23     		movs	r3, #10
 2014 0092 2375     		strb	r3, [r4, #20]
 279:Middlewares/Third_Party/LwIP/src/core/tcp.c ****       } else {
 2015              		.loc 1 279 0
 2016 0094 394B     		ldr	r3, .L236+12
 2017 0096 1A68     		ldr	r2, [r3]
 2018 0098 E260     		str	r2, [r4, #12]
 2019 009a 1C60     		str	r4, [r3]
 2020 009c FFF7FEFF 		bl	tcp_timer_needed
 2021              	.LVL212:
ARM GAS  C:\Users\Student\AppData\Local\Temp\ccY4weUp.s 			page 72


 289:Middlewares/Third_Party/LwIP/src/core/tcp.c ****     }
 2022              		.loc 1 289 0
 2023 00a0 0025     		movs	r5, #0
 2024 00a2 25E0     		b	.L210
 2025              	.L232:
 284:Middlewares/Third_Party/LwIP/src/core/tcp.c ****         } else {
 2026              		.loc 1 284 0
 2027 00a4 FFF7FEFF 		bl	tcp_trigger_input_pcb_close
 2028              	.LVL213:
 289:Middlewares/Third_Party/LwIP/src/core/tcp.c ****     }
 2029              		.loc 1 289 0
 2030 00a8 0025     		movs	r5, #0
 2031 00aa 21E0     		b	.L210
 2032              	.LVL214:
 2033              	.L213:
 303:Middlewares/Third_Party/LwIP/src/core/tcp.c ****       TCP_RMV(&tcp_bound_pcbs, pcb);
 2034              		.loc 1 303 0
 2035 00ac E38A     		ldrh	r3, [r4, #22]
 2036 00ae 8BB1     		cbz	r3, .L220
 304:Middlewares/Third_Party/LwIP/src/core/tcp.c ****     }
 2037              		.loc 1 304 0
 2038 00b0 334B     		ldr	r3, .L236+16
 2039 00b2 1B68     		ldr	r3, [r3]
 2040 00b4 9C42     		cmp	r4, r3
 2041 00b6 05D0     		beq	.L233
 2042              	.L221:
 2043              	.LVL215:
 2044              	.LBB16:
 304:Middlewares/Third_Party/LwIP/src/core/tcp.c ****     }
 2045              		.loc 1 304 0 is_stmt 0 discriminator 8
 2046 00b8 53B1     		cbz	r3, .L222
 304:Middlewares/Third_Party/LwIP/src/core/tcp.c ****     }
 2047              		.loc 1 304 0 discriminator 9
 2048 00ba DA68     		ldr	r2, [r3, #12]
 2049 00bc 9442     		cmp	r4, r2
 2050 00be 05D0     		beq	.L234
 304:Middlewares/Third_Party/LwIP/src/core/tcp.c ****     }
 2051              		.loc 1 304 0
 2052 00c0 1346     		mov	r3, r2
 2053              	.LVL216:
 2054 00c2 F9E7     		b	.L221
 2055              	.L233:
 2056              	.LBE16:
 304:Middlewares/Third_Party/LwIP/src/core/tcp.c ****     }
 2057              		.loc 1 304 0 discriminator 1
 2058 00c4 DA68     		ldr	r2, [r3, #12]
 2059 00c6 2E4B     		ldr	r3, .L236+16
 2060 00c8 1A60     		str	r2, [r3]
 2061 00ca 01E0     		b	.L222
 2062              	.LVL217:
 2063              	.L234:
 2064              	.LBB17:
 304:Middlewares/Third_Party/LwIP/src/core/tcp.c ****     }
 2065              		.loc 1 304 0 discriminator 5
 2066 00cc E268     		ldr	r2, [r4, #12]
 2067 00ce DA60     		str	r2, [r3, #12]
 2068              	.LVL218:
ARM GAS  C:\Users\Student\AppData\Local\Temp\ccY4weUp.s 			page 73


 2069              	.L222:
 2070              	.LBE17:
 304:Middlewares/Third_Party/LwIP/src/core/tcp.c ****     }
 2071              		.loc 1 304 0 discriminator 10
 2072 00d0 0023     		movs	r3, #0
 2073 00d2 E360     		str	r3, [r4, #12]
 2074              	.L220:
 306:Middlewares/Third_Party/LwIP/src/core/tcp.c ****     pcb = NULL;
 2075              		.loc 1 306 0 is_stmt 1
 2076 00d4 2146     		mov	r1, r4
 2077              	.LVL219:
 2078 00d6 0120     		movs	r0, #1
 2079              	.LVL220:
 2080 00d8 FFF7FEFF 		bl	memp_free
 2081              	.LVL221:
 302:Middlewares/Third_Party/LwIP/src/core/tcp.c ****     if (pcb->local_port != 0) {
 2082              		.loc 1 302 0
 2083 00dc 0024     		movs	r4, #0
 307:Middlewares/Third_Party/LwIP/src/core/tcp.c ****     break;
 2084              		.loc 1 307 0
 2085 00de 2546     		mov	r5, r4
 2086              	.LVL222:
 2087              	.L212:
 352:Middlewares/Third_Party/LwIP/src/core/tcp.c ****     /* To ensure all data has been sent when tcp_close returns, we have
 2088              		.loc 1 352 0
 2089 00e0 231C     		adds	r3, r4, #0
 2090 00e2 18BF     		it	ne
 2091 00e4 0123     		movne	r3, #1
 2092 00e6 002D     		cmp	r5, #0
 2093 00e8 18BF     		it	ne
 2094 00ea 0023     		movne	r3, #0
 2095 00ec 002B     		cmp	r3, #0
 2096 00ee 3BD1     		bne	.L235
 2097              	.LVL223:
 2098              	.L210:
 361:Middlewares/Third_Party/LwIP/src/core/tcp.c **** 
 2099              		.loc 1 361 0
 2100 00f0 2846     		mov	r0, r5
 2101 00f2 03B0     		add	sp, sp, #12
 2102              	.LCFI23:
 2103              		.cfi_remember_state
 2104              		.cfi_def_cfa_offset 12
 2105              		@ sp needed
 2106 00f4 30BD     		pop	{r4, r5, pc}
 2107              	.LVL224:
 2108              	.L215:
 2109              	.LCFI24:
 2110              		.cfi_restore_state
 311:Middlewares/Third_Party/LwIP/src/core/tcp.c ****     tcp_pcb_remove(&tcp_listen_pcbs.pcbs, pcb);
 2111              		.loc 1 311 0
 2112 00f6 2046     		mov	r0, r4
 2113              	.LVL225:
 2114 00f8 FFF7FEFF 		bl	tcp_listen_closed
 2115              	.LVL226:
 312:Middlewares/Third_Party/LwIP/src/core/tcp.c ****     memp_free(MEMP_TCP_PCB_LISTEN, pcb);
 2116              		.loc 1 312 0
 2117 00fc 2146     		mov	r1, r4
ARM GAS  C:\Users\Student\AppData\Local\Temp\ccY4weUp.s 			page 74


 2118 00fe 2148     		ldr	r0, .L236+20
 2119 0100 FFF7FEFF 		bl	tcp_pcb_remove
 2120              	.LVL227:
 313:Middlewares/Third_Party/LwIP/src/core/tcp.c ****     pcb = NULL;
 2121              		.loc 1 313 0
 2122 0104 2146     		mov	r1, r4
 2123 0106 0220     		movs	r0, #2
 2124 0108 FFF7FEFF 		bl	memp_free
 2125              	.LVL228:
 310:Middlewares/Third_Party/LwIP/src/core/tcp.c ****     tcp_listen_closed(pcb);
 2126              		.loc 1 310 0
 2127 010c 0024     		movs	r4, #0
 314:Middlewares/Third_Party/LwIP/src/core/tcp.c ****     break;
 2128              		.loc 1 314 0
 2129 010e 2546     		mov	r5, r4
 315:Middlewares/Third_Party/LwIP/src/core/tcp.c ****   case SYN_SENT:
 2130              		.loc 1 315 0
 2131 0110 E6E7     		b	.L212
 2132              	.LVL229:
 2133              	.L216:
 318:Middlewares/Third_Party/LwIP/src/core/tcp.c ****     memp_free(MEMP_TCP_PCB, pcb);
 2134              		.loc 1 318 0
 2135 0112 2146     		mov	r1, r4
 2136              	.LVL230:
 2137 0114 1648     		ldr	r0, .L236
 2138              	.LVL231:
 2139 0116 FFF7FEFF 		bl	tcp_pcb_remove
 2140              	.LVL232:
 2141 011a 0120     		movs	r0, #1
 2142 011c 154B     		ldr	r3, .L236+4
 2143 011e 1870     		strb	r0, [r3]
 319:Middlewares/Third_Party/LwIP/src/core/tcp.c ****     pcb = NULL;
 2144              		.loc 1 319 0
 2145 0120 2146     		mov	r1, r4
 2146 0122 FFF7FEFF 		bl	memp_free
 2147              	.LVL233:
 317:Middlewares/Third_Party/LwIP/src/core/tcp.c ****     TCP_PCB_REMOVE_ACTIVE(pcb);
 2148              		.loc 1 317 0
 2149 0126 0024     		movs	r4, #0
 320:Middlewares/Third_Party/LwIP/src/core/tcp.c ****     MIB2_STATS_INC(mib2.tcpattemptfails);
 2150              		.loc 1 320 0
 2151 0128 2546     		mov	r5, r4
 322:Middlewares/Third_Party/LwIP/src/core/tcp.c ****   case SYN_RCVD:
 2152              		.loc 1 322 0
 2153 012a D9E7     		b	.L212
 2154              	.LVL234:
 2155              	.L217:
 324:Middlewares/Third_Party/LwIP/src/core/tcp.c ****     if (err == ERR_OK) {
 2156              		.loc 1 324 0
 2157 012c 2046     		mov	r0, r4
 2158              	.LVL235:
 2159 012e FFF7FEFF 		bl	tcp_send_fin
 2160              	.LVL236:
 325:Middlewares/Third_Party/LwIP/src/core/tcp.c ****       tcp_backlog_accepted(pcb);
 2161              		.loc 1 325 0
 2162 0132 0546     		mov	r5, r0
 2163 0134 0028     		cmp	r0, #0
ARM GAS  C:\Users\Student\AppData\Local\Temp\ccY4weUp.s 			page 75


 2164 0136 D3D1     		bne	.L212
 328:Middlewares/Third_Party/LwIP/src/core/tcp.c ****     }
 2165              		.loc 1 328 0
 2166 0138 0523     		movs	r3, #5
 2167 013a 2375     		strb	r3, [r4, #20]
 2168 013c D0E7     		b	.L212
 2169              	.LVL237:
 2170              	.L218:
 332:Middlewares/Third_Party/LwIP/src/core/tcp.c ****     if (err == ERR_OK) {
 2171              		.loc 1 332 0
 2172 013e 2046     		mov	r0, r4
 2173              	.LVL238:
 2174 0140 FFF7FEFF 		bl	tcp_send_fin
 2175              	.LVL239:
 333:Middlewares/Third_Party/LwIP/src/core/tcp.c ****       MIB2_STATS_INC(mib2.tcpestabresets);
 2176              		.loc 1 333 0
 2177 0144 0546     		mov	r5, r0
 2178 0146 0028     		cmp	r0, #0
 2179 0148 CAD1     		bne	.L212
 335:Middlewares/Third_Party/LwIP/src/core/tcp.c ****     }
 2180              		.loc 1 335 0
 2181 014a 0523     		movs	r3, #5
 2182 014c 2375     		strb	r3, [r4, #20]
 2183 014e C7E7     		b	.L212
 2184              	.LVL240:
 2185              	.L219:
 339:Middlewares/Third_Party/LwIP/src/core/tcp.c ****     if (err == ERR_OK) {
 2186              		.loc 1 339 0
 2187 0150 2046     		mov	r0, r4
 2188              	.LVL241:
 2189 0152 FFF7FEFF 		bl	tcp_send_fin
 2190              	.LVL242:
 340:Middlewares/Third_Party/LwIP/src/core/tcp.c ****       MIB2_STATS_INC(mib2.tcpestabresets);
 2191              		.loc 1 340 0
 2192 0156 0546     		mov	r5, r0
 2193 0158 0028     		cmp	r0, #0
 2194 015a C1D1     		bne	.L212
 342:Middlewares/Third_Party/LwIP/src/core/tcp.c ****     }
 2195              		.loc 1 342 0
 2196 015c 0923     		movs	r3, #9
 2197 015e 2375     		strb	r3, [r4, #20]
 2198 0160 BEE7     		b	.L212
 2199              	.LVL243:
 2200              	.L225:
 347:Middlewares/Third_Party/LwIP/src/core/tcp.c ****     pcb = NULL;
 2201              		.loc 1 347 0
 2202 0162 0025     		movs	r5, #0
 348:Middlewares/Third_Party/LwIP/src/core/tcp.c ****     break;
 2203              		.loc 1 348 0
 2204 0164 2C46     		mov	r4, r5
 2205 0166 BBE7     		b	.L212
 2206              	.LVL244:
 2207              	.L235:
 358:Middlewares/Third_Party/LwIP/src/core/tcp.c ****   }
 2208              		.loc 1 358 0
 2209 0168 2046     		mov	r0, r4
 2210 016a FFF7FEFF 		bl	tcp_output
ARM GAS  C:\Users\Student\AppData\Local\Temp\ccY4weUp.s 			page 76


 2211              	.LVL245:
 2212 016e BFE7     		b	.L210
 2213              	.L237:
 2214              		.align	2
 2215              	.L236:
 2216 0170 00000000 		.word	tcp_active_pcbs
 2217 0174 00000000 		.word	tcp_active_pcbs_changed
 2218 0178 00000000 		.word	tcp_input_pcb
 2219 017c 00000000 		.word	tcp_tw_pcbs
 2220 0180 00000000 		.word	tcp_bound_pcbs
 2221 0184 00000000 		.word	tcp_listen_pcbs
 2222              		.cfi_endproc
 2223              	.LFE140:
 2225              		.section	.text.tcp_close,"ax",%progbits
 2226              		.align	1
 2227              		.global	tcp_close
 2228              		.syntax unified
 2229              		.thumb
 2230              		.thumb_func
 2231              		.fpu fpv5-sp-d16
 2233              	tcp_close:
 2234              	.LFB141:
 380:Middlewares/Third_Party/LwIP/src/core/tcp.c ****   LWIP_DEBUGF(TCP_DEBUG, ("tcp_close: closing in "));
 2235              		.loc 1 380 0
 2236              		.cfi_startproc
 2237              		@ args = 0, pretend = 0, frame = 0
 2238              		@ frame_needed = 0, uses_anonymous_args = 0
 2239              	.LVL246:
 2240 0000 08B5     		push	{r3, lr}
 2241              	.LCFI25:
 2242              		.cfi_def_cfa_offset 8
 2243              		.cfi_offset 3, -8
 2244              		.cfi_offset 14, -4
 384:Middlewares/Third_Party/LwIP/src/core/tcp.c ****     /* Set a flag not to receive any more data... */
 2245              		.loc 1 384 0
 2246 0002 037D     		ldrb	r3, [r0, #20]	@ zero_extendqisi2
 2247 0004 012B     		cmp	r3, #1
 2248 0006 03D0     		beq	.L239
 386:Middlewares/Third_Party/LwIP/src/core/tcp.c ****   }
 2249              		.loc 1 386 0
 2250 0008 837E     		ldrb	r3, [r0, #26]	@ zero_extendqisi2
 2251 000a 43F01003 		orr	r3, r3, #16
 2252 000e 8376     		strb	r3, [r0, #26]
 2253              	.L239:
 389:Middlewares/Third_Party/LwIP/src/core/tcp.c **** }
 2254              		.loc 1 389 0
 2255 0010 0121     		movs	r1, #1
 2256 0012 FFF7FEFF 		bl	tcp_close_shutdown
 2257              	.LVL247:
 390:Middlewares/Third_Party/LwIP/src/core/tcp.c **** 
 2258              		.loc 1 390 0
 2259 0016 08BD     		pop	{r3, pc}
 2260              		.cfi_endproc
 2261              	.LFE141:
 2263              		.section	.text.tcp_recv_null,"ax",%progbits
 2264              		.align	1
 2265              		.global	tcp_recv_null
ARM GAS  C:\Users\Student\AppData\Local\Temp\ccY4weUp.s 			page 77


 2266              		.syntax unified
 2267              		.thumb
 2268              		.thumb_func
 2269              		.fpu fpv5-sp-d16
 2271              	tcp_recv_null:
 2272              	.LFB160:
1381:Middlewares/Third_Party/LwIP/src/core/tcp.c ****   LWIP_UNUSED_ARG(arg);
 2273              		.loc 1 1381 0
 2274              		.cfi_startproc
 2275              		@ args = 0, pretend = 0, frame = 0
 2276              		@ frame_needed = 0, uses_anonymous_args = 0
 2277              	.LVL248:
 2278 0000 10B5     		push	{r4, lr}
 2279              	.LCFI26:
 2280              		.cfi_def_cfa_offset 8
 2281              		.cfi_offset 4, -8
 2282              		.cfi_offset 14, -4
 2283 0002 0846     		mov	r0, r1
 2284              	.LVL249:
1383:Middlewares/Third_Party/LwIP/src/core/tcp.c ****     tcp_recved(pcb, p->tot_len);
 2285              		.loc 1 1383 0
 2286 0004 42B1     		cbz	r2, .L242
 2287 0006 1446     		mov	r4, r2
1384:Middlewares/Third_Party/LwIP/src/core/tcp.c ****     pbuf_free(p);
 2288              		.loc 1 1384 0
 2289 0008 1189     		ldrh	r1, [r2, #8]
 2290              	.LVL250:
 2291 000a FFF7FEFF 		bl	tcp_recved
 2292              	.LVL251:
1385:Middlewares/Third_Party/LwIP/src/core/tcp.c ****   } else if (err == ERR_OK) {
 2293              		.loc 1 1385 0
 2294 000e 2046     		mov	r0, r4
 2295 0010 FFF7FEFF 		bl	pbuf_free
 2296              	.LVL252:
1389:Middlewares/Third_Party/LwIP/src/core/tcp.c **** }
 2297              		.loc 1 1389 0
 2298 0014 0020     		movs	r0, #0
 2299 0016 10BD     		pop	{r4, pc}
 2300              	.LVL253:
 2301              	.L242:
1386:Middlewares/Third_Party/LwIP/src/core/tcp.c ****     return tcp_close(pcb);
 2302              		.loc 1 1386 0
 2303 0018 0BB1     		cbz	r3, .L246
1389:Middlewares/Third_Party/LwIP/src/core/tcp.c **** }
 2304              		.loc 1 1389 0
 2305 001a 0020     		movs	r0, #0
 2306              	.LVL254:
1390:Middlewares/Third_Party/LwIP/src/core/tcp.c **** #endif /* LWIP_CALLBACK_API */
 2307              		.loc 1 1390 0
 2308 001c 10BD     		pop	{r4, pc}
 2309              	.LVL255:
 2310              	.L246:
1387:Middlewares/Third_Party/LwIP/src/core/tcp.c ****   }
 2311              		.loc 1 1387 0
 2312 001e FFF7FEFF 		bl	tcp_close
 2313              	.LVL256:
 2314 0022 10BD     		pop	{r4, pc}
ARM GAS  C:\Users\Student\AppData\Local\Temp\ccY4weUp.s 			page 78


 2315              		.cfi_endproc
 2316              	.LFE160:
 2318              		.section	.text.tcp_process_refused_data,"ax",%progbits
 2319              		.align	1
 2320              		.global	tcp_process_refused_data
 2321              		.syntax unified
 2322              		.thumb
 2323              		.thumb_func
 2324              		.fpu fpv5-sp-d16
 2326              	tcp_process_refused_data:
 2327              	.LFB155:
1248:Middlewares/Third_Party/LwIP/src/core/tcp.c **** #if TCP_QUEUE_OOSEQ && LWIP_WND_SCALE
 2328              		.loc 1 1248 0
 2329              		.cfi_startproc
 2330              		@ args = 0, pretend = 0, frame = 0
 2331              		@ frame_needed = 0, uses_anonymous_args = 0
 2332              	.LVL257:
 2333 0000 F8B5     		push	{r3, r4, r5, r6, r7, lr}
 2334              	.LCFI27:
 2335              		.cfi_def_cfa_offset 24
 2336              		.cfi_offset 3, -24
 2337              		.cfi_offset 4, -20
 2338              		.cfi_offset 5, -16
 2339              		.cfi_offset 6, -12
 2340              		.cfi_offset 7, -8
 2341              		.cfi_offset 14, -4
 2342 0002 0446     		mov	r4, r0
 2343              	.LBB18:
1255:Middlewares/Third_Party/LwIP/src/core/tcp.c ****     /* set pcb->refused_data to NULL in case the callback frees it and then
 2344              		.loc 1 1255 0
 2345 0004 466F     		ldr	r6, [r0, #116]
 2346 0006 777B     		ldrb	r7, [r6, #13]	@ zero_extendqisi2
 2347              	.LVL258:
1263:Middlewares/Third_Party/LwIP/src/core/tcp.c **** #endif /* TCP_QUEUE_OOSEQ && LWIP_WND_SCALE */
 2348              		.loc 1 1263 0
 2349 0008 0023     		movs	r3, #0
 2350 000a 4367     		str	r3, [r0, #116]
1267:Middlewares/Third_Party/LwIP/src/core/tcp.c ****     if (err == ERR_OK) {
 2351              		.loc 1 1267 0
 2352 000c D0F88050 		ldr	r5, [r0, #128]
 2353 0010 DDB1     		cbz	r5, .L248
1267:Middlewares/Third_Party/LwIP/src/core/tcp.c ****     if (err == ERR_OK) {
 2354              		.loc 1 1267 0 is_stmt 0 discriminator 1
 2355 0012 3246     		mov	r2, r6
 2356 0014 0146     		mov	r1, r0
 2357 0016 0069     		ldr	r0, [r0, #16]
 2358              	.LVL259:
 2359 0018 A847     		blx	r5
 2360              	.LVL260:
 2361 001a 0546     		mov	r5, r0
 2362              	.LVL261:
 2363              	.L249:
1268:Middlewares/Third_Party/LwIP/src/core/tcp.c ****       /* did refused_data include a FIN? */
 2364              		.loc 1 1268 0 is_stmt 1
 2365 001c FDB9     		cbnz	r5, .L250
1270:Middlewares/Third_Party/LwIP/src/core/tcp.c **** #if TCP_QUEUE_OOSEQ && LWIP_WND_SCALE
 2366              		.loc 1 1270 0
ARM GAS  C:\Users\Student\AppData\Local\Temp\ccY4weUp.s 			page 79


 2367 001e 17F0200F 		tst	r7, #32
 2368 0022 22D0     		beq	.L251
1277:Middlewares/Third_Party/LwIP/src/core/tcp.c ****           pcb->rcv_wnd++;
 2369              		.loc 1 1277 0
 2370 0024 238D     		ldrh	r3, [r4, #40]
 2371 0026 B3F5066F 		cmp	r3, #2144
 2372 002a 01D0     		beq	.L252
1278:Middlewares/Third_Party/LwIP/src/core/tcp.c ****         }
 2373              		.loc 1 1278 0
 2374 002c 0133     		adds	r3, r3, #1
 2375 002e 2385     		strh	r3, [r4, #40]	@ movhi
 2376              	.L252:
1280:Middlewares/Third_Party/LwIP/src/core/tcp.c ****         if (err == ERR_ABRT) {
 2377              		.loc 1 1280 0
 2378 0030 D4F88060 		ldr	r6, [r4, #128]
 2379              	.LVL262:
 2380 0034 8EB1     		cbz	r6, .L254
1280:Middlewares/Third_Party/LwIP/src/core/tcp.c ****         if (err == ERR_ABRT) {
 2381              		.loc 1 1280 0 is_stmt 0 discriminator 1
 2382 0036 0023     		movs	r3, #0
 2383 0038 1A46     		mov	r2, r3
 2384 003a 2146     		mov	r1, r4
 2385 003c 2069     		ldr	r0, [r4, #16]
 2386 003e B047     		blx	r6
 2387              	.LVL263:
 2388              	.L253:
1281:Middlewares/Third_Party/LwIP/src/core/tcp.c ****           return ERR_ABRT;
 2389              		.loc 1 1281 0 is_stmt 1
 2390 0040 10F10D0F 		cmn	r0, #13
 2391 0044 11D1     		bne	.L251
1282:Middlewares/Third_Party/LwIP/src/core/tcp.c ****         }
 2392              		.loc 1 1282 0
 2393 0046 0546     		mov	r5, r0
 2394 0048 0FE0     		b	.L251
 2395              	.LVL264:
 2396              	.L248:
1267:Middlewares/Third_Party/LwIP/src/core/tcp.c ****     if (err == ERR_OK) {
 2397              		.loc 1 1267 0 discriminator 2
 2398 004a 0023     		movs	r3, #0
 2399 004c 3246     		mov	r2, r6
 2400 004e 0146     		mov	r1, r0
 2401 0050 1846     		mov	r0, r3
 2402              	.LVL265:
 2403 0052 FFF7FEFF 		bl	tcp_recv_null
 2404              	.LVL266:
 2405 0056 0546     		mov	r5, r0
 2406              	.LVL267:
 2407 0058 E0E7     		b	.L249
 2408              	.LVL268:
 2409              	.L254:
1280:Middlewares/Third_Party/LwIP/src/core/tcp.c ****         if (err == ERR_ABRT) {
 2410              		.loc 1 1280 0
 2411 005a 2846     		mov	r0, r5
 2412 005c F0E7     		b	.L253
 2413              	.LVL269:
 2414              	.L250:
1285:Middlewares/Third_Party/LwIP/src/core/tcp.c ****       /* if err == ERR_ABRT, 'pcb' is already deallocated */
ARM GAS  C:\Users\Student\AppData\Local\Temp\ccY4weUp.s 			page 80


 2415              		.loc 1 1285 0
 2416 005e 15F10D0F 		cmn	r5, #13
 2417 0062 02D0     		beq	.L251
1298:Middlewares/Third_Party/LwIP/src/core/tcp.c ****       return ERR_INPROGRESS;
 2418              		.loc 1 1298 0
 2419 0064 6667     		str	r6, [r4, #116]
1299:Middlewares/Third_Party/LwIP/src/core/tcp.c ****     }
 2420              		.loc 1 1299 0
 2421 0066 6FF00405 		mvn	r5, #4
 2422              	.LVL270:
 2423              	.L251:
 2424              	.LBE18:
1303:Middlewares/Third_Party/LwIP/src/core/tcp.c **** 
 2425              		.loc 1 1303 0
 2426 006a 2846     		mov	r0, r5
 2427 006c F8BD     		pop	{r3, r4, r5, r6, r7, pc}
 2428              		.cfi_endproc
 2429              	.LFE155:
 2431              		.section	.text.tcp_fasttmr,"ax",%progbits
 2432              		.align	1
 2433              		.global	tcp_fasttmr
 2434              		.syntax unified
 2435              		.thumb
 2436              		.thumb_func
 2437              		.fpu fpv5-sp-d16
 2439              	tcp_fasttmr:
 2440              	.LFB153:
1194:Middlewares/Third_Party/LwIP/src/core/tcp.c ****   struct tcp_pcb *pcb;
 2441              		.loc 1 1194 0
 2442              		.cfi_startproc
 2443              		@ args = 0, pretend = 0, frame = 0
 2444              		@ frame_needed = 0, uses_anonymous_args = 0
 2445 0000 70B5     		push	{r4, r5, r6, lr}
 2446              	.LCFI28:
 2447              		.cfi_def_cfa_offset 16
 2448              		.cfi_offset 4, -16
 2449              		.cfi_offset 5, -12
 2450              		.cfi_offset 6, -8
 2451              		.cfi_offset 14, -4
1197:Middlewares/Third_Party/LwIP/src/core/tcp.c **** 
 2452              		.loc 1 1197 0
 2453 0002 174A     		ldr	r2, .L266
 2454 0004 1378     		ldrb	r3, [r2]	@ zero_extendqisi2
 2455 0006 0133     		adds	r3, r3, #1
 2456 0008 1370     		strb	r3, [r2]
 2457              	.L257:
1200:Middlewares/Third_Party/LwIP/src/core/tcp.c **** 
 2458              		.loc 1 1200 0
 2459 000a 164B     		ldr	r3, .L266+4
 2460 000c 1C68     		ldr	r4, [r3]
 2461              	.LVL271:
1202:Middlewares/Third_Party/LwIP/src/core/tcp.c ****     if (pcb->last_timer != tcp_timer_ctr) {
 2462              		.loc 1 1202 0
 2463 000e 0CE0     		b	.L258
 2464              	.L265:
 2465              	.LBB19:
1209:Middlewares/Third_Party/LwIP/src/core/tcp.c ****         tcp_output(pcb);
ARM GAS  C:\Users\Student\AppData\Local\Temp\ccY4weUp.s 			page 81


 2466              		.loc 1 1209 0
 2467 0010 43F00203 		orr	r3, r3, #2
 2468 0014 A376     		strb	r3, [r4, #26]
1210:Middlewares/Third_Party/LwIP/src/core/tcp.c ****         pcb->flags &= ~(TF_ACK_DELAY | TF_ACK_NOW);
 2469              		.loc 1 1210 0
 2470 0016 2046     		mov	r0, r4
 2471 0018 FFF7FEFF 		bl	tcp_output
 2472              	.LVL272:
1211:Middlewares/Third_Party/LwIP/src/core/tcp.c ****       }
 2473              		.loc 1 1211 0
 2474 001c A37E     		ldrb	r3, [r4, #26]	@ zero_extendqisi2
 2475 001e 23F00303 		bic	r3, r3, #3
 2476 0022 A376     		strb	r3, [r4, #26]
 2477 0024 0CE0     		b	.L260
 2478              	.L259:
 2479              	.LBE19:
1227:Middlewares/Third_Party/LwIP/src/core/tcp.c ****     }
 2480              		.loc 1 1227 0
 2481 0026 E568     		ldr	r5, [r4, #12]
 2482              	.LVL273:
 2483              	.L261:
1194:Middlewares/Third_Party/LwIP/src/core/tcp.c ****   struct tcp_pcb *pcb;
 2484              		.loc 1 1194 0
 2485 0028 2C46     		mov	r4, r5
 2486              	.L258:
 2487              	.LVL274:
1202:Middlewares/Third_Party/LwIP/src/core/tcp.c ****     if (pcb->last_timer != tcp_timer_ctr) {
 2488              		.loc 1 1202 0
 2489 002a BCB1     		cbz	r4, .L264
1203:Middlewares/Third_Party/LwIP/src/core/tcp.c ****       struct tcp_pcb *next;
 2490              		.loc 1 1203 0
 2491 002c 627F     		ldrb	r2, [r4, #29]	@ zero_extendqisi2
 2492 002e 0C4B     		ldr	r3, .L266
 2493 0030 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 2494 0032 9A42     		cmp	r2, r3
 2495 0034 F7D0     		beq	.L259
 2496              	.LBB20:
1205:Middlewares/Third_Party/LwIP/src/core/tcp.c ****       /* send delayed ACKs */
 2497              		.loc 1 1205 0
 2498 0036 6377     		strb	r3, [r4, #29]
1207:Middlewares/Third_Party/LwIP/src/core/tcp.c ****         LWIP_DEBUGF(TCP_DEBUG, ("tcp_fasttmr: delayed ACK\n"));
 2499              		.loc 1 1207 0
 2500 0038 A37E     		ldrb	r3, [r4, #26]	@ zero_extendqisi2
 2501 003a 13F0010F 		tst	r3, #1
 2502 003e E7D1     		bne	.L265
 2503              	.L260:
1214:Middlewares/Third_Party/LwIP/src/core/tcp.c **** 
 2504              		.loc 1 1214 0
 2505 0040 E568     		ldr	r5, [r4, #12]
 2506              	.LVL275:
1217:Middlewares/Third_Party/LwIP/src/core/tcp.c ****         tcp_active_pcbs_changed = 0;
 2507              		.loc 1 1217 0
 2508 0042 636F     		ldr	r3, [r4, #116]
 2509 0044 002B     		cmp	r3, #0
 2510 0046 EFD0     		beq	.L261
1218:Middlewares/Third_Party/LwIP/src/core/tcp.c ****         tcp_process_refused_data(pcb);
 2511              		.loc 1 1218 0
ARM GAS  C:\Users\Student\AppData\Local\Temp\ccY4weUp.s 			page 82


 2512 0048 074E     		ldr	r6, .L266+8
 2513 004a 0023     		movs	r3, #0
 2514 004c 3370     		strb	r3, [r6]
1219:Middlewares/Third_Party/LwIP/src/core/tcp.c ****         if (tcp_active_pcbs_changed) {
 2515              		.loc 1 1219 0
 2516 004e 2046     		mov	r0, r4
 2517 0050 FFF7FEFF 		bl	tcp_process_refused_data
 2518              	.LVL276:
1220:Middlewares/Third_Party/LwIP/src/core/tcp.c ****           /* application callback has changed the pcb list: restart the loop */
 2519              		.loc 1 1220 0
 2520 0054 3378     		ldrb	r3, [r6]	@ zero_extendqisi2
 2521 0056 002B     		cmp	r3, #0
 2522 0058 E6D0     		beq	.L261
 2523 005a D6E7     		b	.L257
 2524              	.LVL277:
 2525              	.L264:
 2526              	.LBE20:
1230:Middlewares/Third_Party/LwIP/src/core/tcp.c **** 
 2527              		.loc 1 1230 0
 2528 005c 70BD     		pop	{r4, r5, r6, pc}
 2529              	.LVL278:
 2530              	.L267:
 2531 005e 00BF     		.align	2
 2532              	.L266:
 2533 0060 00000000 		.word	.LANCHOR2
 2534 0064 00000000 		.word	tcp_active_pcbs
 2535 0068 00000000 		.word	tcp_active_pcbs_changed
 2536              		.cfi_endproc
 2537              	.LFE153:
 2539              		.section	.text.tcp_tmr,"ax",%progbits
 2540              		.align	1
 2541              		.global	tcp_tmr
 2542              		.syntax unified
 2543              		.thumb
 2544              		.thumb_func
 2545              		.fpu fpv5-sp-d16
 2547              	tcp_tmr:
 2548              	.LFB137:
 151:Middlewares/Third_Party/LwIP/src/core/tcp.c ****   /* Call tcp_fasttmr() every 250 ms */
 2549              		.loc 1 151 0
 2550              		.cfi_startproc
 2551              		@ args = 0, pretend = 0, frame = 0
 2552              		@ frame_needed = 0, uses_anonymous_args = 0
 2553 0000 08B5     		push	{r3, lr}
 2554              	.LCFI29:
 2555              		.cfi_def_cfa_offset 8
 2556              		.cfi_offset 3, -8
 2557              		.cfi_offset 14, -4
 153:Middlewares/Third_Party/LwIP/src/core/tcp.c **** 
 2558              		.loc 1 153 0
 2559 0002 FFF7FEFF 		bl	tcp_fasttmr
 2560              	.LVL279:
 155:Middlewares/Third_Party/LwIP/src/core/tcp.c ****     /* Call tcp_slowtmr() every 500 ms, i.e., every other timer
 2561              		.loc 1 155 0
 2562 0006 064A     		ldr	r2, .L272
 2563 0008 1378     		ldrb	r3, [r2]	@ zero_extendqisi2
 2564 000a 0133     		adds	r3, r3, #1
ARM GAS  C:\Users\Student\AppData\Local\Temp\ccY4weUp.s 			page 83


 2565 000c DBB2     		uxtb	r3, r3
 2566 000e 1370     		strb	r3, [r2]
 2567 0010 13F0010F 		tst	r3, #1
 2568 0014 00D1     		bne	.L271
 2569              	.L268:
 2570 0016 08BD     		pop	{r3, pc}
 2571              	.L271:
 158:Middlewares/Third_Party/LwIP/src/core/tcp.c ****   }
 2572              		.loc 1 158 0
 2573 0018 FFF7FEFF 		bl	tcp_slowtmr
 2574              	.LVL280:
 160:Middlewares/Third_Party/LwIP/src/core/tcp.c **** 
 2575              		.loc 1 160 0
 2576 001c FBE7     		b	.L268
 2577              	.L273:
 2578 001e 00BF     		.align	2
 2579              	.L272:
 2580 0020 00000000 		.word	.LANCHOR5
 2581              		.cfi_endproc
 2582              	.LFE137:
 2584              		.section	.text.tcp_shutdown,"ax",%progbits
 2585              		.align	1
 2586              		.global	tcp_shutdown
 2587              		.syntax unified
 2588              		.thumb
 2589              		.thumb_func
 2590              		.fpu fpv5-sp-d16
 2592              	tcp_shutdown:
 2593              	.LFB142:
 407:Middlewares/Third_Party/LwIP/src/core/tcp.c ****   if (pcb->state == LISTEN) {
 2594              		.loc 1 407 0
 2595              		.cfi_startproc
 2596              		@ args = 0, pretend = 0, frame = 0
 2597              		@ frame_needed = 0, uses_anonymous_args = 0
 2598              	.LVL281:
 408:Middlewares/Third_Party/LwIP/src/core/tcp.c ****     return ERR_CONN;
 2599              		.loc 1 408 0
 2600 0000 037D     		ldrb	r3, [r0, #20]	@ zero_extendqisi2
 2601 0002 012B     		cmp	r3, #1
 2602 0004 20D0     		beq	.L279
 407:Middlewares/Third_Party/LwIP/src/core/tcp.c ****   if (pcb->state == LISTEN) {
 2603              		.loc 1 407 0
 2604 0006 70B5     		push	{r4, r5, r6, lr}
 2605              	.LCFI30:
 2606              		.cfi_def_cfa_offset 16
 2607              		.cfi_offset 4, -16
 2608              		.cfi_offset 5, -12
 2609              		.cfi_offset 6, -8
 2610              		.cfi_offset 14, -4
 2611 0008 1646     		mov	r6, r2
 2612 000a 0D46     		mov	r5, r1
 2613 000c 0446     		mov	r4, r0
 411:Middlewares/Third_Party/LwIP/src/core/tcp.c ****     /* shut down the receive side: set a flag not to receive any more data... */
 2614              		.loc 1 411 0
 2615 000e 51B1     		cbz	r1, .L276
 413:Middlewares/Third_Party/LwIP/src/core/tcp.c ****     if (shut_tx) {
 2616              		.loc 1 413 0
ARM GAS  C:\Users\Student\AppData\Local\Temp\ccY4weUp.s 			page 84


 2617 0010 837E     		ldrb	r3, [r0, #26]	@ zero_extendqisi2
 2618 0012 43F01003 		orr	r3, r3, #16
 2619 0016 8376     		strb	r3, [r0, #26]
 414:Middlewares/Third_Party/LwIP/src/core/tcp.c ****       /* shutting down the tx AND rx side is the same as closing for the raw API */
 2620              		.loc 1 414 0
 2621 0018 92B9     		cbnz	r2, .L286
 419:Middlewares/Third_Party/LwIP/src/core/tcp.c ****       pbuf_free(pcb->refused_data);
 2622              		.loc 1 419 0
 2623 001a 406F     		ldr	r0, [r0, #116]
 2624              	.LVL282:
 2625 001c 18B1     		cbz	r0, .L276
 420:Middlewares/Third_Party/LwIP/src/core/tcp.c ****       pcb->refused_data = NULL;
 2626              		.loc 1 420 0
 2627 001e FFF7FEFF 		bl	pbuf_free
 2628              	.LVL283:
 421:Middlewares/Third_Party/LwIP/src/core/tcp.c ****     }
 2629              		.loc 1 421 0
 2630 0022 0023     		movs	r3, #0
 2631 0024 6367     		str	r3, [r4, #116]
 2632              	.L276:
 424:Middlewares/Third_Party/LwIP/src/core/tcp.c ****     /* This can't happen twice since if it succeeds, the pcb's state is changed.
 2633              		.loc 1 424 0
 2634 0026 96B1     		cbz	r6, .L280
 427:Middlewares/Third_Party/LwIP/src/core/tcp.c ****     case SYN_RCVD:
 2635              		.loc 1 427 0
 2636 0028 237D     		ldrb	r3, [r4, #20]	@ zero_extendqisi2
 2637 002a 032B     		cmp	r3, #3
 2638 002c 11D3     		bcc	.L281
 2639 002e 042B     		cmp	r3, #4
 2640 0030 01D9     		bls	.L278
 2641 0032 072B     		cmp	r3, #7
 2642 0034 0DD1     		bne	.L281
 2643              	.L278:
 431:Middlewares/Third_Party/LwIP/src/core/tcp.c ****     default:
 2644              		.loc 1 431 0
 2645 0036 E9B2     		uxtb	r1, r5
 2646 0038 2046     		mov	r0, r4
 2647 003a FFF7FEFF 		bl	tcp_close_shutdown
 2648              	.LVL284:
 2649 003e 70BD     		pop	{r4, r5, r6, pc}
 2650              	.LVL285:
 2651              	.L286:
 416:Middlewares/Third_Party/LwIP/src/core/tcp.c ****     }
 2652              		.loc 1 416 0
 2653 0040 0121     		movs	r1, #1
 2654              	.LVL286:
 2655 0042 FFF7FEFF 		bl	tcp_close_shutdown
 2656              	.LVL287:
 2657 0046 70BD     		pop	{r4, r5, r6, pc}
 2658              	.LVL288:
 2659              	.L279:
 2660              	.LCFI31:
 2661              		.cfi_def_cfa_offset 0
 2662              		.cfi_restore 4
 2663              		.cfi_restore 5
 2664              		.cfi_restore 6
 2665              		.cfi_restore 14
ARM GAS  C:\Users\Student\AppData\Local\Temp\ccY4weUp.s 			page 85


 409:Middlewares/Third_Party/LwIP/src/core/tcp.c ****   }
 2666              		.loc 1 409 0
 2667 0048 6FF00A00 		mvn	r0, #10
 2668              	.LVL289:
 2669 004c 7047     		bx	lr
 2670              	.LVL290:
 2671              	.L280:
 2672              	.LCFI32:
 2673              		.cfi_def_cfa_offset 16
 2674              		.cfi_offset 4, -16
 2675              		.cfi_offset 5, -12
 2676              		.cfi_offset 6, -8
 2677              		.cfi_offset 14, -4
 438:Middlewares/Third_Party/LwIP/src/core/tcp.c **** }
 2678              		.loc 1 438 0
 2679 004e 0020     		movs	r0, #0
 2680 0050 70BD     		pop	{r4, r5, r6, pc}
 2681              	.LVL291:
 2682              	.L281:
 435:Middlewares/Third_Party/LwIP/src/core/tcp.c ****     }
 2683              		.loc 1 435 0
 2684 0052 6FF00A00 		mvn	r0, #10
 439:Middlewares/Third_Party/LwIP/src/core/tcp.c **** 
 2685              		.loc 1 439 0
 2686 0056 70BD     		pop	{r4, r5, r6, pc}
 2687              		.cfi_endproc
 2688              	.LFE142:
 2690              		.section	.text.tcp_abandon,"ax",%progbits
 2691              		.align	1
 2692              		.global	tcp_abandon
 2693              		.syntax unified
 2694              		.thumb
 2695              		.thumb_func
 2696              		.fpu fpv5-sp-d16
 2698              	tcp_abandon:
 2699              	.LFB143:
 451:Middlewares/Third_Party/LwIP/src/core/tcp.c ****   u32_t seqno, ackno;
 2700              		.loc 1 451 0
 2701              		.cfi_startproc
 2702              		@ args = 0, pretend = 0, frame = 0
 2703              		@ frame_needed = 0, uses_anonymous_args = 0
 2704              	.LVL292:
 2705 0000 2DE9F047 		push	{r4, r5, r6, r7, r8, r9, r10, lr}
 2706              	.LCFI33:
 2707              		.cfi_def_cfa_offset 32
 2708              		.cfi_offset 4, -32
 2709              		.cfi_offset 5, -28
 2710              		.cfi_offset 6, -24
 2711              		.cfi_offset 7, -20
 2712              		.cfi_offset 8, -16
 2713              		.cfi_offset 9, -12
 2714              		.cfi_offset 10, -8
 2715              		.cfi_offset 14, -4
 2716 0004 82B0     		sub	sp, sp, #8
 2717              	.LCFI34:
 2718              		.cfi_def_cfa_offset 40
 2719 0006 0446     		mov	r4, r0
ARM GAS  C:\Users\Student\AppData\Local\Temp\ccY4weUp.s 			page 86


 459:Middlewares/Third_Party/LwIP/src/core/tcp.c ****     pcb->state != LISTEN);
 2720              		.loc 1 459 0
 2721 0008 037D     		ldrb	r3, [r0, #20]	@ zero_extendqisi2
 464:Middlewares/Third_Party/LwIP/src/core/tcp.c ****     tcp_pcb_remove(&tcp_tw_pcbs, pcb);
 2722              		.loc 1 464 0
 2723 000a 0A2B     		cmp	r3, #10
 2724 000c 18D0     		beq	.L302
 2725 000e 0D46     		mov	r5, r1
 2726              	.LVL293:
 2727              	.LBB21:
 470:Middlewares/Third_Party/LwIP/src/core/tcp.c ****     ackno = pcb->rcv_nxt;
 2728              		.loc 1 470 0
 2729 0010 D0F84C80 		ldr	r8, [r0, #76]
 2730              	.LVL294:
 471:Middlewares/Third_Party/LwIP/src/core/tcp.c **** #if LWIP_CALLBACK_API
 2731              		.loc 1 471 0
 2732 0014 D0F82490 		ldr	r9, [r0, #36]
 2733              	.LVL295:
 473:Middlewares/Third_Party/LwIP/src/core/tcp.c **** #endif /* LWIP_CALLBACK_API */
 2734              		.loc 1 473 0
 2735 0018 D0F88C60 		ldr	r6, [r0, #140]
 2736              	.LVL296:
 475:Middlewares/Third_Party/LwIP/src/core/tcp.c ****     if (pcb->state == CLOSED) {
 2737              		.loc 1 475 0
 2738 001c 0769     		ldr	r7, [r0, #16]
 2739              	.LVL297:
 476:Middlewares/Third_Party/LwIP/src/core/tcp.c ****       if (pcb->local_port != 0) {
 2740              		.loc 1 476 0
 2741 001e 002B     		cmp	r3, #0
 2742 0020 39D1     		bne	.L290
 477:Middlewares/Third_Party/LwIP/src/core/tcp.c ****         /* bound, not yet opened */
 2743              		.loc 1 477 0
 2744 0022 B0F816A0 		ldrh	r10, [r0, #22]
 2745 0026 BAF1000F 		cmp	r10, #0
 2746 002a 3ED0     		beq	.L299
 479:Middlewares/Third_Party/LwIP/src/core/tcp.c ****       }
 2747              		.loc 1 479 0
 2748 002c 254B     		ldr	r3, .L306
 2749 002e 1B68     		ldr	r3, [r3]
 2750 0030 9842     		cmp	r0, r3
 2751 0032 0ED0     		beq	.L303
 2752              	.L292:
 2753              	.LVL298:
 2754              	.LBB22:
 479:Middlewares/Third_Party/LwIP/src/core/tcp.c ****       }
 2755              		.loc 1 479 0 is_stmt 0 discriminator 8
 2756 0034 9BB1     		cbz	r3, .L293
 479:Middlewares/Third_Party/LwIP/src/core/tcp.c ****       }
 2757              		.loc 1 479 0 discriminator 9
 2758 0036 DA68     		ldr	r2, [r3, #12]
 2759 0038 9442     		cmp	r4, r2
 2760 003a 0ED0     		beq	.L304
 479:Middlewares/Third_Party/LwIP/src/core/tcp.c ****       }
 2761              		.loc 1 479 0
 2762 003c 1346     		mov	r3, r2
 2763              	.LVL299:
 2764 003e F9E7     		b	.L292
ARM GAS  C:\Users\Student\AppData\Local\Temp\ccY4weUp.s 			page 87


 2765              	.LVL300:
 2766              	.L302:
 2767              	.LBE22:
 2768              	.LBE21:
 465:Middlewares/Third_Party/LwIP/src/core/tcp.c ****     memp_free(MEMP_TCP_PCB, pcb);
 2769              		.loc 1 465 0 is_stmt 1
 2770 0040 0146     		mov	r1, r0
 2771              	.LVL301:
 2772 0042 2148     		ldr	r0, .L306+4
 2773              	.LVL302:
 2774 0044 FFF7FEFF 		bl	tcp_pcb_remove
 2775              	.LVL303:
 466:Middlewares/Third_Party/LwIP/src/core/tcp.c ****   } else {
 2776              		.loc 1 466 0
 2777 0048 2146     		mov	r1, r4
 2778 004a 0120     		movs	r0, #1
 2779 004c FFF7FEFF 		bl	memp_free
 2780              	.LVL304:
 2781 0050 1EE0     		b	.L287
 2782              	.LVL305:
 2783              	.L303:
 2784              	.LBB24:
 479:Middlewares/Third_Party/LwIP/src/core/tcp.c ****       }
 2785              		.loc 1 479 0 discriminator 1
 2786 0052 DA68     		ldr	r2, [r3, #12]
 2787 0054 1B4B     		ldr	r3, .L306
 2788 0056 1A60     		str	r2, [r3]
 2789 0058 01E0     		b	.L293
 2790              	.LVL306:
 2791              	.L304:
 2792              	.LBB23:
 479:Middlewares/Third_Party/LwIP/src/core/tcp.c ****       }
 2793              		.loc 1 479 0 is_stmt 0 discriminator 5
 2794 005a E268     		ldr	r2, [r4, #12]
 2795 005c DA60     		str	r2, [r3, #12]
 2796              	.LVL307:
 2797              	.L293:
 2798              	.LBE23:
 479:Middlewares/Third_Party/LwIP/src/core/tcp.c ****       }
 2799              		.loc 1 479 0 discriminator 10
 2800 005e 0025     		movs	r5, #0
 2801 0060 E560     		str	r5, [r4, #12]
 469:Middlewares/Third_Party/LwIP/src/core/tcp.c ****     seqno = pcb->snd_nxt;
 2802              		.loc 1 469 0 is_stmt 1 discriminator 10
 2803 0062 AA46     		mov	r10, r5
 2804              	.LVL308:
 2805              	.L291:
 486:Middlewares/Third_Party/LwIP/src/core/tcp.c ****       tcp_segs_free(pcb->unacked);
 2806              		.loc 1 486 0
 2807 0064 E06E     		ldr	r0, [r4, #108]
 2808 0066 08B1     		cbz	r0, .L295
 487:Middlewares/Third_Party/LwIP/src/core/tcp.c ****     }
 2809              		.loc 1 487 0
 2810 0068 FFF7FEFF 		bl	tcp_segs_free
 2811              	.LVL309:
 2812              	.L295:
 489:Middlewares/Third_Party/LwIP/src/core/tcp.c ****       tcp_segs_free(pcb->unsent);
ARM GAS  C:\Users\Student\AppData\Local\Temp\ccY4weUp.s 			page 88


 2813              		.loc 1 489 0
 2814 006c A06E     		ldr	r0, [r4, #104]
 2815 006e 08B1     		cbz	r0, .L296
 490:Middlewares/Third_Party/LwIP/src/core/tcp.c ****     }
 2816              		.loc 1 490 0
 2817 0070 FFF7FEFF 		bl	tcp_segs_free
 2818              	.LVL310:
 2819              	.L296:
 493:Middlewares/Third_Party/LwIP/src/core/tcp.c ****       tcp_segs_free(pcb->ooseq);
 2820              		.loc 1 493 0
 2821 0074 206F     		ldr	r0, [r4, #112]
 2822 0076 08B1     		cbz	r0, .L297
 494:Middlewares/Third_Party/LwIP/src/core/tcp.c ****     }
 2823              		.loc 1 494 0
 2824 0078 FFF7FEFF 		bl	tcp_segs_free
 2825              	.LVL311:
 2826              	.L297:
 498:Middlewares/Third_Party/LwIP/src/core/tcp.c ****       LWIP_DEBUGF(TCP_RST_DEBUG, ("tcp_abandon: sending RST\n"));
 2827              		.loc 1 498 0
 2828 007c BDB9     		cbnz	r5, .L305
 2829              	.L298:
 502:Middlewares/Third_Party/LwIP/src/core/tcp.c ****     TCP_EVENT_ERR(errf, errf_arg, ERR_ABRT);
 2830              		.loc 1 502 0
 2831 007e 2146     		mov	r1, r4
 2832 0080 0120     		movs	r0, #1
 2833 0082 FFF7FEFF 		bl	memp_free
 2834              	.LVL312:
 503:Middlewares/Third_Party/LwIP/src/core/tcp.c ****   }
 2835              		.loc 1 503 0
 2836 0086 1EB1     		cbz	r6, .L287
 503:Middlewares/Third_Party/LwIP/src/core/tcp.c ****   }
 2837              		.loc 1 503 0 is_stmt 0 discriminator 1
 2838 0088 6FF00C01 		mvn	r1, #12
 2839 008c 3846     		mov	r0, r7
 2840 008e B047     		blx	r6
 2841              	.LVL313:
 2842              	.L287:
 2843              	.LBE24:
 505:Middlewares/Third_Party/LwIP/src/core/tcp.c **** 
 2844              		.loc 1 505 0 is_stmt 1
 2845 0090 02B0     		add	sp, sp, #8
 2846              	.LCFI35:
 2847              		.cfi_remember_state
 2848              		.cfi_def_cfa_offset 32
 2849              		@ sp needed
 2850 0092 BDE8F087 		pop	{r4, r5, r6, r7, r8, r9, r10, pc}
 2851              	.LVL314:
 2852              	.L290:
 2853              	.LCFI36:
 2854              		.cfi_restore_state
 2855              	.LBB25:
 483:Middlewares/Third_Party/LwIP/src/core/tcp.c ****       TCP_PCB_REMOVE_ACTIVE(pcb);
 2856              		.loc 1 483 0
 2857 0096 B0F816A0 		ldrh	r10, [r0, #22]
 2858              	.LVL315:
 484:Middlewares/Third_Party/LwIP/src/core/tcp.c ****     }
 2859              		.loc 1 484 0
ARM GAS  C:\Users\Student\AppData\Local\Temp\ccY4weUp.s 			page 89


 2860 009a 0146     		mov	r1, r0
 2861              	.LVL316:
 2862 009c 0B48     		ldr	r0, .L306+8
 2863              	.LVL317:
 2864 009e FFF7FEFF 		bl	tcp_pcb_remove
 2865              	.LVL318:
 2866 00a2 0122     		movs	r2, #1
 2867 00a4 0A4B     		ldr	r3, .L306+12
 2868 00a6 1A70     		strb	r2, [r3]
 2869 00a8 DCE7     		b	.L291
 2870              	.LVL319:
 2871              	.L299:
 468:Middlewares/Third_Party/LwIP/src/core/tcp.c ****     u16_t local_port = 0;
 2872              		.loc 1 468 0
 2873 00aa 0025     		movs	r5, #0
 2874 00ac DAE7     		b	.L291
 2875              	.LVL320:
 2876              	.L305:
 500:Middlewares/Third_Party/LwIP/src/core/tcp.c ****     }
 2877              		.loc 1 500 0
 2878 00ae 238B     		ldrh	r3, [r4, #24]
 2879 00b0 0193     		str	r3, [sp, #4]
 2880 00b2 CDF800A0 		str	r10, [sp]
 2881 00b6 231D     		adds	r3, r4, #4
 2882 00b8 2246     		mov	r2, r4
 2883 00ba 4946     		mov	r1, r9
 2884 00bc 4046     		mov	r0, r8
 2885 00be FFF7FEFF 		bl	tcp_rst
 2886              	.LVL321:
 2887 00c2 DCE7     		b	.L298
 2888              	.L307:
 2889              		.align	2
 2890              	.L306:
 2891 00c4 00000000 		.word	tcp_bound_pcbs
 2892 00c8 00000000 		.word	tcp_tw_pcbs
 2893 00cc 00000000 		.word	tcp_active_pcbs
 2894 00d0 00000000 		.word	tcp_active_pcbs_changed
 2895              	.LBE25:
 2896              		.cfi_endproc
 2897              	.LFE143:
 2899              		.section	.text.tcp_abort,"ax",%progbits
 2900              		.align	1
 2901              		.global	tcp_abort
 2902              		.syntax unified
 2903              		.thumb
 2904              		.thumb_func
 2905              		.fpu fpv5-sp-d16
 2907              	tcp_abort:
 2908              	.LFB144:
 520:Middlewares/Third_Party/LwIP/src/core/tcp.c ****   tcp_abandon(pcb, 1);
 2909              		.loc 1 520 0
 2910              		.cfi_startproc
 2911              		@ args = 0, pretend = 0, frame = 0
 2912              		@ frame_needed = 0, uses_anonymous_args = 0
 2913              	.LVL322:
 2914 0000 08B5     		push	{r3, lr}
 2915              	.LCFI37:
ARM GAS  C:\Users\Student\AppData\Local\Temp\ccY4weUp.s 			page 90


 2916              		.cfi_def_cfa_offset 8
 2917              		.cfi_offset 3, -8
 2918              		.cfi_offset 14, -4
 521:Middlewares/Third_Party/LwIP/src/core/tcp.c **** }
 2919              		.loc 1 521 0
 2920 0002 0121     		movs	r1, #1
 2921 0004 FFF7FEFF 		bl	tcp_abandon
 2922              	.LVL323:
 2923 0008 08BD     		pop	{r3, pc}
 2924              		.cfi_endproc
 2925              	.LFE144:
 2927              		.section	.text.tcp_accept_null,"ax",%progbits
 2928              		.align	1
 2929              		.syntax unified
 2930              		.thumb
 2931              		.thumb_func
 2932              		.fpu fpv5-sp-d16
 2934              	tcp_accept_null:
 2935              	.LFB146:
 616:Middlewares/Third_Party/LwIP/src/core/tcp.c ****   LWIP_UNUSED_ARG(arg);
 2936              		.loc 1 616 0
 2937              		.cfi_startproc
 2938              		@ args = 0, pretend = 0, frame = 0
 2939              		@ frame_needed = 0, uses_anonymous_args = 0
 2940              	.LVL324:
 2941 0000 08B5     		push	{r3, lr}
 2942              	.LCFI38:
 2943              		.cfi_def_cfa_offset 8
 2944              		.cfi_offset 3, -8
 2945              		.cfi_offset 14, -4
 620:Middlewares/Third_Party/LwIP/src/core/tcp.c **** 
 2946              		.loc 1 620 0
 2947 0002 0846     		mov	r0, r1
 2948              	.LVL325:
 2949 0004 FFF7FEFF 		bl	tcp_abort
 2950              	.LVL326:
 623:Middlewares/Third_Party/LwIP/src/core/tcp.c **** #endif /* LWIP_CALLBACK_API */
 2951              		.loc 1 623 0
 2952 0008 6FF00C00 		mvn	r0, #12
 2953 000c 08BD     		pop	{r3, pc}
 2954              		.cfi_endproc
 2955              	.LFE146:
 2957              		.section	.text.tcp_kill_timewait,"ax",%progbits
 2958              		.align	1
 2959              		.syntax unified
 2960              		.thumb
 2961              		.thumb_func
 2962              		.fpu fpv5-sp-d16
 2964              	tcp_kill_timewait:
 2965              	.LFB163:
1464:Middlewares/Third_Party/LwIP/src/core/tcp.c ****   struct tcp_pcb *pcb, *inactive;
 2966              		.loc 1 1464 0
 2967              		.cfi_startproc
 2968              		@ args = 0, pretend = 0, frame = 0
 2969              		@ frame_needed = 0, uses_anonymous_args = 0
 2970 0000 10B5     		push	{r4, lr}
 2971              	.LCFI39:
ARM GAS  C:\Users\Student\AppData\Local\Temp\ccY4weUp.s 			page 91


 2972              		.cfi_def_cfa_offset 8
 2973              		.cfi_offset 4, -8
 2974              		.cfi_offset 14, -4
 2975              	.LVL327:
1471:Middlewares/Third_Party/LwIP/src/core/tcp.c ****     if ((u32_t)(tcp_ticks - pcb->tmr) >= inactivity) {
 2976              		.loc 1 1471 0
 2977 0002 0A4B     		ldr	r3, .L320
 2978 0004 1B68     		ldr	r3, [r3]
 2979              	.LVL328:
1468:Middlewares/Third_Party/LwIP/src/core/tcp.c ****   inactive = NULL;
 2980              		.loc 1 1468 0
 2981 0006 0024     		movs	r4, #0
1469:Middlewares/Third_Party/LwIP/src/core/tcp.c ****   /* Go through the list of TIME_WAIT pcbs and get the oldest pcb. */
 2982              		.loc 1 1469 0
 2983 0008 2046     		mov	r0, r4
1471:Middlewares/Third_Party/LwIP/src/core/tcp.c ****     if ((u32_t)(tcp_ticks - pcb->tmr) >= inactivity) {
 2984              		.loc 1 1471 0
 2985 000a 00E0     		b	.L313
 2986              	.LVL329:
 2987              	.L314:
1471:Middlewares/Third_Party/LwIP/src/core/tcp.c ****     if ((u32_t)(tcp_ticks - pcb->tmr) >= inactivity) {
 2988              		.loc 1 1471 0 is_stmt 0 discriminator 2
 2989 000c DB68     		ldr	r3, [r3, #12]
 2990              	.LVL330:
 2991              	.L313:
1471:Middlewares/Third_Party/LwIP/src/core/tcp.c ****     if ((u32_t)(tcp_ticks - pcb->tmr) >= inactivity) {
 2992              		.loc 1 1471 0 discriminator 1
 2993 000e 43B1     		cbz	r3, .L319
1472:Middlewares/Third_Party/LwIP/src/core/tcp.c ****       inactivity = tcp_ticks - pcb->tmr;
 2994              		.loc 1 1472 0 is_stmt 1
 2995 0010 196A     		ldr	r1, [r3, #32]
 2996 0012 074A     		ldr	r2, .L320+4
 2997 0014 1268     		ldr	r2, [r2]
 2998 0016 521A     		subs	r2, r2, r1
 2999 0018 9442     		cmp	r4, r2
 3000 001a F7D8     		bhi	.L314
1473:Middlewares/Third_Party/LwIP/src/core/tcp.c ****       inactive = pcb;
 3001              		.loc 1 1473 0
 3002 001c 1446     		mov	r4, r2
 3003              	.LVL331:
1474:Middlewares/Third_Party/LwIP/src/core/tcp.c ****     }
 3004              		.loc 1 1474 0
 3005 001e 1846     		mov	r0, r3
 3006              	.LVL332:
 3007 0020 F4E7     		b	.L314
 3008              	.LVL333:
 3009              	.L319:
1477:Middlewares/Third_Party/LwIP/src/core/tcp.c ****     LWIP_DEBUGF(TCP_DEBUG, ("tcp_kill_timewait: killing oldest TIME-WAIT PCB %p (%"S32_F")\n",
 3010              		.loc 1 1477 0
 3011 0022 08B1     		cbz	r0, .L312
1480:Middlewares/Third_Party/LwIP/src/core/tcp.c ****   }
 3012              		.loc 1 1480 0
 3013 0024 FFF7FEFF 		bl	tcp_abort
 3014              	.LVL334:
 3015              	.L312:
 3016 0028 10BD     		pop	{r4, pc}
 3017              	.LVL335:
ARM GAS  C:\Users\Student\AppData\Local\Temp\ccY4weUp.s 			page 92


 3018              	.L321:
 3019 002a 00BF     		.align	2
 3020              	.L320:
 3021 002c 00000000 		.word	tcp_tw_pcbs
 3022 0030 00000000 		.word	tcp_ticks
 3023              		.cfi_endproc
 3024              	.LFE163:
 3026              		.section	.text.tcp_kill_prio,"ax",%progbits
 3027              		.align	1
 3028              		.syntax unified
 3029              		.thumb
 3030              		.thumb_func
 3031              		.fpu fpv5-sp-d16
 3033              	tcp_kill_prio:
 3034              	.LFB161:
1401:Middlewares/Third_Party/LwIP/src/core/tcp.c ****   struct tcp_pcb *pcb, *inactive;
 3035              		.loc 1 1401 0
 3036              		.cfi_startproc
 3037              		@ args = 0, pretend = 0, frame = 0
 3038              		@ frame_needed = 0, uses_anonymous_args = 0
 3039              	.LVL336:
 3040 0000 70B5     		push	{r4, r5, r6, lr}
 3041              	.LCFI40:
 3042              		.cfi_def_cfa_offset 16
 3043              		.cfi_offset 4, -16
 3044              		.cfi_offset 5, -12
 3045              		.cfi_offset 6, -8
 3046              		.cfi_offset 14, -4
 3047 0002 0246     		mov	r2, r0
1406:Middlewares/Third_Party/LwIP/src/core/tcp.c **** 
 3048              		.loc 1 1406 0
 3049 0004 10F0800F 		tst	r0, #128
 3050 0008 00D0     		beq	.L323
 3051 000a 7F22     		movs	r2, #127
 3052              	.L323:
 3053              	.LVL337:
1411:Middlewares/Third_Party/LwIP/src/core/tcp.c ****     if (pcb->prio <= mprio &&
 3054              		.loc 1 1411 0 discriminator 4
 3055 000c 0B4B     		ldr	r3, .L331
 3056 000e 1B68     		ldr	r3, [r3]
 3057              	.LVL338:
1409:Middlewares/Third_Party/LwIP/src/core/tcp.c ****   inactive = NULL;
 3058              		.loc 1 1409 0 discriminator 4
 3059 0010 0024     		movs	r4, #0
1410:Middlewares/Third_Party/LwIP/src/core/tcp.c ****   for (pcb = tcp_active_pcbs; pcb != NULL; pcb = pcb->next) {
 3060              		.loc 1 1410 0 discriminator 4
 3061 0012 2046     		mov	r0, r4
 3062              	.LVL339:
 3063              	.L324:
1411:Middlewares/Third_Party/LwIP/src/core/tcp.c ****     if (pcb->prio <= mprio &&
 3064              		.loc 1 1411 0 discriminator 1
 3065 0014 1BB9     		cbnz	r3, .L326
1419:Middlewares/Third_Party/LwIP/src/core/tcp.c ****     LWIP_DEBUGF(TCP_DEBUG, ("tcp_kill_prio: killing oldest PCB %p (%"S32_F")\n",
 3066              		.loc 1 1419 0
 3067 0016 08B1     		cbz	r0, .L322
1422:Middlewares/Third_Party/LwIP/src/core/tcp.c ****   }
 3068              		.loc 1 1422 0
ARM GAS  C:\Users\Student\AppData\Local\Temp\ccY4weUp.s 			page 93


 3069 0018 FFF7FEFF 		bl	tcp_abort
 3070              	.LVL340:
 3071              	.L322:
 3072 001c 70BD     		pop	{r4, r5, r6, pc}
 3073              	.LVL341:
 3074              	.L326:
1412:Middlewares/Third_Party/LwIP/src/core/tcp.c ****        (u32_t)(tcp_ticks - pcb->tmr) >= inactivity) {
 3075              		.loc 1 1412 0
 3076 001e 5D7D     		ldrb	r5, [r3, #21]	@ zero_extendqisi2
 3077 0020 AA42     		cmp	r2, r5
 3078 0022 08D3     		bcc	.L325
1413:Middlewares/Third_Party/LwIP/src/core/tcp.c ****       inactivity = tcp_ticks - pcb->tmr;
 3079              		.loc 1 1413 0 discriminator 1
 3080 0024 1E6A     		ldr	r6, [r3, #32]
 3081 0026 0649     		ldr	r1, .L331+4
 3082 0028 0968     		ldr	r1, [r1]
 3083 002a 891B     		subs	r1, r1, r6
1412:Middlewares/Third_Party/LwIP/src/core/tcp.c ****        (u32_t)(tcp_ticks - pcb->tmr) >= inactivity) {
 3084              		.loc 1 1412 0 discriminator 1
 3085 002c 8C42     		cmp	r4, r1
 3086 002e 02D8     		bhi	.L325
1416:Middlewares/Third_Party/LwIP/src/core/tcp.c ****     }
 3087              		.loc 1 1416 0
 3088 0030 2A46     		mov	r2, r5
 3089              	.LVL342:
1414:Middlewares/Third_Party/LwIP/src/core/tcp.c ****       inactive = pcb;
 3090              		.loc 1 1414 0
 3091 0032 0C46     		mov	r4, r1
 3092              	.LVL343:
1415:Middlewares/Third_Party/LwIP/src/core/tcp.c ****       mprio = pcb->prio;
 3093              		.loc 1 1415 0
 3094 0034 1846     		mov	r0, r3
 3095              	.LVL344:
 3096              	.L325:
1411:Middlewares/Third_Party/LwIP/src/core/tcp.c ****     if (pcb->prio <= mprio &&
 3097              		.loc 1 1411 0 discriminator 2
 3098 0036 DB68     		ldr	r3, [r3, #12]
 3099              	.LVL345:
 3100 0038 ECE7     		b	.L324
 3101              	.L332:
 3102 003a 00BF     		.align	2
 3103              	.L331:
 3104 003c 00000000 		.word	tcp_active_pcbs
 3105 0040 00000000 		.word	tcp_ticks
 3106              		.cfi_endproc
 3107              	.LFE161:
 3109              		.section	.text.tcp_netif_ip_addr_changed_pcblist,"ax",%progbits
 3110              		.align	1
 3111              		.syntax unified
 3112              		.thumb
 3113              		.thumb_func
 3114              		.fpu fpv5-sp-d16
 3116              	tcp_netif_ip_addr_changed_pcblist:
 3117              	.LFB177:
1819:Middlewares/Third_Party/LwIP/src/core/tcp.c **** 
1820:Middlewares/Third_Party/LwIP/src/core/tcp.c ****   LWIP_ASSERT("tcp_pcb_remove: tcp_pcbs_sane()", tcp_pcbs_sane());
1821:Middlewares/Third_Party/LwIP/src/core/tcp.c **** }
ARM GAS  C:\Users\Student\AppData\Local\Temp\ccY4weUp.s 			page 94


1822:Middlewares/Third_Party/LwIP/src/core/tcp.c **** 
1823:Middlewares/Third_Party/LwIP/src/core/tcp.c **** /**
1824:Middlewares/Third_Party/LwIP/src/core/tcp.c ****  * Calculates a new initial sequence number for new connections.
1825:Middlewares/Third_Party/LwIP/src/core/tcp.c ****  *
1826:Middlewares/Third_Party/LwIP/src/core/tcp.c ****  * @return u32_t pseudo random sequence number
1827:Middlewares/Third_Party/LwIP/src/core/tcp.c ****  */
1828:Middlewares/Third_Party/LwIP/src/core/tcp.c **** u32_t
1829:Middlewares/Third_Party/LwIP/src/core/tcp.c **** tcp_next_iss(void)
1830:Middlewares/Third_Party/LwIP/src/core/tcp.c **** {
1831:Middlewares/Third_Party/LwIP/src/core/tcp.c ****   static u32_t iss = 6510;
1832:Middlewares/Third_Party/LwIP/src/core/tcp.c **** 
1833:Middlewares/Third_Party/LwIP/src/core/tcp.c ****   iss += tcp_ticks;       /* XXX */
1834:Middlewares/Third_Party/LwIP/src/core/tcp.c ****   return iss;
1835:Middlewares/Third_Party/LwIP/src/core/tcp.c **** }
1836:Middlewares/Third_Party/LwIP/src/core/tcp.c **** 
1837:Middlewares/Third_Party/LwIP/src/core/tcp.c **** #if TCP_CALCULATE_EFF_SEND_MSS
1838:Middlewares/Third_Party/LwIP/src/core/tcp.c **** /**
1839:Middlewares/Third_Party/LwIP/src/core/tcp.c ****  * Calculates the effective send mss that can be used for a specific IP address
1840:Middlewares/Third_Party/LwIP/src/core/tcp.c ****  * by using ip_route to determine the netif used to send to the address and
1841:Middlewares/Third_Party/LwIP/src/core/tcp.c ****  * calculating the minimum of TCP_MSS and that netif's mtu (if set).
1842:Middlewares/Third_Party/LwIP/src/core/tcp.c ****  */
1843:Middlewares/Third_Party/LwIP/src/core/tcp.c **** u16_t
1844:Middlewares/Third_Party/LwIP/src/core/tcp.c **** tcp_eff_send_mss_impl(u16_t sendmss, const ip_addr_t *dest
1845:Middlewares/Third_Party/LwIP/src/core/tcp.c **** #if LWIP_IPV6 || LWIP_IPV4_SRC_ROUTING
1846:Middlewares/Third_Party/LwIP/src/core/tcp.c ****                      , const ip_addr_t *src
1847:Middlewares/Third_Party/LwIP/src/core/tcp.c **** #endif /* LWIP_IPV6 || LWIP_IPV4_SRC_ROUTING */
1848:Middlewares/Third_Party/LwIP/src/core/tcp.c ****                      )
1849:Middlewares/Third_Party/LwIP/src/core/tcp.c **** {
1850:Middlewares/Third_Party/LwIP/src/core/tcp.c ****   u16_t mss_s;
1851:Middlewares/Third_Party/LwIP/src/core/tcp.c ****   struct netif *outif;
1852:Middlewares/Third_Party/LwIP/src/core/tcp.c ****   s16_t mtu;
1853:Middlewares/Third_Party/LwIP/src/core/tcp.c **** 
1854:Middlewares/Third_Party/LwIP/src/core/tcp.c ****   outif = ip_route(src, dest);
1855:Middlewares/Third_Party/LwIP/src/core/tcp.c **** #if LWIP_IPV6
1856:Middlewares/Third_Party/LwIP/src/core/tcp.c **** #if LWIP_IPV4
1857:Middlewares/Third_Party/LwIP/src/core/tcp.c ****   if (IP_IS_V6(dest))
1858:Middlewares/Third_Party/LwIP/src/core/tcp.c **** #endif /* LWIP_IPV4 */
1859:Middlewares/Third_Party/LwIP/src/core/tcp.c ****   {
1860:Middlewares/Third_Party/LwIP/src/core/tcp.c ****     /* First look in destination cache, to see if there is a Path MTU. */
1861:Middlewares/Third_Party/LwIP/src/core/tcp.c ****     mtu = nd6_get_destination_mtu(ip_2_ip6(dest), outif);
1862:Middlewares/Third_Party/LwIP/src/core/tcp.c ****   }
1863:Middlewares/Third_Party/LwIP/src/core/tcp.c **** #if LWIP_IPV4
1864:Middlewares/Third_Party/LwIP/src/core/tcp.c ****   else
1865:Middlewares/Third_Party/LwIP/src/core/tcp.c **** #endif /* LWIP_IPV4 */
1866:Middlewares/Third_Party/LwIP/src/core/tcp.c **** #endif /* LWIP_IPV6 */
1867:Middlewares/Third_Party/LwIP/src/core/tcp.c **** #if LWIP_IPV4
1868:Middlewares/Third_Party/LwIP/src/core/tcp.c ****   {
1869:Middlewares/Third_Party/LwIP/src/core/tcp.c ****     if (outif == NULL) {
1870:Middlewares/Third_Party/LwIP/src/core/tcp.c ****       return sendmss;
1871:Middlewares/Third_Party/LwIP/src/core/tcp.c ****     }
1872:Middlewares/Third_Party/LwIP/src/core/tcp.c ****     mtu = outif->mtu;
1873:Middlewares/Third_Party/LwIP/src/core/tcp.c ****   }
1874:Middlewares/Third_Party/LwIP/src/core/tcp.c **** #endif /* LWIP_IPV4 */
1875:Middlewares/Third_Party/LwIP/src/core/tcp.c **** 
1876:Middlewares/Third_Party/LwIP/src/core/tcp.c ****   if (mtu != 0) {
1877:Middlewares/Third_Party/LwIP/src/core/tcp.c **** #if LWIP_IPV6
1878:Middlewares/Third_Party/LwIP/src/core/tcp.c **** #if LWIP_IPV4
ARM GAS  C:\Users\Student\AppData\Local\Temp\ccY4weUp.s 			page 95


1879:Middlewares/Third_Party/LwIP/src/core/tcp.c ****     if (IP_IS_V6(dest))
1880:Middlewares/Third_Party/LwIP/src/core/tcp.c **** #endif /* LWIP_IPV4 */
1881:Middlewares/Third_Party/LwIP/src/core/tcp.c ****     {
1882:Middlewares/Third_Party/LwIP/src/core/tcp.c ****       mss_s = mtu - IP6_HLEN - TCP_HLEN;
1883:Middlewares/Third_Party/LwIP/src/core/tcp.c ****     }
1884:Middlewares/Third_Party/LwIP/src/core/tcp.c **** #if LWIP_IPV4
1885:Middlewares/Third_Party/LwIP/src/core/tcp.c ****     else
1886:Middlewares/Third_Party/LwIP/src/core/tcp.c **** #endif /* LWIP_IPV4 */
1887:Middlewares/Third_Party/LwIP/src/core/tcp.c **** #endif /* LWIP_IPV6 */
1888:Middlewares/Third_Party/LwIP/src/core/tcp.c **** #if LWIP_IPV4
1889:Middlewares/Third_Party/LwIP/src/core/tcp.c ****     {
1890:Middlewares/Third_Party/LwIP/src/core/tcp.c ****       mss_s = mtu - IP_HLEN - TCP_HLEN;
1891:Middlewares/Third_Party/LwIP/src/core/tcp.c ****     }
1892:Middlewares/Third_Party/LwIP/src/core/tcp.c **** #endif /* LWIP_IPV4 */
1893:Middlewares/Third_Party/LwIP/src/core/tcp.c ****     /* RFC 1122, chap 4.2.2.6:
1894:Middlewares/Third_Party/LwIP/src/core/tcp.c ****      * Eff.snd.MSS = min(SendMSS+20, MMS_S) - TCPhdrsize - IPoptionsize
1895:Middlewares/Third_Party/LwIP/src/core/tcp.c ****      * We correct for TCP options in tcp_write(), and don't support IP options.
1896:Middlewares/Third_Party/LwIP/src/core/tcp.c ****      */
1897:Middlewares/Third_Party/LwIP/src/core/tcp.c ****     sendmss = LWIP_MIN(sendmss, mss_s);
1898:Middlewares/Third_Party/LwIP/src/core/tcp.c ****   }
1899:Middlewares/Third_Party/LwIP/src/core/tcp.c ****   return sendmss;
1900:Middlewares/Third_Party/LwIP/src/core/tcp.c **** }
1901:Middlewares/Third_Party/LwIP/src/core/tcp.c **** #endif /* TCP_CALCULATE_EFF_SEND_MSS */
1902:Middlewares/Third_Party/LwIP/src/core/tcp.c **** 
1903:Middlewares/Third_Party/LwIP/src/core/tcp.c **** /** Helper function for tcp_netif_ip_addr_changed() that iterates a pcb list */
1904:Middlewares/Third_Party/LwIP/src/core/tcp.c **** static void
1905:Middlewares/Third_Party/LwIP/src/core/tcp.c **** tcp_netif_ip_addr_changed_pcblist(const ip_addr_t* old_addr, struct tcp_pcb* pcb_list)
1906:Middlewares/Third_Party/LwIP/src/core/tcp.c **** {
 3118              		.loc 1 1906 0
 3119              		.cfi_startproc
 3120              		@ args = 0, pretend = 0, frame = 0
 3121              		@ frame_needed = 0, uses_anonymous_args = 0
 3122              	.LVL346:
 3123 0000 38B5     		push	{r3, r4, r5, lr}
 3124              	.LCFI41:
 3125              		.cfi_def_cfa_offset 16
 3126              		.cfi_offset 3, -16
 3127              		.cfi_offset 4, -12
 3128              		.cfi_offset 5, -8
 3129              		.cfi_offset 14, -4
 3130 0002 0446     		mov	r4, r0
 3131 0004 0846     		mov	r0, r1
 3132              	.LVL347:
1907:Middlewares/Third_Party/LwIP/src/core/tcp.c ****   struct tcp_pcb *pcb;
1908:Middlewares/Third_Party/LwIP/src/core/tcp.c ****   pcb = pcb_list;
1909:Middlewares/Third_Party/LwIP/src/core/tcp.c ****   while (pcb != NULL) {
 3133              		.loc 1 1909 0
 3134 0006 03E0     		b	.L334
 3135              	.LVL348:
 3136              	.L340:
 3137              	.LBB26:
1910:Middlewares/Third_Party/LwIP/src/core/tcp.c ****     /* PCB bound to current local interface address? */
1911:Middlewares/Third_Party/LwIP/src/core/tcp.c ****     if (ip_addr_cmp(&pcb->local_ip, old_addr)
1912:Middlewares/Third_Party/LwIP/src/core/tcp.c **** #if LWIP_AUTOIP
1913:Middlewares/Third_Party/LwIP/src/core/tcp.c ****       /* connections to link-local addresses must persist (RFC3927 ch. 1.9) */
1914:Middlewares/Third_Party/LwIP/src/core/tcp.c ****       && (!IP_IS_V4_VAL(pcb->local_ip) || !ip4_addr_islinklocal(ip_2_ip4(&pcb->local_ip)))
1915:Middlewares/Third_Party/LwIP/src/core/tcp.c **** #endif /* LWIP_AUTOIP */
ARM GAS  C:\Users\Student\AppData\Local\Temp\ccY4weUp.s 			page 96


1916:Middlewares/Third_Party/LwIP/src/core/tcp.c ****       ) {
1917:Middlewares/Third_Party/LwIP/src/core/tcp.c ****       /* this connection must be aborted */
1918:Middlewares/Third_Party/LwIP/src/core/tcp.c ****       struct tcp_pcb *next = pcb->next;
 3138              		.loc 1 1918 0
 3139 0008 C568     		ldr	r5, [r0, #12]
 3140              	.LVL349:
1919:Middlewares/Third_Party/LwIP/src/core/tcp.c ****       LWIP_DEBUGF(NETIF_DEBUG | LWIP_DBG_STATE, ("netif_set_ipaddr: aborting TCP pcb %p\n", (void *
1920:Middlewares/Third_Party/LwIP/src/core/tcp.c ****       tcp_abort(pcb);
 3141              		.loc 1 1920 0
 3142 000a FFF7FEFF 		bl	tcp_abort
 3143              	.LVL350:
1921:Middlewares/Third_Party/LwIP/src/core/tcp.c ****       pcb = next;
 3144              		.loc 1 1921 0
 3145 000e 2846     		mov	r0, r5
 3146              	.LVL351:
 3147              	.L334:
 3148              	.LBE26:
1909:Middlewares/Third_Party/LwIP/src/core/tcp.c ****     /* PCB bound to current local interface address? */
 3149              		.loc 1 1909 0
 3150 0010 28B1     		cbz	r0, .L339
1911:Middlewares/Third_Party/LwIP/src/core/tcp.c **** #if LWIP_AUTOIP
 3151              		.loc 1 1911 0
 3152 0012 0268     		ldr	r2, [r0]
 3153 0014 2368     		ldr	r3, [r4]
 3154 0016 9A42     		cmp	r2, r3
 3155 0018 F6D0     		beq	.L340
1922:Middlewares/Third_Party/LwIP/src/core/tcp.c ****     } else {
1923:Middlewares/Third_Party/LwIP/src/core/tcp.c ****       pcb = pcb->next;
 3156              		.loc 1 1923 0
 3157 001a C068     		ldr	r0, [r0, #12]
 3158              	.LVL352:
 3159 001c F8E7     		b	.L334
 3160              	.L339:
1924:Middlewares/Third_Party/LwIP/src/core/tcp.c ****     }
1925:Middlewares/Third_Party/LwIP/src/core/tcp.c ****   }
1926:Middlewares/Third_Party/LwIP/src/core/tcp.c **** }
 3161              		.loc 1 1926 0
 3162 001e 38BD     		pop	{r3, r4, r5, pc}
 3163              		.cfi_endproc
 3164              	.LFE177:
 3166              		.section	.text.tcp_kill_state,"ax",%progbits
 3167              		.align	1
 3168              		.syntax unified
 3169              		.thumb
 3170              		.thumb_func
 3171              		.fpu fpv5-sp-d16
 3173              	tcp_kill_state:
 3174              	.LFB162:
1432:Middlewares/Third_Party/LwIP/src/core/tcp.c ****   struct tcp_pcb *pcb, *inactive;
 3175              		.loc 1 1432 0
 3176              		.cfi_startproc
 3177              		@ args = 0, pretend = 0, frame = 0
 3178              		@ frame_needed = 0, uses_anonymous_args = 0
 3179              	.LVL353:
 3180 0000 38B5     		push	{r3, r4, r5, lr}
 3181              	.LCFI42:
 3182              		.cfi_def_cfa_offset 16
ARM GAS  C:\Users\Student\AppData\Local\Temp\ccY4weUp.s 			page 97


 3183              		.cfi_offset 3, -16
 3184              		.cfi_offset 4, -12
 3185              		.cfi_offset 5, -8
 3186              		.cfi_offset 14, -4
 3187              	.LVL354:
1442:Middlewares/Third_Party/LwIP/src/core/tcp.c ****     if (pcb->state == state) {
 3188              		.loc 1 1442 0
 3189 0002 0C4B     		ldr	r3, .L349
 3190 0004 1B68     		ldr	r3, [r3]
 3191              	.LVL355:
1438:Middlewares/Third_Party/LwIP/src/core/tcp.c ****   inactive = NULL;
 3192              		.loc 1 1438 0
 3193 0006 0021     		movs	r1, #0
1439:Middlewares/Third_Party/LwIP/src/core/tcp.c ****   /* Go through the list of active pcbs and get the oldest pcb that is in state
 3194              		.loc 1 1439 0
 3195 0008 0D46     		mov	r5, r1
1442:Middlewares/Third_Party/LwIP/src/core/tcp.c ****     if (pcb->state == state) {
 3196              		.loc 1 1442 0
 3197 000a 00E0     		b	.L342
 3198              	.LVL356:
 3199              	.L343:
1442:Middlewares/Third_Party/LwIP/src/core/tcp.c ****     if (pcb->state == state) {
 3200              		.loc 1 1442 0 is_stmt 0 discriminator 2
 3201 000c DB68     		ldr	r3, [r3, #12]
 3202              	.LVL357:
 3203              	.L342:
1442:Middlewares/Third_Party/LwIP/src/core/tcp.c ****     if (pcb->state == state) {
 3204              		.loc 1 1442 0 discriminator 1
 3205 000e 5BB1     		cbz	r3, .L348
1443:Middlewares/Third_Party/LwIP/src/core/tcp.c ****       if ((u32_t)(tcp_ticks - pcb->tmr) >= inactivity) {
 3206              		.loc 1 1443 0 is_stmt 1
 3207 0010 1A7D     		ldrb	r2, [r3, #20]	@ zero_extendqisi2
 3208 0012 9042     		cmp	r0, r2
 3209 0014 FAD1     		bne	.L343
1444:Middlewares/Third_Party/LwIP/src/core/tcp.c ****         inactivity = tcp_ticks - pcb->tmr;
 3210              		.loc 1 1444 0
 3211 0016 1C6A     		ldr	r4, [r3, #32]
 3212 0018 074A     		ldr	r2, .L349+4
 3213 001a 1268     		ldr	r2, [r2]
 3214 001c 121B     		subs	r2, r2, r4
 3215 001e 9142     		cmp	r1, r2
 3216 0020 F4D8     		bhi	.L343
1445:Middlewares/Third_Party/LwIP/src/core/tcp.c ****         inactive = pcb;
 3217              		.loc 1 1445 0
 3218 0022 1146     		mov	r1, r2
 3219              	.LVL358:
1446:Middlewares/Third_Party/LwIP/src/core/tcp.c ****       }
 3220              		.loc 1 1446 0
 3221 0024 1D46     		mov	r5, r3
 3222              	.LVL359:
 3223 0026 F1E7     		b	.L343
 3224              	.LVL360:
 3225              	.L348:
1450:Middlewares/Third_Party/LwIP/src/core/tcp.c ****     LWIP_DEBUGF(TCP_DEBUG, ("tcp_kill_closing: killing oldest %s PCB %p (%"S32_F")\n",
 3226              		.loc 1 1450 0
 3227 0028 1DB1     		cbz	r5, .L341
1454:Middlewares/Third_Party/LwIP/src/core/tcp.c ****   }
ARM GAS  C:\Users\Student\AppData\Local\Temp\ccY4weUp.s 			page 98


 3228              		.loc 1 1454 0
 3229 002a 0021     		movs	r1, #0
 3230              	.LVL361:
 3231 002c 2846     		mov	r0, r5
 3232              	.LVL362:
 3233 002e FFF7FEFF 		bl	tcp_abandon
 3234              	.LVL363:
 3235              	.L341:
 3236 0032 38BD     		pop	{r3, r4, r5, pc}
 3237              	.LVL364:
 3238              	.L350:
 3239              		.align	2
 3240              	.L349:
 3241 0034 00000000 		.word	tcp_active_pcbs
 3242 0038 00000000 		.word	tcp_ticks
 3243              		.cfi_endproc
 3244              	.LFE162:
 3246              		.section	.text.tcp_next_iss,"ax",%progbits
 3247              		.align	1
 3248              		.global	tcp_next_iss
 3249              		.syntax unified
 3250              		.thumb
 3251              		.thumb_func
 3252              		.fpu fpv5-sp-d16
 3254              	tcp_next_iss:
 3255              	.LFB175:
1830:Middlewares/Third_Party/LwIP/src/core/tcp.c ****   static u32_t iss = 6510;
 3256              		.loc 1 1830 0
 3257              		.cfi_startproc
 3258              		@ args = 0, pretend = 0, frame = 0
 3259              		@ frame_needed = 0, uses_anonymous_args = 0
 3260              		@ link register save eliminated.
1833:Middlewares/Third_Party/LwIP/src/core/tcp.c ****   return iss;
 3261              		.loc 1 1833 0
 3262 0000 034B     		ldr	r3, .L352
 3263 0002 1868     		ldr	r0, [r3]
 3264 0004 034A     		ldr	r2, .L352+4
 3265 0006 1268     		ldr	r2, [r2]
 3266 0008 1044     		add	r0, r0, r2
 3267 000a 1860     		str	r0, [r3]
1835:Middlewares/Third_Party/LwIP/src/core/tcp.c **** 
 3268              		.loc 1 1835 0
 3269 000c 7047     		bx	lr
 3270              	.L353:
 3271 000e 00BF     		.align	2
 3272              	.L352:
 3273 0010 00000000 		.word	.LANCHOR6
 3274 0014 00000000 		.word	tcp_ticks
 3275              		.cfi_endproc
 3276              	.LFE175:
 3278              		.section	.text.tcp_alloc,"ax",%progbits
 3279              		.align	1
 3280              		.global	tcp_alloc
 3281              		.syntax unified
 3282              		.thumb
 3283              		.thumb_func
 3284              		.fpu fpv5-sp-d16
ARM GAS  C:\Users\Student\AppData\Local\Temp\ccY4weUp.s 			page 99


 3286              	tcp_alloc:
 3287              	.LFB164:
1492:Middlewares/Third_Party/LwIP/src/core/tcp.c ****   struct tcp_pcb *pcb;
 3288              		.loc 1 1492 0
 3289              		.cfi_startproc
 3290              		@ args = 0, pretend = 0, frame = 0
 3291              		@ frame_needed = 0, uses_anonymous_args = 0
 3292              	.LVL365:
 3293 0000 38B5     		push	{r3, r4, r5, lr}
 3294              	.LCFI43:
 3295              		.cfi_def_cfa_offset 16
 3296              		.cfi_offset 3, -16
 3297              		.cfi_offset 4, -12
 3298              		.cfi_offset 5, -8
 3299              		.cfi_offset 14, -4
 3300 0002 0546     		mov	r5, r0
1496:Middlewares/Third_Party/LwIP/src/core/tcp.c ****   if (pcb == NULL) {
 3301              		.loc 1 1496 0
 3302 0004 0120     		movs	r0, #1
 3303              	.LVL366:
 3304 0006 FFF7FEFF 		bl	memp_malloc
 3305              	.LVL367:
1497:Middlewares/Third_Party/LwIP/src/core/tcp.c ****     /* Try killing oldest connection in TIME-WAIT. */
 3306              		.loc 1 1497 0
 3307 000a 0446     		mov	r4, r0
 3308 000c 0028     		cmp	r0, #0
 3309 000e 31D0     		beq	.L358
 3310              	.L355:
1541:Middlewares/Third_Party/LwIP/src/core/tcp.c ****     /* zero out the whole pcb, so there is no need to initialize members to zero */
 3311              		.loc 1 1541 0
 3312 0010 74B3     		cbz	r4, .L354
1543:Middlewares/Third_Party/LwIP/src/core/tcp.c ****     pcb->prio = prio;
 3313              		.loc 1 1543 0
 3314 0012 9822     		movs	r2, #152
 3315 0014 0021     		movs	r1, #0
 3316 0016 2046     		mov	r0, r4
 3317 0018 FFF7FEFF 		bl	memset
 3318              	.LVL368:
1544:Middlewares/Third_Party/LwIP/src/core/tcp.c ****     pcb->snd_buf = TCP_SND_BUF;
 3319              		.loc 1 1544 0
 3320 001c 6575     		strb	r5, [r4, #21]
1545:Middlewares/Third_Party/LwIP/src/core/tcp.c ****     /* Start with a window that does not need scaling. When window scaling is
 3321              		.loc 1 1545 0
 3322 001e 4FF48663 		mov	r3, #1072
 3323 0022 A4F86030 		strh	r3, [r4, #96]	@ movhi
1548:Middlewares/Third_Party/LwIP/src/core/tcp.c ****     pcb->ttl = TCP_TTL;
 3324              		.loc 1 1548 0
 3325 0026 4FF40663 		mov	r3, #2144
 3326 002a 6385     		strh	r3, [r4, #42]	@ movhi
 3327 002c 2385     		strh	r3, [r4, #40]	@ movhi
1549:Middlewares/Third_Party/LwIP/src/core/tcp.c ****     /* As initial send MSS, we use TCP_MSS but limit it to 536.
 3328              		.loc 1 1549 0
 3329 002e FF23     		movs	r3, #255
 3330 0030 A372     		strb	r3, [r4, #10]
1552:Middlewares/Third_Party/LwIP/src/core/tcp.c ****     pcb->rto = 3000 / TCP_SLOW_INTERVAL;
 3331              		.loc 1 1552 0
 3332 0032 4FF40673 		mov	r3, #536
ARM GAS  C:\Users\Student\AppData\Local\Temp\ccY4weUp.s 			page 100


 3333 0036 6386     		strh	r3, [r4, #50]	@ movhi
1553:Middlewares/Third_Party/LwIP/src/core/tcp.c ****     pcb->sv = 3000 / TCP_SLOW_INTERVAL;
 3334              		.loc 1 1553 0
 3335 0038 0623     		movs	r3, #6
 3336 003a A4F84030 		strh	r3, [r4, #64]	@ movhi
1554:Middlewares/Third_Party/LwIP/src/core/tcp.c ****     pcb->rtime = -1;
 3337              		.loc 1 1554 0
 3338 003e E387     		strh	r3, [r4, #62]	@ movhi
1555:Middlewares/Third_Party/LwIP/src/core/tcp.c ****     pcb->cwnd = 1;
 3339              		.loc 1 1555 0
 3340 0040 4FF6FF73 		movw	r3, #65535
 3341 0044 2386     		strh	r3, [r4, #48]	@ movhi
1556:Middlewares/Third_Party/LwIP/src/core/tcp.c ****     iss = tcp_next_iss();
 3342              		.loc 1 1556 0
 3343 0046 0123     		movs	r3, #1
 3344 0048 A4F84830 		strh	r3, [r4, #72]	@ movhi
1557:Middlewares/Third_Party/LwIP/src/core/tcp.c ****     pcb->snd_wl2 = iss;
 3345              		.loc 1 1557 0
 3346 004c FFF7FEFF 		bl	tcp_next_iss
 3347              	.LVL369:
1558:Middlewares/Third_Party/LwIP/src/core/tcp.c ****     pcb->snd_nxt = iss;
 3348              		.loc 1 1558 0
 3349 0050 6065     		str	r0, [r4, #84]
1559:Middlewares/Third_Party/LwIP/src/core/tcp.c ****     pcb->lastack = iss;
 3350              		.loc 1 1559 0
 3351 0052 E064     		str	r0, [r4, #76]
1560:Middlewares/Third_Party/LwIP/src/core/tcp.c ****     pcb->snd_lbb = iss;
 3352              		.loc 1 1560 0
 3353 0054 6064     		str	r0, [r4, #68]
1561:Middlewares/Third_Party/LwIP/src/core/tcp.c ****     pcb->tmr = tcp_ticks;
 3354              		.loc 1 1561 0
 3355 0056 A065     		str	r0, [r4, #88]
1562:Middlewares/Third_Party/LwIP/src/core/tcp.c ****     pcb->last_timer = tcp_timer_ctr;
 3356              		.loc 1 1562 0
 3357 0058 174B     		ldr	r3, .L359
 3358 005a 1B68     		ldr	r3, [r3]
 3359 005c 2362     		str	r3, [r4, #32]
1563:Middlewares/Third_Party/LwIP/src/core/tcp.c **** 
 3360              		.loc 1 1563 0
 3361 005e 174B     		ldr	r3, .L359+4
 3362 0060 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 3363 0062 6377     		strb	r3, [r4, #29]
1566:Middlewares/Third_Party/LwIP/src/core/tcp.c **** #endif /* LWIP_CALLBACK_API */
 3364              		.loc 1 1566 0
 3365 0064 164B     		ldr	r3, .L359+8
 3366 0066 C4F88030 		str	r3, [r4, #128]
1570:Middlewares/Third_Party/LwIP/src/core/tcp.c **** 
 3367              		.loc 1 1570 0
 3368 006a 164B     		ldr	r3, .L359+12
 3369 006c C4F89030 		str	r3, [r4, #144]
 3370              	.LVL370:
 3371              	.L354:
1578:Middlewares/Third_Party/LwIP/src/core/tcp.c **** 
 3372              		.loc 1 1578 0
 3373 0070 2046     		mov	r0, r4
 3374 0072 38BD     		pop	{r3, r4, r5, pc}
 3375              	.LVL371:
ARM GAS  C:\Users\Student\AppData\Local\Temp\ccY4weUp.s 			page 101


 3376              	.L358:
1500:Middlewares/Third_Party/LwIP/src/core/tcp.c ****     /* Try to allocate a tcp_pcb again. */
 3377              		.loc 1 1500 0
 3378 0074 FFF7FEFF 		bl	tcp_kill_timewait
 3379              	.LVL372:
1502:Middlewares/Third_Party/LwIP/src/core/tcp.c ****     if (pcb == NULL) {
 3380              		.loc 1 1502 0
 3381 0078 0120     		movs	r0, #1
 3382 007a FFF7FEFF 		bl	memp_malloc
 3383              	.LVL373:
1503:Middlewares/Third_Party/LwIP/src/core/tcp.c ****       /* Try killing oldest connection in LAST-ACK (these wouldn't go to TIME-WAIT). */
 3384              		.loc 1 1503 0
 3385 007e 0446     		mov	r4, r0
 3386 0080 0028     		cmp	r0, #0
 3387 0082 C5D1     		bne	.L355
1506:Middlewares/Third_Party/LwIP/src/core/tcp.c ****       /* Try to allocate a tcp_pcb again. */
 3388              		.loc 1 1506 0
 3389 0084 0920     		movs	r0, #9
 3390              	.LVL374:
 3391 0086 FFF7FEFF 		bl	tcp_kill_state
 3392              	.LVL375:
1508:Middlewares/Third_Party/LwIP/src/core/tcp.c ****       if (pcb == NULL) {
 3393              		.loc 1 1508 0
 3394 008a 0120     		movs	r0, #1
 3395 008c FFF7FEFF 		bl	memp_malloc
 3396              	.LVL376:
1509:Middlewares/Third_Party/LwIP/src/core/tcp.c ****         /* Try killing oldest connection in CLOSING. */
 3397              		.loc 1 1509 0
 3398 0090 0446     		mov	r4, r0
 3399 0092 0028     		cmp	r0, #0
 3400 0094 BCD1     		bne	.L355
1512:Middlewares/Third_Party/LwIP/src/core/tcp.c ****         /* Try to allocate a tcp_pcb again. */
 3401              		.loc 1 1512 0
 3402 0096 0820     		movs	r0, #8
 3403              	.LVL377:
 3404 0098 FFF7FEFF 		bl	tcp_kill_state
 3405              	.LVL378:
1514:Middlewares/Third_Party/LwIP/src/core/tcp.c ****         if (pcb == NULL) {
 3406              		.loc 1 1514 0
 3407 009c 0120     		movs	r0, #1
 3408 009e FFF7FEFF 		bl	memp_malloc
 3409              	.LVL379:
1515:Middlewares/Third_Party/LwIP/src/core/tcp.c ****           /* Try killing active connections with lower priority than the new one. */
 3410              		.loc 1 1515 0
 3411 00a2 0446     		mov	r4, r0
 3412 00a4 0028     		cmp	r0, #0
 3413 00a6 B3D1     		bne	.L355
1518:Middlewares/Third_Party/LwIP/src/core/tcp.c ****           /* Try to allocate a tcp_pcb again. */
 3414              		.loc 1 1518 0
 3415 00a8 2846     		mov	r0, r5
 3416              	.LVL380:
 3417 00aa FFF7FEFF 		bl	tcp_kill_prio
 3418              	.LVL381:
1520:Middlewares/Third_Party/LwIP/src/core/tcp.c ****           if (pcb != NULL) {
 3419              		.loc 1 1520 0
 3420 00ae 0120     		movs	r0, #1
 3421 00b0 FFF7FEFF 		bl	memp_malloc
ARM GAS  C:\Users\Student\AppData\Local\Temp\ccY4weUp.s 			page 102


 3422              	.LVL382:
 3423 00b4 0446     		mov	r4, r0
 3424              	.LVL383:
 3425 00b6 ABE7     		b	.L355
 3426              	.L360:
 3427              		.align	2
 3428              	.L359:
 3429 00b8 00000000 		.word	tcp_ticks
 3430 00bc 00000000 		.word	.LANCHOR2
 3431 00c0 00000000 		.word	tcp_recv_null
 3432 00c4 00DD6D00 		.word	7200000
 3433              		.cfi_endproc
 3434              	.LFE164:
 3436              		.section	.text.tcp_new,"ax",%progbits
 3437              		.align	1
 3438              		.global	tcp_new
 3439              		.syntax unified
 3440              		.thumb
 3441              		.thumb_func
 3442              		.fpu fpv5-sp-d16
 3444              	tcp_new:
 3445              	.LFB165:
1595:Middlewares/Third_Party/LwIP/src/core/tcp.c ****   return tcp_alloc(TCP_PRIO_NORMAL);
 3446              		.loc 1 1595 0
 3447              		.cfi_startproc
 3448              		@ args = 0, pretend = 0, frame = 0
 3449              		@ frame_needed = 0, uses_anonymous_args = 0
 3450 0000 08B5     		push	{r3, lr}
 3451              	.LCFI44:
 3452              		.cfi_def_cfa_offset 8
 3453              		.cfi_offset 3, -8
 3454              		.cfi_offset 14, -4
1596:Middlewares/Third_Party/LwIP/src/core/tcp.c **** }
 3455              		.loc 1 1596 0
 3456 0002 4020     		movs	r0, #64
 3457 0004 FFF7FEFF 		bl	tcp_alloc
 3458              	.LVL384:
1597:Middlewares/Third_Party/LwIP/src/core/tcp.c **** 
 3459              		.loc 1 1597 0
 3460 0008 08BD     		pop	{r3, pc}
 3461              		.cfi_endproc
 3462              	.LFE165:
 3464              		.section	.text.tcp_new_ip_type,"ax",%progbits
 3465              		.align	1
 3466              		.global	tcp_new_ip_type
 3467              		.syntax unified
 3468              		.thumb
 3469              		.thumb_func
 3470              		.fpu fpv5-sp-d16
 3472              	tcp_new_ip_type:
 3473              	.LFB166:
1612:Middlewares/Third_Party/LwIP/src/core/tcp.c ****   struct tcp_pcb * pcb;
 3474              		.loc 1 1612 0
 3475              		.cfi_startproc
 3476              		@ args = 0, pretend = 0, frame = 0
 3477              		@ frame_needed = 0, uses_anonymous_args = 0
 3478              	.LVL385:
ARM GAS  C:\Users\Student\AppData\Local\Temp\ccY4weUp.s 			page 103


 3479 0000 08B5     		push	{r3, lr}
 3480              	.LCFI45:
 3481              		.cfi_def_cfa_offset 8
 3482              		.cfi_offset 3, -8
 3483              		.cfi_offset 14, -4
1614:Middlewares/Third_Party/LwIP/src/core/tcp.c **** #if LWIP_IPV4 && LWIP_IPV6
 3484              		.loc 1 1614 0
 3485 0002 4020     		movs	r0, #64
 3486              	.LVL386:
 3487 0004 FFF7FEFF 		bl	tcp_alloc
 3488              	.LVL387:
1624:Middlewares/Third_Party/LwIP/src/core/tcp.c **** 
 3489              		.loc 1 1624 0
 3490 0008 08BD     		pop	{r3, pc}
 3491              		.cfi_endproc
 3492              	.LFE166:
 3494              		.section	.text.tcp_eff_send_mss_impl,"ax",%progbits
 3495              		.align	1
 3496              		.global	tcp_eff_send_mss_impl
 3497              		.syntax unified
 3498              		.thumb
 3499              		.thumb_func
 3500              		.fpu fpv5-sp-d16
 3502              	tcp_eff_send_mss_impl:
 3503              	.LFB176:
1849:Middlewares/Third_Party/LwIP/src/core/tcp.c ****   u16_t mss_s;
 3504              		.loc 1 1849 0
 3505              		.cfi_startproc
 3506              		@ args = 0, pretend = 0, frame = 0
 3507              		@ frame_needed = 0, uses_anonymous_args = 0
 3508              	.LVL388:
 3509 0000 10B5     		push	{r4, lr}
 3510              	.LCFI46:
 3511              		.cfi_def_cfa_offset 8
 3512              		.cfi_offset 4, -8
 3513              		.cfi_offset 14, -4
 3514 0002 0446     		mov	r4, r0
1854:Middlewares/Third_Party/LwIP/src/core/tcp.c **** #if LWIP_IPV6
 3515              		.loc 1 1854 0
 3516 0004 0846     		mov	r0, r1
 3517              	.LVL389:
 3518 0006 FFF7FEFF 		bl	ip4_route
 3519              	.LVL390:
1869:Middlewares/Third_Party/LwIP/src/core/tcp.c ****       return sendmss;
 3520              		.loc 1 1869 0
 3521 000a 38B1     		cbz	r0, .L367
1872:Middlewares/Third_Party/LwIP/src/core/tcp.c ****   }
 3522              		.loc 1 1872 0
 3523 000c C38C     		ldrh	r3, [r0, #38]
 3524              	.LVL391:
1876:Middlewares/Third_Party/LwIP/src/core/tcp.c **** #if LWIP_IPV6
 3525              		.loc 1 1876 0
 3526 000e 3BB1     		cbz	r3, .L368
1890:Middlewares/Third_Party/LwIP/src/core/tcp.c ****     }
 3527              		.loc 1 1890 0
 3528 0010 283B     		subs	r3, r3, #40
 3529              	.LVL392:
ARM GAS  C:\Users\Student\AppData\Local\Temp\ccY4weUp.s 			page 104


 3530 0012 98B2     		uxth	r0, r3
 3531              	.LVL393:
1897:Middlewares/Third_Party/LwIP/src/core/tcp.c ****   }
 3532              		.loc 1 1897 0
 3533 0014 A042     		cmp	r0, r4
 3534 0016 28BF     		it	cs
 3535 0018 2046     		movcs	r0, r4
 3536              	.LVL394:
 3537 001a 10BD     		pop	{r4, pc}
 3538              	.LVL395:
 3539              	.L367:
1870:Middlewares/Third_Party/LwIP/src/core/tcp.c ****     }
 3540              		.loc 1 1870 0
 3541 001c 2046     		mov	r0, r4
 3542              	.LVL396:
 3543 001e 10BD     		pop	{r4, pc}
 3544              	.LVL397:
 3545              	.L368:
 3546 0020 2046     		mov	r0, r4
 3547              	.LVL398:
1900:Middlewares/Third_Party/LwIP/src/core/tcp.c **** #endif /* TCP_CALCULATE_EFF_SEND_MSS */
 3548              		.loc 1 1900 0
 3549 0022 10BD     		pop	{r4, pc}
 3550              		.cfi_endproc
 3551              	.LFE176:
 3553              		.section	.text.tcp_connect,"ax",%progbits
 3554              		.align	1
 3555              		.global	tcp_connect
 3556              		.syntax unified
 3557              		.thumb
 3558              		.thumb_func
 3559              		.fpu fpv5-sp-d16
 3561              	tcp_connect:
 3562              	.LFB151:
 824:Middlewares/Third_Party/LwIP/src/core/tcp.c ****   err_t ret;
 3563              		.loc 1 824 0
 3564              		.cfi_startproc
 3565              		@ args = 0, pretend = 0, frame = 0
 3566              		@ frame_needed = 0, uses_anonymous_args = 0
 3567              	.LVL399:
 3568 0000 F8B5     		push	{r3, r4, r5, r6, r7, lr}
 3569              	.LCFI47:
 3570              		.cfi_def_cfa_offset 24
 3571              		.cfi_offset 3, -24
 3572              		.cfi_offset 4, -20
 3573              		.cfi_offset 5, -16
 3574              		.cfi_offset 6, -12
 3575              		.cfi_offset 7, -8
 3576              		.cfi_offset 14, -4
 829:Middlewares/Third_Party/LwIP/src/core/tcp.c ****     return ERR_VAL;
 3577              		.loc 1 829 0
 3578 0002 0029     		cmp	r1, #0
 3579 0004 18BF     		it	ne
 3580 0006 0028     		cmpne	r0, #0
 3581 0008 69D0     		beq	.L381
 3582 000a 0446     		mov	r4, r0
 3583 000c 0D46     		mov	r5, r1
ARM GAS  C:\Users\Student\AppData\Local\Temp\ccY4weUp.s 			page 105


 833:Middlewares/Third_Party/LwIP/src/core/tcp.c **** 
 3584              		.loc 1 833 0
 3585 000e 017D     		ldrb	r1, [r0, #20]	@ zero_extendqisi2
 3586              	.LVL400:
 3587 0010 0029     		cmp	r1, #0
 3588 0012 67D1     		bne	.L382
 836:Middlewares/Third_Party/LwIP/src/core/tcp.c ****   pcb->remote_port = port;
 3589              		.loc 1 836 0
 3590 0014 002D     		cmp	r5, #0
 3591 0016 4AD0     		beq	.L383
 836:Middlewares/Third_Party/LwIP/src/core/tcp.c ****   pcb->remote_port = port;
 3592              		.loc 1 836 0 is_stmt 0 discriminator 1
 3593 0018 2968     		ldr	r1, [r5]
 3594              	.L372:
 3595 001a 1E46     		mov	r6, r3
 836:Middlewares/Third_Party/LwIP/src/core/tcp.c ****   pcb->remote_port = port;
 3596              		.loc 1 836 0 discriminator 4
 3597 001c 6160     		str	r1, [r4, #4]
 837:Middlewares/Third_Party/LwIP/src/core/tcp.c **** 
 3598              		.loc 1 837 0 is_stmt 1 discriminator 4
 3599 001e 2283     		strh	r2, [r4, #24]	@ movhi
 840:Middlewares/Third_Party/LwIP/src/core/tcp.c ****     /* no local IP address set, yet. */
 3600              		.loc 1 840 0 discriminator 4
 3601 0020 0CB1     		cbz	r4, .L373
 840:Middlewares/Third_Party/LwIP/src/core/tcp.c ****     /* no local IP address set, yet. */
 3602              		.loc 1 840 0 is_stmt 0 discriminator 1
 3603 0022 2368     		ldr	r3, [r4]
 3604              	.LVL401:
 3605 0024 63B9     		cbnz	r3, .L374
 3606              	.L373:
 3607              	.LBB27:
 844:Middlewares/Third_Party/LwIP/src/core/tcp.c ****     if ((netif == NULL) || (local_ip == NULL)) {
 3608              		.loc 1 844 0 is_stmt 1
 3609 0026 201D     		adds	r0, r4, #4
 3610              	.LVL402:
 3611 0028 FFF7FEFF 		bl	ip4_route
 3612              	.LVL403:
 3613 002c 0246     		mov	r2, r0
 3614 002e 0028     		cmp	r0, #0
 3615 0030 3FD0     		beq	.L384
 844:Middlewares/Third_Party/LwIP/src/core/tcp.c ****     if ((netif == NULL) || (local_ip == NULL)) {
 3616              		.loc 1 844 0 is_stmt 0 discriminator 1
 3617 0032 031D     		adds	r3, r0, #4
 3618              	.L375:
 3619              	.LVL404:
 845:Middlewares/Third_Party/LwIP/src/core/tcp.c ****       /* Don't even try to send a SYN packet if we have no route
 3620              		.loc 1 845 0 is_stmt 1 discriminator 4
 3621 0034 002B     		cmp	r3, #0
 3622 0036 18BF     		it	ne
 3623 0038 002A     		cmpne	r2, #0
 3624 003a 56D0     		beq	.L385
 851:Middlewares/Third_Party/LwIP/src/core/tcp.c ****   }
 3625              		.loc 1 851 0
 3626 003c 1B68     		ldr	r3, [r3]
 3627              	.LVL405:
 3628 003e 2360     		str	r3, [r4]
 3629              	.LVL406:
ARM GAS  C:\Users\Student\AppData\Local\Temp\ccY4weUp.s 			page 106


 3630              	.L374:
 3631              	.LBE27:
 854:Middlewares/Third_Party/LwIP/src/core/tcp.c ****   if (pcb->local_port == 0) {
 3632              		.loc 1 854 0
 3633 0040 E78A     		ldrh	r7, [r4, #22]
 3634              	.LVL407:
 855:Middlewares/Third_Party/LwIP/src/core/tcp.c ****     pcb->local_port = tcp_new_port();
 3635              		.loc 1 855 0
 3636 0042 27B9     		cbnz	r7, .L376
 856:Middlewares/Third_Party/LwIP/src/core/tcp.c ****     if (pcb->local_port == 0) {
 3637              		.loc 1 856 0
 3638 0044 FFF7FEFF 		bl	tcp_new_port
 3639              	.LVL408:
 3640 0048 E082     		strh	r0, [r4, #22]	@ movhi
 857:Middlewares/Third_Party/LwIP/src/core/tcp.c ****       return ERR_BUF;
 3641              		.loc 1 857 0
 3642 004a 0028     		cmp	r0, #0
 3643 004c 50D0     		beq	.L386
 3644              	.L376:
 883:Middlewares/Third_Party/LwIP/src/core/tcp.c ****   pcb->rcv_nxt = 0;
 3645              		.loc 1 883 0
 3646 004e FFF7FEFF 		bl	tcp_next_iss
 3647              	.LVL409:
 884:Middlewares/Third_Party/LwIP/src/core/tcp.c ****   pcb->snd_nxt = iss;
 3648              		.loc 1 884 0
 3649 0052 0023     		movs	r3, #0
 3650 0054 6362     		str	r3, [r4, #36]
 885:Middlewares/Third_Party/LwIP/src/core/tcp.c ****   pcb->lastack = iss - 1;
 3651              		.loc 1 885 0
 3652 0056 E064     		str	r0, [r4, #76]
 886:Middlewares/Third_Party/LwIP/src/core/tcp.c ****   pcb->snd_lbb = iss - 1;
 3653              		.loc 1 886 0
 3654 0058 0138     		subs	r0, r0, #1
 3655              	.LVL410:
 3656 005a 6064     		str	r0, [r4, #68]
 887:Middlewares/Third_Party/LwIP/src/core/tcp.c ****   /* Start with a window that does not need scaling. When window scaling is
 3657              		.loc 1 887 0
 3658 005c A065     		str	r0, [r4, #88]
 890:Middlewares/Third_Party/LwIP/src/core/tcp.c ****   pcb->rcv_ann_right_edge = pcb->rcv_nxt;
 3659              		.loc 1 890 0
 3660 005e 4FF40665 		mov	r5, #2144
 3661              	.LVL411:
 3662 0062 6585     		strh	r5, [r4, #42]	@ movhi
 3663 0064 2585     		strh	r5, [r4, #40]	@ movhi
 891:Middlewares/Third_Party/LwIP/src/core/tcp.c ****   pcb->snd_wnd = TCP_WND;
 3664              		.loc 1 891 0
 3665 0066 E362     		str	r3, [r4, #44]
 892:Middlewares/Third_Party/LwIP/src/core/tcp.c ****   /* As initial send MSS, we use TCP_MSS but limit it to 536.
 3666              		.loc 1 892 0
 3667 0068 A4F85C50 		strh	r5, [r4, #92]	@ movhi
 895:Middlewares/Third_Party/LwIP/src/core/tcp.c **** #if TCP_CALCULATE_EFF_SEND_MSS
 3668              		.loc 1 895 0
 3669 006c 4FF40670 		mov	r0, #536
 3670 0070 6086     		strh	r0, [r4, #50]	@ movhi
 897:Middlewares/Third_Party/LwIP/src/core/tcp.c **** #endif /* TCP_CALCULATE_EFF_SEND_MSS */
 3671              		.loc 1 897 0
 3672 0072 211D     		adds	r1, r4, #4
ARM GAS  C:\Users\Student\AppData\Local\Temp\ccY4weUp.s 			page 107


 3673 0074 FFF7FEFF 		bl	tcp_eff_send_mss_impl
 3674              	.LVL412:
 3675 0078 6086     		strh	r0, [r4, #50]	@ movhi
 899:Middlewares/Third_Party/LwIP/src/core/tcp.c ****   pcb->ssthresh = TCP_WND;
 3676              		.loc 1 899 0
 3677 007a 0123     		movs	r3, #1
 3678 007c A4F84830 		strh	r3, [r4, #72]	@ movhi
 900:Middlewares/Third_Party/LwIP/src/core/tcp.c **** #if LWIP_CALLBACK_API
 3679              		.loc 1 900 0
 3680 0080 A4F84A50 		strh	r5, [r4, #74]	@ movhi
 902:Middlewares/Third_Party/LwIP/src/core/tcp.c **** #else /* LWIP_CALLBACK_API */
 3681              		.loc 1 902 0
 3682 0084 C4F88460 		str	r6, [r4, #132]
 908:Middlewares/Third_Party/LwIP/src/core/tcp.c ****   if (ret == ERR_OK) {
 3683              		.loc 1 908 0
 3684 0088 0221     		movs	r1, #2
 3685 008a 2046     		mov	r0, r4
 3686 008c FFF7FEFF 		bl	tcp_enqueue_flags
 3687              	.LVL413:
 909:Middlewares/Third_Party/LwIP/src/core/tcp.c ****     /* SYN segment was enqueued, changed the pcbs state now */
 3688              		.loc 1 909 0
 3689 0090 0546     		mov	r5, r0
 3690 0092 10BB     		cbnz	r0, .L371
 911:Middlewares/Third_Party/LwIP/src/core/tcp.c ****     if (old_local_port != 0) {
 3691              		.loc 1 911 0
 3692 0094 0223     		movs	r3, #2
 3693 0096 2375     		strb	r3, [r4, #20]
 912:Middlewares/Third_Party/LwIP/src/core/tcp.c ****       TCP_RMV(&tcp_bound_pcbs, pcb);
 3694              		.loc 1 912 0
 3695 0098 9FB1     		cbz	r7, .L377
 913:Middlewares/Third_Party/LwIP/src/core/tcp.c ****     }
 3696              		.loc 1 913 0
 3697 009a 174B     		ldr	r3, .L391
 3698 009c 1B68     		ldr	r3, [r3]
 3699 009e 9C42     		cmp	r4, r3
 3700 00a0 09D0     		beq	.L389
 3701              	.L378:
 3702              	.LVL414:
 3703              	.LBB28:
 913:Middlewares/Third_Party/LwIP/src/core/tcp.c ****     }
 3704              		.loc 1 913 0 is_stmt 0 discriminator 8
 3705 00a2 73B1     		cbz	r3, .L377
 913:Middlewares/Third_Party/LwIP/src/core/tcp.c ****     }
 3706              		.loc 1 913 0 discriminator 9
 3707 00a4 DA68     		ldr	r2, [r3, #12]
 3708 00a6 9442     		cmp	r4, r2
 3709 00a8 09D0     		beq	.L390
 913:Middlewares/Third_Party/LwIP/src/core/tcp.c ****     }
 3710              		.loc 1 913 0
 3711 00aa 1346     		mov	r3, r2
 3712              	.LVL415:
 3713 00ac F9E7     		b	.L378
 3714              	.LVL416:
 3715              	.L383:
 3716              	.LBE28:
 836:Middlewares/Third_Party/LwIP/src/core/tcp.c ****   pcb->remote_port = port;
 3717              		.loc 1 836 0 is_stmt 1
ARM GAS  C:\Users\Student\AppData\Local\Temp\ccY4weUp.s 			page 108


 3718 00ae 0021     		movs	r1, #0
 3719 00b0 B3E7     		b	.L372
 3720              	.LVL417:
 3721              	.L384:
 3722              	.LBB29:
 844:Middlewares/Third_Party/LwIP/src/core/tcp.c ****     if ((netif == NULL) || (local_ip == NULL)) {
 3723              		.loc 1 844 0
 3724 00b2 0023     		movs	r3, #0
 3725 00b4 BEE7     		b	.L375
 3726              	.LVL418:
 3727              	.L389:
 3728              	.LBE29:
 913:Middlewares/Third_Party/LwIP/src/core/tcp.c ****     }
 3729              		.loc 1 913 0 discriminator 1
 3730 00b6 DA68     		ldr	r2, [r3, #12]
 3731 00b8 0F4B     		ldr	r3, .L391
 3732 00ba 1A60     		str	r2, [r3]
 3733 00bc 01E0     		b	.L377
 3734              	.LVL419:
 3735              	.L390:
 3736              	.LBB30:
 913:Middlewares/Third_Party/LwIP/src/core/tcp.c ****     }
 3737              		.loc 1 913 0 is_stmt 0 discriminator 5
 3738 00be E268     		ldr	r2, [r4, #12]
 3739 00c0 DA60     		str	r2, [r3, #12]
 3740              	.LVL420:
 3741              	.L377:
 3742              	.LBE30:
 915:Middlewares/Third_Party/LwIP/src/core/tcp.c ****     MIB2_STATS_INC(mib2.tcpactiveopens);
 3743              		.loc 1 915 0 is_stmt 1
 3744 00c2 0E4B     		ldr	r3, .L391+4
 3745 00c4 1A68     		ldr	r2, [r3]
 3746 00c6 E260     		str	r2, [r4, #12]
 3747 00c8 1C60     		str	r4, [r3]
 3748 00ca FFF7FEFF 		bl	tcp_timer_needed
 3749              	.LVL421:
 3750 00ce 0122     		movs	r2, #1
 3751 00d0 0B4B     		ldr	r3, .L391+8
 3752 00d2 1A70     		strb	r2, [r3]
 918:Middlewares/Third_Party/LwIP/src/core/tcp.c ****   }
 3753              		.loc 1 918 0
 3754 00d4 2046     		mov	r0, r4
 3755 00d6 FFF7FEFF 		bl	tcp_output
 3756              	.LVL422:
 3757              	.L371:
 921:Middlewares/Third_Party/LwIP/src/core/tcp.c **** 
 3758              		.loc 1 921 0
 3759 00da 2846     		mov	r0, r5
 3760 00dc F8BD     		pop	{r3, r4, r5, r6, r7, pc}
 3761              	.LVL423:
 3762              	.L381:
 830:Middlewares/Third_Party/LwIP/src/core/tcp.c ****   }
 3763              		.loc 1 830 0
 3764 00de 6FF00505 		mvn	r5, #5
 3765 00e2 FAE7     		b	.L371
 3766              	.LVL424:
 3767              	.L382:
ARM GAS  C:\Users\Student\AppData\Local\Temp\ccY4weUp.s 			page 109


 833:Middlewares/Third_Party/LwIP/src/core/tcp.c **** 
 3768              		.loc 1 833 0
 3769 00e4 6FF00905 		mvn	r5, #9
 3770              	.LVL425:
 3771 00e8 F7E7     		b	.L371
 3772              	.LVL426:
 3773              	.L385:
 3774              	.LBB31:
 848:Middlewares/Third_Party/LwIP/src/core/tcp.c ****     }
 3775              		.loc 1 848 0
 3776 00ea 6FF00305 		mvn	r5, #3
 3777              	.LVL427:
 3778 00ee F4E7     		b	.L371
 3779              	.LVL428:
 3780              	.L386:
 3781              	.LBE31:
 858:Middlewares/Third_Party/LwIP/src/core/tcp.c ****     }
 3782              		.loc 1 858 0
 3783 00f0 6FF00105 		mvn	r5, #1
 3784              	.LVL429:
 3785 00f4 F1E7     		b	.L371
 3786              	.L392:
 3787 00f6 00BF     		.align	2
 3788              	.L391:
 3789 00f8 00000000 		.word	tcp_bound_pcbs
 3790 00fc 00000000 		.word	tcp_active_pcbs
 3791 0100 00000000 		.word	tcp_active_pcbs_changed
 3792              		.cfi_endproc
 3793              	.LFE151:
 3795              		.section	.text.tcp_netif_ip_addr_changed,"ax",%progbits
 3796              		.align	1
 3797              		.global	tcp_netif_ip_addr_changed
 3798              		.syntax unified
 3799              		.thumb
 3800              		.thumb_func
 3801              		.fpu fpv5-sp-d16
 3803              	tcp_netif_ip_addr_changed:
 3804              	.LFB178:
1927:Middlewares/Third_Party/LwIP/src/core/tcp.c **** 
1928:Middlewares/Third_Party/LwIP/src/core/tcp.c **** /** This function is called from netif.c when address is changed or netif is removed
1929:Middlewares/Third_Party/LwIP/src/core/tcp.c ****  *
1930:Middlewares/Third_Party/LwIP/src/core/tcp.c ****  * @param old_addr IP address of the netif before change
1931:Middlewares/Third_Party/LwIP/src/core/tcp.c ****  * @param new_addr IP address of the netif after change or NULL if netif has been removed
1932:Middlewares/Third_Party/LwIP/src/core/tcp.c ****  */
1933:Middlewares/Third_Party/LwIP/src/core/tcp.c **** void
1934:Middlewares/Third_Party/LwIP/src/core/tcp.c **** tcp_netif_ip_addr_changed(const ip_addr_t* old_addr, const ip_addr_t* new_addr)
1935:Middlewares/Third_Party/LwIP/src/core/tcp.c **** {
 3805              		.loc 1 1935 0
 3806              		.cfi_startproc
 3807              		@ args = 0, pretend = 0, frame = 0
 3808              		@ frame_needed = 0, uses_anonymous_args = 0
 3809              	.LVL430:
1936:Middlewares/Third_Party/LwIP/src/core/tcp.c ****   struct tcp_pcb_listen *lpcb, *next;
1937:Middlewares/Third_Party/LwIP/src/core/tcp.c **** 
1938:Middlewares/Third_Party/LwIP/src/core/tcp.c ****   if (!ip_addr_isany(old_addr)) {
 3810              		.loc 1 1938 0
 3811 0000 08B3     		cbz	r0, .L399
ARM GAS  C:\Users\Student\AppData\Local\Temp\ccY4weUp.s 			page 110


1935:Middlewares/Third_Party/LwIP/src/core/tcp.c ****   struct tcp_pcb_listen *lpcb, *next;
 3812              		.loc 1 1935 0 discriminator 1
 3813 0002 70B5     		push	{r4, r5, r6, lr}
 3814              	.LCFI48:
 3815              		.cfi_def_cfa_offset 16
 3816              		.cfi_offset 4, -16
 3817              		.cfi_offset 5, -12
 3818              		.cfi_offset 6, -8
 3819              		.cfi_offset 14, -4
 3820 0004 0446     		mov	r4, r0
 3821              		.loc 1 1938 0 discriminator 1
 3822 0006 0368     		ldr	r3, [r0]
 3823 0008 03B9     		cbnz	r3, .L402
 3824              	.LVL431:
 3825              	.L393:
 3826 000a 70BD     		pop	{r4, r5, r6, pc}
 3827              	.LVL432:
 3828              	.L402:
 3829 000c 0E46     		mov	r6, r1
1939:Middlewares/Third_Party/LwIP/src/core/tcp.c ****     tcp_netif_ip_addr_changed_pcblist(old_addr, tcp_active_pcbs);
 3830              		.loc 1 1939 0
 3831 000e 0E4B     		ldr	r3, .L403
 3832 0010 1968     		ldr	r1, [r3]
 3833              	.LVL433:
 3834 0012 FFF7FEFF 		bl	tcp_netif_ip_addr_changed_pcblist
 3835              	.LVL434:
1940:Middlewares/Third_Party/LwIP/src/core/tcp.c ****     tcp_netif_ip_addr_changed_pcblist(old_addr, tcp_bound_pcbs);
 3836              		.loc 1 1940 0
 3837 0016 0D4B     		ldr	r3, .L403+4
 3838 0018 1968     		ldr	r1, [r3]
 3839 001a 2046     		mov	r0, r4
 3840 001c FFF7FEFF 		bl	tcp_netif_ip_addr_changed_pcblist
 3841              	.LVL435:
1941:Middlewares/Third_Party/LwIP/src/core/tcp.c **** 
1942:Middlewares/Third_Party/LwIP/src/core/tcp.c ****     if (!ip_addr_isany(new_addr)) {
 3842              		.loc 1 1942 0
 3843 0020 002E     		cmp	r6, #0
 3844 0022 F2D0     		beq	.L393
 3845              		.loc 1 1942 0 is_stmt 0 discriminator 1
 3846 0024 3368     		ldr	r3, [r6]
 3847 0026 002B     		cmp	r3, #0
 3848 0028 EFD0     		beq	.L393
1943:Middlewares/Third_Party/LwIP/src/core/tcp.c ****       /* PCB bound to current local interface address? */
1944:Middlewares/Third_Party/LwIP/src/core/tcp.c ****       for (lpcb = tcp_listen_pcbs.listen_pcbs; lpcb != NULL; lpcb = next) {
 3849              		.loc 1 1944 0 is_stmt 1
 3850 002a 094B     		ldr	r3, .L403+8
 3851 002c 1B68     		ldr	r3, [r3]
 3852              	.LVL436:
 3853 002e 00E0     		b	.L395
 3854              	.LVL437:
 3855              	.L396:
1935:Middlewares/Third_Party/LwIP/src/core/tcp.c ****   struct tcp_pcb_listen *lpcb, *next;
 3856              		.loc 1 1935 0 discriminator 1
 3857 0030 1346     		mov	r3, r2
 3858              	.LVL438:
 3859              	.L395:
 3860              		.loc 1 1944 0 discriminator 1
ARM GAS  C:\Users\Student\AppData\Local\Temp\ccY4weUp.s 			page 111


 3861 0032 002B     		cmp	r3, #0
 3862 0034 E9D0     		beq	.L393
1945:Middlewares/Third_Party/LwIP/src/core/tcp.c ****         next = lpcb->next;
 3863              		.loc 1 1945 0
 3864 0036 DA68     		ldr	r2, [r3, #12]
 3865              	.LVL439:
1946:Middlewares/Third_Party/LwIP/src/core/tcp.c ****         /* PCB bound to current local interface address? */
1947:Middlewares/Third_Party/LwIP/src/core/tcp.c ****         if (ip_addr_cmp(&lpcb->local_ip, old_addr)) {
 3866              		.loc 1 1947 0
 3867 0038 1D68     		ldr	r5, [r3]
 3868 003a 2068     		ldr	r0, [r4]
 3869 003c 8542     		cmp	r5, r0
 3870 003e F7D1     		bne	.L396
1948:Middlewares/Third_Party/LwIP/src/core/tcp.c ****           /* The PCB is listening to the old ipaddr and
1949:Middlewares/Third_Party/LwIP/src/core/tcp.c ****             * is set to listen to the new one instead */
1950:Middlewares/Third_Party/LwIP/src/core/tcp.c ****           ip_addr_copy(lpcb->local_ip, *new_addr);
 3871              		.loc 1 1950 0
 3872 0040 3168     		ldr	r1, [r6]
 3873 0042 1960     		str	r1, [r3]
 3874 0044 F4E7     		b	.L396
 3875              	.LVL440:
 3876              	.L399:
 3877              	.LCFI49:
 3878              		.cfi_def_cfa_offset 0
 3879              		.cfi_restore 4
 3880              		.cfi_restore 5
 3881              		.cfi_restore 6
 3882              		.cfi_restore 14
 3883 0046 7047     		bx	lr
 3884              	.L404:
 3885              		.align	2
 3886              	.L403:
 3887 0048 00000000 		.word	tcp_active_pcbs
 3888 004c 00000000 		.word	tcp_bound_pcbs
 3889 0050 00000000 		.word	tcp_listen_pcbs
 3890              		.cfi_endproc
 3891              	.LFE178:
 3893              		.section	.text.tcp_debug_state_str,"ax",%progbits
 3894              		.align	1
 3895              		.global	tcp_debug_state_str
 3896              		.syntax unified
 3897              		.thumb
 3898              		.thumb_func
 3899              		.fpu fpv5-sp-d16
 3901              	tcp_debug_state_str:
 3902              	.LFB179:
1951:Middlewares/Third_Party/LwIP/src/core/tcp.c ****         }
1952:Middlewares/Third_Party/LwIP/src/core/tcp.c ****       }
1953:Middlewares/Third_Party/LwIP/src/core/tcp.c ****     }
1954:Middlewares/Third_Party/LwIP/src/core/tcp.c ****   }
1955:Middlewares/Third_Party/LwIP/src/core/tcp.c **** }
1956:Middlewares/Third_Party/LwIP/src/core/tcp.c **** 
1957:Middlewares/Third_Party/LwIP/src/core/tcp.c **** const char*
1958:Middlewares/Third_Party/LwIP/src/core/tcp.c **** tcp_debug_state_str(enum tcp_state s)
1959:Middlewares/Third_Party/LwIP/src/core/tcp.c **** {
 3903              		.loc 1 1959 0
 3904              		.cfi_startproc
ARM GAS  C:\Users\Student\AppData\Local\Temp\ccY4weUp.s 			page 112


 3905              		@ args = 0, pretend = 0, frame = 0
 3906              		@ frame_needed = 0, uses_anonymous_args = 0
 3907              		@ link register save eliminated.
 3908              	.LVL441:
1960:Middlewares/Third_Party/LwIP/src/core/tcp.c ****   return tcp_state_str[s];
1961:Middlewares/Third_Party/LwIP/src/core/tcp.c **** }
 3909              		.loc 1 1961 0
 3910 0000 014B     		ldr	r3, .L406
 3911 0002 53F82000 		ldr	r0, [r3, r0, lsl #2]
 3912              	.LVL442:
 3913 0006 7047     		bx	lr
 3914              	.L407:
 3915              		.align	2
 3916              	.L406:
 3917 0008 00000000 		.word	.LANCHOR7
 3918              		.cfi_endproc
 3919              	.LFE179:
 3921              		.comm	tcp_active_pcbs_changed,1,1
 3922              		.global	tcp_pcb_lists
 3923              		.comm	tcp_tw_pcbs,4,4
 3924              		.comm	tcp_active_pcbs,4,4
 3925              		.comm	tcp_listen_pcbs,4,4
 3926              		.comm	tcp_bound_pcbs,4,4
 3927              		.comm	tcp_ticks,4,4
 3928              		.section	.bss.tcp_timer,"aw",%nobits
 3929              		.set	.LANCHOR5,. + 0
 3932              	tcp_timer:
 3933 0000 00       		.space	1
 3934              		.section	.bss.tcp_timer_ctr,"aw",%nobits
 3935              		.set	.LANCHOR2,. + 0
 3938              	tcp_timer_ctr:
 3939 0000 00       		.space	1
 3940              		.section	.data.iss.11342,"aw",%progbits
 3941              		.align	2
 3942              		.set	.LANCHOR6,. + 0
 3945              	iss.11342:
 3946 0000 6E190000 		.word	6510
 3947              		.section	.data.tcp_port,"aw",%progbits
 3948              		.align	1
 3949              		.set	.LANCHOR1,. + 0
 3952              	tcp_port:
 3953 0000 00C0     		.short	-16384
 3954              		.section	.rodata.str1.4,"aMS",%progbits,1
 3955              		.align	2
 3956              	.LC0:
 3957 0000 434C4F53 		.ascii	"CLOSED\000"
 3957      454400
 3958 0007 00       		.space	1
 3959              	.LC1:
 3960 0008 4C495354 		.ascii	"LISTEN\000"
 3960      454E00
 3961 000f 00       		.space	1
 3962              	.LC2:
 3963 0010 53594E5F 		.ascii	"SYN_SENT\000"
 3963      53454E54 
 3963      00
 3964 0019 000000   		.space	3
ARM GAS  C:\Users\Student\AppData\Local\Temp\ccY4weUp.s 			page 113


 3965              	.LC3:
 3966 001c 53594E5F 		.ascii	"SYN_RCVD\000"
 3966      52435644 
 3966      00
 3967 0025 000000   		.space	3
 3968              	.LC4:
 3969 0028 45535441 		.ascii	"ESTABLISHED\000"
 3969      424C4953 
 3969      48454400 
 3970              	.LC5:
 3971 0034 46494E5F 		.ascii	"FIN_WAIT_1\000"
 3971      57414954 
 3971      5F3100
 3972 003f 00       		.space	1
 3973              	.LC6:
 3974 0040 46494E5F 		.ascii	"FIN_WAIT_2\000"
 3974      57414954 
 3974      5F3200
 3975 004b 00       		.space	1
 3976              	.LC7:
 3977 004c 434C4F53 		.ascii	"CLOSE_WAIT\000"
 3977      455F5741 
 3977      495400
 3978 0057 00       		.space	1
 3979              	.LC8:
 3980 0058 434C4F53 		.ascii	"CLOSING\000"
 3980      494E4700 
 3981              	.LC9:
 3982 0060 4C415354 		.ascii	"LAST_ACK\000"
 3982      5F41434B 
 3982      00
 3983 0069 000000   		.space	3
 3984              	.LC10:
 3985 006c 54494D45 		.ascii	"TIME_WAIT\000"
 3985      5F574149 
 3985      5400
 3986              		.section	.rodata.tcp_backoff,"a",%progbits
 3987              		.align	2
 3988              		.set	.LANCHOR4,. + 0
 3991              	tcp_backoff:
 3992 0000 01       		.byte	1
 3993 0001 02       		.byte	2
 3994 0002 03       		.byte	3
 3995 0003 04       		.byte	4
 3996 0004 05       		.byte	5
 3997 0005 06       		.byte	6
 3998 0006 07       		.byte	7
 3999 0007 07       		.byte	7
 4000 0008 07       		.byte	7
 4001 0009 07       		.byte	7
 4002 000a 07       		.byte	7
 4003 000b 07       		.byte	7
 4004 000c 07       		.byte	7
 4005              		.section	.rodata.tcp_pcb_lists,"a",%progbits
 4006              		.align	2
 4007              		.set	.LANCHOR0,. + 0
 4010              	tcp_pcb_lists:
ARM GAS  C:\Users\Student\AppData\Local\Temp\ccY4weUp.s 			page 114


 4011 0000 00000000 		.word	tcp_listen_pcbs
 4012 0004 00000000 		.word	tcp_bound_pcbs
 4013 0008 00000000 		.word	tcp_active_pcbs
 4014 000c 00000000 		.word	tcp_tw_pcbs
 4015              		.section	.rodata.tcp_persist_backoff,"a",%progbits
 4016              		.align	2
 4017              		.set	.LANCHOR3,. + 0
 4020              	tcp_persist_backoff:
 4021 0000 03       		.byte	3
 4022 0001 06       		.byte	6
 4023 0002 0C       		.byte	12
 4024 0003 18       		.byte	24
 4025 0004 30       		.byte	48
 4026 0005 60       		.byte	96
 4027 0006 78       		.byte	120
 4028              		.section	.rodata.tcp_state_str,"a",%progbits
 4029              		.align	2
 4030              		.set	.LANCHOR7,. + 0
 4033              	tcp_state_str:
 4034 0000 00000000 		.word	.LC0
 4035 0004 08000000 		.word	.LC1
 4036 0008 10000000 		.word	.LC2
 4037 000c 1C000000 		.word	.LC3
 4038 0010 28000000 		.word	.LC4
 4039 0014 34000000 		.word	.LC5
 4040 0018 40000000 		.word	.LC6
 4041 001c 4C000000 		.word	.LC7
 4042 0020 58000000 		.word	.LC8
 4043 0024 60000000 		.word	.LC9
 4044 0028 6C000000 		.word	.LC10
 4045              		.text
 4046              	.Letext0:
 4047              		.file 2 "c:\\gcc_toolchain\\6_2017-q1-update\\arm-none-eabi\\include\\machine\\_default_types.h"
 4048              		.file 3 "c:\\gcc_toolchain\\6_2017-q1-update\\arm-none-eabi\\include\\sys\\_stdint.h"
 4049              		.file 4 "Drivers/CMSIS/Include/core_cm7.h"
 4050              		.file 5 "Drivers/CMSIS/Device/ST/STM32F7xx/Include/system_stm32f7xx.h"
 4051              		.file 6 "c:\\gcc_toolchain\\6_2017-q1-update\\lib\\gcc\\arm-none-eabi\\6.3.1\\include\\stddef.h"
 4052              		.file 7 "c:\\gcc_toolchain\\6_2017-q1-update\\arm-none-eabi\\include\\sys\\lock.h"
 4053              		.file 8 "c:\\gcc_toolchain\\6_2017-q1-update\\arm-none-eabi\\include\\sys\\_types.h"
 4054              		.file 9 "c:\\gcc_toolchain\\6_2017-q1-update\\arm-none-eabi\\include\\sys\\reent.h"
 4055              		.file 10 "c:\\gcc_toolchain\\6_2017-q1-update\\arm-none-eabi\\include\\stdlib.h"
 4056              		.file 11 "Middlewares/Third_Party/LwIP/src/include/lwip/arch.h"
 4057              		.file 12 "Middlewares/Third_Party/LwIP/src/include/lwip/priv/memp_priv.h"
 4058              		.file 13 "Middlewares/Third_Party/LwIP/src/include/lwip/memp.h"
 4059              		.file 14 "Middlewares/Third_Party/LwIP/src/include/lwip/err.h"
 4060              		.file 15 "Middlewares/Third_Party/LwIP/src/include/lwip/pbuf.h"
 4061              		.file 16 "Middlewares/Third_Party/LwIP/src/include/lwip/ip4_addr.h"
 4062              		.file 17 "Middlewares/Third_Party/LwIP/src/include/lwip/ip_addr.h"
 4063              		.file 18 "Middlewares/Third_Party/LwIP/src/include/lwip/netif.h"
 4064              		.file 19 "Middlewares/Third_Party/LwIP/src/include/lwip/prot/ip4.h"
 4065              		.file 20 "Middlewares/Third_Party/LwIP/src/include/lwip/ip.h"
 4066              		.file 21 "Middlewares/Third_Party/LwIP/src/include/lwip/tcp.h"
 4067              		.file 22 "Middlewares/Third_Party/LwIP/src/include/lwip/priv/tcp_priv.h"
 4068              		.file 23 "Middlewares/Third_Party/LwIP/src/include/lwip/prot/tcp.h"
 4069              		.file 24 "Middlewares/Third_Party/LwIP/src/include/lwip/ip4.h"
ARM GAS  C:\Users\Student\AppData\Local\Temp\ccY4weUp.s 			page 115


DEFINED SYMBOLS
                            *ABS*:00000000 tcp.c
C:\Users\Student\AppData\Local\Temp\ccY4weUp.s:18     .text.tcp_remove_listener:00000000 $t
C:\Users\Student\AppData\Local\Temp\ccY4weUp.s:24     .text.tcp_remove_listener:00000000 tcp_remove_listener
C:\Users\Student\AppData\Local\Temp\ccY4weUp.s:58     .text.tcp_listen_closed:00000000 $t
C:\Users\Student\AppData\Local\Temp\ccY4weUp.s:64     .text.tcp_listen_closed:00000000 tcp_listen_closed
C:\Users\Student\AppData\Local\Temp\ccY4weUp.s:105    .text.tcp_listen_closed:00000020 $d
C:\Users\Student\AppData\Local\Temp\ccY4weUp.s:110    .text.tcp_new_port:00000000 $t
C:\Users\Student\AppData\Local\Temp\ccY4weUp.s:116    .text.tcp_new_port:00000000 tcp_new_port
C:\Users\Student\AppData\Local\Temp\ccY4weUp.s:217    .text.tcp_new_port:0000005c $d
C:\Users\Student\AppData\Local\Temp\ccY4weUp.s:223    .text.tcp_init:00000000 $t
C:\Users\Student\AppData\Local\Temp\ccY4weUp.s:230    .text.tcp_init:00000000 tcp_init
C:\Users\Student\AppData\Local\Temp\ccY4weUp.s:242    .text.tcp_bind:00000000 $t
C:\Users\Student\AppData\Local\Temp\ccY4weUp.s:249    .text.tcp_bind:00000000 tcp_bind
C:\Users\Student\AppData\Local\Temp\ccY4weUp.s:404    .text.tcp_bind:0000009c $d
                            *COM*:00000004 tcp_bound_pcbs
C:\Users\Student\AppData\Local\Temp\ccY4weUp.s:411    .text.tcp_listen_with_backlog:00000000 $t
C:\Users\Student\AppData\Local\Temp\ccY4weUp.s:418    .text.tcp_listen_with_backlog:00000000 tcp_listen_with_backlog
C:\Users\Student\AppData\Local\Temp\ccY4weUp.s:550    .text.tcp_listen_with_backlog:00000088 $d
C:\Users\Student\AppData\Local\Temp\ccY4weUp.s:2934   .text.tcp_accept_null:00000000 tcp_accept_null
                            *COM*:00000004 tcp_listen_pcbs
C:\Users\Student\AppData\Local\Temp\ccY4weUp.s:557    .text.tcp_update_rcv_ann_wnd:00000000 $t
C:\Users\Student\AppData\Local\Temp\ccY4weUp.s:564    .text.tcp_update_rcv_ann_wnd:00000000 tcp_update_rcv_ann_wnd
C:\Users\Student\AppData\Local\Temp\ccY4weUp.s:642    .text.tcp_recved:00000000 $t
C:\Users\Student\AppData\Local\Temp\ccY4weUp.s:649    .text.tcp_recved:00000000 tcp_recved
C:\Users\Student\AppData\Local\Temp\ccY4weUp.s:719    .text.tcp_txnow:00000000 $t
C:\Users\Student\AppData\Local\Temp\ccY4weUp.s:726    .text.tcp_txnow:00000000 tcp_txnow
C:\Users\Student\AppData\Local\Temp\ccY4weUp.s:765    .text.tcp_txnow:00000020 $d
                            *COM*:00000004 tcp_active_pcbs
C:\Users\Student\AppData\Local\Temp\ccY4weUp.s:770    .text.tcp_seg_free:00000000 $t
C:\Users\Student\AppData\Local\Temp\ccY4weUp.s:777    .text.tcp_seg_free:00000000 tcp_seg_free
C:\Users\Student\AppData\Local\Temp\ccY4weUp.s:818    .text.tcp_segs_free:00000000 $t
C:\Users\Student\AppData\Local\Temp\ccY4weUp.s:825    .text.tcp_segs_free:00000000 tcp_segs_free
C:\Users\Student\AppData\Local\Temp\ccY4weUp.s:867    .text.tcp_setprio:00000000 $t
C:\Users\Student\AppData\Local\Temp\ccY4weUp.s:874    .text.tcp_setprio:00000000 tcp_setprio
C:\Users\Student\AppData\Local\Temp\ccY4weUp.s:889    .text.tcp_seg_copy:00000000 $t
C:\Users\Student\AppData\Local\Temp\ccY4weUp.s:896    .text.tcp_seg_copy:00000000 tcp_seg_copy
C:\Users\Student\AppData\Local\Temp\ccY4weUp.s:941    .text.tcp_arg:00000000 $t
C:\Users\Student\AppData\Local\Temp\ccY4weUp.s:948    .text.tcp_arg:00000000 tcp_arg
C:\Users\Student\AppData\Local\Temp\ccY4weUp.s:966    .text.tcp_recv:00000000 $t
C:\Users\Student\AppData\Local\Temp\ccY4weUp.s:973    .text.tcp_recv:00000000 tcp_recv
C:\Users\Student\AppData\Local\Temp\ccY4weUp.s:991    .text.tcp_sent:00000000 $t
C:\Users\Student\AppData\Local\Temp\ccY4weUp.s:998    .text.tcp_sent:00000000 tcp_sent
C:\Users\Student\AppData\Local\Temp\ccY4weUp.s:1016   .text.tcp_err:00000000 $t
C:\Users\Student\AppData\Local\Temp\ccY4weUp.s:1023   .text.tcp_err:00000000 tcp_err
C:\Users\Student\AppData\Local\Temp\ccY4weUp.s:1041   .text.tcp_accept:00000000 $t
C:\Users\Student\AppData\Local\Temp\ccY4weUp.s:1048   .text.tcp_accept:00000000 tcp_accept
C:\Users\Student\AppData\Local\Temp\ccY4weUp.s:1076   .text.tcp_poll:00000000 $t
C:\Users\Student\AppData\Local\Temp\ccY4weUp.s:1083   .text.tcp_poll:00000000 tcp_poll
C:\Users\Student\AppData\Local\Temp\ccY4weUp.s:1100   .text.tcp_pcb_purge:00000000 $t
C:\Users\Student\AppData\Local\Temp\ccY4weUp.s:1107   .text.tcp_pcb_purge:00000000 tcp_pcb_purge
C:\Users\Student\AppData\Local\Temp\ccY4weUp.s:1172   .text.tcp_slowtmr:00000000 $t
C:\Users\Student\AppData\Local\Temp\ccY4weUp.s:1179   .text.tcp_slowtmr:00000000 tcp_slowtmr
C:\Users\Student\AppData\Local\Temp\ccY4weUp.s:1696   .text.tcp_slowtmr:000002a0 $d
                            *COM*:00000004 tcp_ticks
                            *COM*:00000001 tcp_active_pcbs_changed
                            *COM*:00000004 tcp_tw_pcbs
ARM GAS  C:\Users\Student\AppData\Local\Temp\ccY4weUp.s 			page 116


C:\Users\Student\AppData\Local\Temp\ccY4weUp.s:1709   .text.tcp_slowtmr:000002c8 $t
C:\Users\Student\AppData\Local\Temp\ccY4weUp.s:1781   .text.tcp_slowtmr:0000030c $d
C:\Users\Student\AppData\Local\Temp\ccY4weUp.s:1787   .text.tcp_pcb_remove:00000000 $t
C:\Users\Student\AppData\Local\Temp\ccY4weUp.s:1794   .text.tcp_pcb_remove:00000000 tcp_pcb_remove
C:\Users\Student\AppData\Local\Temp\ccY4weUp.s:1879   .text.tcp_close_shutdown:00000000 $t
C:\Users\Student\AppData\Local\Temp\ccY4weUp.s:1885   .text.tcp_close_shutdown:00000000 tcp_close_shutdown
C:\Users\Student\AppData\Local\Temp\ccY4weUp.s:1963   .text.tcp_close_shutdown:00000058 $d
C:\Users\Student\AppData\Local\Temp\ccY4weUp.s:1972   .text.tcp_close_shutdown:00000060 $t
C:\Users\Student\AppData\Local\Temp\ccY4weUp.s:2216   .text.tcp_close_shutdown:00000170 $d
C:\Users\Student\AppData\Local\Temp\ccY4weUp.s:2226   .text.tcp_close:00000000 $t
C:\Users\Student\AppData\Local\Temp\ccY4weUp.s:2233   .text.tcp_close:00000000 tcp_close
C:\Users\Student\AppData\Local\Temp\ccY4weUp.s:2264   .text.tcp_recv_null:00000000 $t
C:\Users\Student\AppData\Local\Temp\ccY4weUp.s:2271   .text.tcp_recv_null:00000000 tcp_recv_null
C:\Users\Student\AppData\Local\Temp\ccY4weUp.s:2319   .text.tcp_process_refused_data:00000000 $t
C:\Users\Student\AppData\Local\Temp\ccY4weUp.s:2326   .text.tcp_process_refused_data:00000000 tcp_process_refused_data
C:\Users\Student\AppData\Local\Temp\ccY4weUp.s:2432   .text.tcp_fasttmr:00000000 $t
C:\Users\Student\AppData\Local\Temp\ccY4weUp.s:2439   .text.tcp_fasttmr:00000000 tcp_fasttmr
C:\Users\Student\AppData\Local\Temp\ccY4weUp.s:2533   .text.tcp_fasttmr:00000060 $d
C:\Users\Student\AppData\Local\Temp\ccY4weUp.s:2540   .text.tcp_tmr:00000000 $t
C:\Users\Student\AppData\Local\Temp\ccY4weUp.s:2547   .text.tcp_tmr:00000000 tcp_tmr
C:\Users\Student\AppData\Local\Temp\ccY4weUp.s:2580   .text.tcp_tmr:00000020 $d
C:\Users\Student\AppData\Local\Temp\ccY4weUp.s:2585   .text.tcp_shutdown:00000000 $t
C:\Users\Student\AppData\Local\Temp\ccY4weUp.s:2592   .text.tcp_shutdown:00000000 tcp_shutdown
C:\Users\Student\AppData\Local\Temp\ccY4weUp.s:2691   .text.tcp_abandon:00000000 $t
C:\Users\Student\AppData\Local\Temp\ccY4weUp.s:2698   .text.tcp_abandon:00000000 tcp_abandon
C:\Users\Student\AppData\Local\Temp\ccY4weUp.s:2891   .text.tcp_abandon:000000c4 $d
C:\Users\Student\AppData\Local\Temp\ccY4weUp.s:2900   .text.tcp_abort:00000000 $t
C:\Users\Student\AppData\Local\Temp\ccY4weUp.s:2907   .text.tcp_abort:00000000 tcp_abort
C:\Users\Student\AppData\Local\Temp\ccY4weUp.s:2928   .text.tcp_accept_null:00000000 $t
C:\Users\Student\AppData\Local\Temp\ccY4weUp.s:2958   .text.tcp_kill_timewait:00000000 $t
C:\Users\Student\AppData\Local\Temp\ccY4weUp.s:2964   .text.tcp_kill_timewait:00000000 tcp_kill_timewait
C:\Users\Student\AppData\Local\Temp\ccY4weUp.s:3021   .text.tcp_kill_timewait:0000002c $d
C:\Users\Student\AppData\Local\Temp\ccY4weUp.s:3027   .text.tcp_kill_prio:00000000 $t
C:\Users\Student\AppData\Local\Temp\ccY4weUp.s:3033   .text.tcp_kill_prio:00000000 tcp_kill_prio
C:\Users\Student\AppData\Local\Temp\ccY4weUp.s:3104   .text.tcp_kill_prio:0000003c $d
C:\Users\Student\AppData\Local\Temp\ccY4weUp.s:3110   .text.tcp_netif_ip_addr_changed_pcblist:00000000 $t
C:\Users\Student\AppData\Local\Temp\ccY4weUp.s:3116   .text.tcp_netif_ip_addr_changed_pcblist:00000000 tcp_netif_ip_addr_changed_pcblist
C:\Users\Student\AppData\Local\Temp\ccY4weUp.s:3167   .text.tcp_kill_state:00000000 $t
C:\Users\Student\AppData\Local\Temp\ccY4weUp.s:3173   .text.tcp_kill_state:00000000 tcp_kill_state
C:\Users\Student\AppData\Local\Temp\ccY4weUp.s:3241   .text.tcp_kill_state:00000034 $d
C:\Users\Student\AppData\Local\Temp\ccY4weUp.s:3247   .text.tcp_next_iss:00000000 $t
C:\Users\Student\AppData\Local\Temp\ccY4weUp.s:3254   .text.tcp_next_iss:00000000 tcp_next_iss
C:\Users\Student\AppData\Local\Temp\ccY4weUp.s:3273   .text.tcp_next_iss:00000010 $d
C:\Users\Student\AppData\Local\Temp\ccY4weUp.s:3279   .text.tcp_alloc:00000000 $t
C:\Users\Student\AppData\Local\Temp\ccY4weUp.s:3286   .text.tcp_alloc:00000000 tcp_alloc
C:\Users\Student\AppData\Local\Temp\ccY4weUp.s:3429   .text.tcp_alloc:000000b8 $d
C:\Users\Student\AppData\Local\Temp\ccY4weUp.s:3437   .text.tcp_new:00000000 $t
C:\Users\Student\AppData\Local\Temp\ccY4weUp.s:3444   .text.tcp_new:00000000 tcp_new
C:\Users\Student\AppData\Local\Temp\ccY4weUp.s:3465   .text.tcp_new_ip_type:00000000 $t
C:\Users\Student\AppData\Local\Temp\ccY4weUp.s:3472   .text.tcp_new_ip_type:00000000 tcp_new_ip_type
C:\Users\Student\AppData\Local\Temp\ccY4weUp.s:3495   .text.tcp_eff_send_mss_impl:00000000 $t
C:\Users\Student\AppData\Local\Temp\ccY4weUp.s:3502   .text.tcp_eff_send_mss_impl:00000000 tcp_eff_send_mss_impl
C:\Users\Student\AppData\Local\Temp\ccY4weUp.s:3554   .text.tcp_connect:00000000 $t
C:\Users\Student\AppData\Local\Temp\ccY4weUp.s:3561   .text.tcp_connect:00000000 tcp_connect
C:\Users\Student\AppData\Local\Temp\ccY4weUp.s:3789   .text.tcp_connect:000000f8 $d
C:\Users\Student\AppData\Local\Temp\ccY4weUp.s:3796   .text.tcp_netif_ip_addr_changed:00000000 $t
C:\Users\Student\AppData\Local\Temp\ccY4weUp.s:3803   .text.tcp_netif_ip_addr_changed:00000000 tcp_netif_ip_addr_changed
ARM GAS  C:\Users\Student\AppData\Local\Temp\ccY4weUp.s 			page 117


C:\Users\Student\AppData\Local\Temp\ccY4weUp.s:3887   .text.tcp_netif_ip_addr_changed:00000048 $d
C:\Users\Student\AppData\Local\Temp\ccY4weUp.s:3894   .text.tcp_debug_state_str:00000000 $t
C:\Users\Student\AppData\Local\Temp\ccY4weUp.s:3901   .text.tcp_debug_state_str:00000000 tcp_debug_state_str
C:\Users\Student\AppData\Local\Temp\ccY4weUp.s:3917   .text.tcp_debug_state_str:00000008 $d
C:\Users\Student\AppData\Local\Temp\ccY4weUp.s:4010   .rodata.tcp_pcb_lists:00000000 tcp_pcb_lists
C:\Users\Student\AppData\Local\Temp\ccY4weUp.s:3932   .bss.tcp_timer:00000000 tcp_timer
C:\Users\Student\AppData\Local\Temp\ccY4weUp.s:3933   .bss.tcp_timer:00000000 $d
C:\Users\Student\AppData\Local\Temp\ccY4weUp.s:3938   .bss.tcp_timer_ctr:00000000 tcp_timer_ctr
C:\Users\Student\AppData\Local\Temp\ccY4weUp.s:3939   .bss.tcp_timer_ctr:00000000 $d
C:\Users\Student\AppData\Local\Temp\ccY4weUp.s:3941   .data.iss.11342:00000000 $d
C:\Users\Student\AppData\Local\Temp\ccY4weUp.s:3945   .data.iss.11342:00000000 iss.11342
C:\Users\Student\AppData\Local\Temp\ccY4weUp.s:3948   .data.tcp_port:00000000 $d
C:\Users\Student\AppData\Local\Temp\ccY4weUp.s:3952   .data.tcp_port:00000000 tcp_port
C:\Users\Student\AppData\Local\Temp\ccY4weUp.s:3955   .rodata.str1.4:00000000 $d
C:\Users\Student\AppData\Local\Temp\ccY4weUp.s:3987   .rodata.tcp_backoff:00000000 $d
C:\Users\Student\AppData\Local\Temp\ccY4weUp.s:3991   .rodata.tcp_backoff:00000000 tcp_backoff
C:\Users\Student\AppData\Local\Temp\ccY4weUp.s:4006   .rodata.tcp_pcb_lists:00000000 $d
C:\Users\Student\AppData\Local\Temp\ccY4weUp.s:4016   .rodata.tcp_persist_backoff:00000000 $d
C:\Users\Student\AppData\Local\Temp\ccY4weUp.s:4020   .rodata.tcp_persist_backoff:00000000 tcp_persist_backoff
C:\Users\Student\AppData\Local\Temp\ccY4weUp.s:4029   .rodata.tcp_state_str:00000000 $d
C:\Users\Student\AppData\Local\Temp\ccY4weUp.s:4033   .rodata.tcp_state_str:00000000 tcp_state_str
                     .debug_frame:00000010 $d

UNDEFINED SYMBOLS
tcp_timer_needed
ip_addr_any
memp_malloc
memp_free
tcp_output
pbuf_free
pbuf_ref
tcp_zero_window_probe
tcp_rexmit_rto
tcp_keepalive
tcp_rst
tcp_trigger_input_pcb_close
tcp_send_fin
tcp_input_pcb
memset
ip4_route
tcp_enqueue_flags
