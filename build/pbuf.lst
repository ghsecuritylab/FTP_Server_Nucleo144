ARM GAS  C:\Users\Student\AppData\Local\Temp\ccjV5bMK.s 			page 1


   1              		.cpu cortex-m7
   2              		.eabi_attribute 27, 1
   3              		.eabi_attribute 28, 1
   4              		.eabi_attribute 20, 1
   5              		.eabi_attribute 21, 1
   6              		.eabi_attribute 23, 3
   7              		.eabi_attribute 24, 1
   8              		.eabi_attribute 25, 1
   9              		.eabi_attribute 26, 1
  10              		.eabi_attribute 30, 1
  11              		.eabi_attribute 34, 1
  12              		.eabi_attribute 18, 4
  13              		.file	"pbuf.c"
  14              		.text
  15              	.Ltext0:
  16              		.cfi_sections	.debug_frame
  17              		.section	.text.pbuf_header_impl,"ax",%progbits
  18              		.align	1
  19              		.syntax unified
  20              		.thumb
  21              		.thumb_func
  22              		.fpu fpv5-sp-d16
  24              	pbuf_header_impl:
  25              	.LFB147:
  26              		.file 1 "Middlewares/Third_Party/LwIP/src/core/pbuf.c"
   1:Middlewares/Third_Party/LwIP/src/core/pbuf.c **** /**
   2:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****  * @file
   3:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****  * Packet buffer management
   4:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****  */
   5:Middlewares/Third_Party/LwIP/src/core/pbuf.c **** 
   6:Middlewares/Third_Party/LwIP/src/core/pbuf.c **** /**
   7:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****  * @defgroup pbuf Packet buffers (PBUF)
   8:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****  * @ingroup infrastructure
   9:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****  *
  10:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****  * Packets are built from the pbuf data structure. It supports dynamic
  11:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****  * memory allocation for packet contents or can reference externally
  12:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****  * managed packet contents both in RAM and ROM. Quick allocation for
  13:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****  * incoming packets is provided through pools with fixed sized pbufs.
  14:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****  *
  15:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****  * A packet may span over multiple pbufs, chained as a singly linked
  16:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****  * list. This is called a "pbuf chain".
  17:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****  *
  18:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****  * Multiple packets may be queued, also using this singly linked list.
  19:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****  * This is called a "packet queue".
  20:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****  *
  21:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****  * So, a packet queue consists of one or more pbuf chains, each of
  22:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****  * which consist of one or more pbufs. CURRENTLY, PACKET QUEUES ARE
  23:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****  * NOT SUPPORTED!!! Use helper structs to queue multiple packets.
  24:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****  *
  25:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****  * The differences between a pbuf chain and a packet queue are very
  26:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****  * precise but subtle.
  27:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****  *
  28:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****  * The last pbuf of a packet has a ->tot_len field that equals the
  29:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****  * ->len field. It can be found by traversing the list. If the last
  30:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****  * pbuf of a packet has a ->next field other than NULL, more packets
  31:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****  * are on the queue.
  32:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****  *
ARM GAS  C:\Users\Student\AppData\Local\Temp\ccjV5bMK.s 			page 2


  33:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****  * Therefore, looping through a pbuf of a single packet, has an
  34:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****  * loop end condition (tot_len == p->len), NOT (next == NULL).
  35:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****  *
  36:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****  * Example of custom pbuf usage for zero-copy RX:
  37:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****   @code{.c}
  38:Middlewares/Third_Party/LwIP/src/core/pbuf.c **** typedef struct my_custom_pbuf
  39:Middlewares/Third_Party/LwIP/src/core/pbuf.c **** {
  40:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****    struct pbuf_custom p;
  41:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****    void* dma_descriptor;
  42:Middlewares/Third_Party/LwIP/src/core/pbuf.c **** } my_custom_pbuf_t;
  43:Middlewares/Third_Party/LwIP/src/core/pbuf.c **** 
  44:Middlewares/Third_Party/LwIP/src/core/pbuf.c **** LWIP_MEMPOOL_DECLARE(RX_POOL, 10, sizeof(my_custom_pbuf_t), "Zero-copy RX PBUF pool");
  45:Middlewares/Third_Party/LwIP/src/core/pbuf.c **** 
  46:Middlewares/Third_Party/LwIP/src/core/pbuf.c **** void my_pbuf_free_custom(void* p)
  47:Middlewares/Third_Party/LwIP/src/core/pbuf.c **** {
  48:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****   my_custom_pbuf_t* my_puf = (my_custom_pbuf_t*)p;
  49:Middlewares/Third_Party/LwIP/src/core/pbuf.c **** 
  50:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****   LOCK_INTERRUPTS();
  51:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****   free_rx_dma_descriptor(my_pbuf->dma_descriptor);
  52:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****   LWIP_MEMPOOL_FREE(RX_POOL, my_pbuf);
  53:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****   UNLOCK_INTERRUPTS();
  54:Middlewares/Third_Party/LwIP/src/core/pbuf.c **** }
  55:Middlewares/Third_Party/LwIP/src/core/pbuf.c **** 
  56:Middlewares/Third_Party/LwIP/src/core/pbuf.c **** void eth_rx_irq()
  57:Middlewares/Third_Party/LwIP/src/core/pbuf.c **** {
  58:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****   dma_descriptor*   dma_desc = get_RX_DMA_descriptor_from_ethernet();
  59:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****   my_custom_pbuf_t* my_pbuf  = (my_custom_pbuf_t*)LWIP_MEMPOOL_ALLOC(RX_POOL);
  60:Middlewares/Third_Party/LwIP/src/core/pbuf.c **** 
  61:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****   my_pbuf->p.custom_free_function = my_pbuf_free_custom;
  62:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****   my_pbuf->dma_descriptor         = dma_desc;
  63:Middlewares/Third_Party/LwIP/src/core/pbuf.c **** 
  64:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****   invalidate_cpu_cache(dma_desc->rx_data, dma_desc->rx_length);
  65:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****   
  66:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****   struct pbuf* p = pbuf_alloced_custom(PBUF_RAW,
  67:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****      dma_desc->rx_length,
  68:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****      PBUF_REF,
  69:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****      &my_pbuf->p,
  70:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****      dma_desc->rx_data,
  71:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****      dma_desc->max_buffer_size);
  72:Middlewares/Third_Party/LwIP/src/core/pbuf.c **** 
  73:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****   if(netif->input(p, netif) != ERR_OK) {
  74:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****     pbuf_free(p);
  75:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****   }
  76:Middlewares/Third_Party/LwIP/src/core/pbuf.c **** }
  77:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****   @endcode
  78:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****  */
  79:Middlewares/Third_Party/LwIP/src/core/pbuf.c **** 
  80:Middlewares/Third_Party/LwIP/src/core/pbuf.c **** /*
  81:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****  * Copyright (c) 2001-2004 Swedish Institute of Computer Science.
  82:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****  * All rights reserved.
  83:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****  *
  84:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****  * Redistribution and use in source and binary forms, with or without modification,
  85:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****  * are permitted provided that the following conditions are met:
  86:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****  *
  87:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****  * 1. Redistributions of source code must retain the above copyright notice,
  88:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****  *    this list of conditions and the following disclaimer.
  89:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****  * 2. Redistributions in binary form must reproduce the above copyright notice,
ARM GAS  C:\Users\Student\AppData\Local\Temp\ccjV5bMK.s 			page 3


  90:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****  *    this list of conditions and the following disclaimer in the documentation
  91:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****  *    and/or other materials provided with the distribution.
  92:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****  * 3. The name of the author may not be used to endorse or promote products
  93:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****  *    derived from this software without specific prior written permission.
  94:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****  *
  95:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****  * THIS SOFTWARE IS PROVIDED BY THE AUTHOR ``AS IS'' AND ANY EXPRESS OR IMPLIED
  96:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****  * WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED WARRANTIES OF
  97:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****  * MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE DISCLAIMED. IN NO EVENT
  98:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****  * SHALL THE AUTHOR BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL,
  99:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****  * EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT
 100:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****  * OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS
 101:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****  * INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN
 102:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****  * CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING
 103:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****  * IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY
 104:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****  * OF SUCH DAMAGE.
 105:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****  *
 106:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****  * This file is part of the lwIP TCP/IP stack.
 107:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****  *
 108:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****  * Author: Adam Dunkels <adam@sics.se>
 109:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****  *
 110:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****  */
 111:Middlewares/Third_Party/LwIP/src/core/pbuf.c **** 
 112:Middlewares/Third_Party/LwIP/src/core/pbuf.c **** #include "lwip/opt.h"
 113:Middlewares/Third_Party/LwIP/src/core/pbuf.c **** 
 114:Middlewares/Third_Party/LwIP/src/core/pbuf.c **** #include "lwip/stats.h"
 115:Middlewares/Third_Party/LwIP/src/core/pbuf.c **** #include "lwip/def.h"
 116:Middlewares/Third_Party/LwIP/src/core/pbuf.c **** #include "lwip/mem.h"
 117:Middlewares/Third_Party/LwIP/src/core/pbuf.c **** #include "lwip/memp.h"
 118:Middlewares/Third_Party/LwIP/src/core/pbuf.c **** #include "lwip/pbuf.h"
 119:Middlewares/Third_Party/LwIP/src/core/pbuf.c **** #include "lwip/sys.h"
 120:Middlewares/Third_Party/LwIP/src/core/pbuf.c **** #if LWIP_TCP && TCP_QUEUE_OOSEQ
 121:Middlewares/Third_Party/LwIP/src/core/pbuf.c **** #include "lwip/priv/tcp_priv.h"
 122:Middlewares/Third_Party/LwIP/src/core/pbuf.c **** #endif
 123:Middlewares/Third_Party/LwIP/src/core/pbuf.c **** #if LWIP_CHECKSUM_ON_COPY
 124:Middlewares/Third_Party/LwIP/src/core/pbuf.c **** #include "lwip/inet_chksum.h"
 125:Middlewares/Third_Party/LwIP/src/core/pbuf.c **** #endif
 126:Middlewares/Third_Party/LwIP/src/core/pbuf.c **** 
 127:Middlewares/Third_Party/LwIP/src/core/pbuf.c **** #include <string.h>
 128:Middlewares/Third_Party/LwIP/src/core/pbuf.c **** 
 129:Middlewares/Third_Party/LwIP/src/core/pbuf.c **** #define SIZEOF_STRUCT_PBUF        LWIP_MEM_ALIGN_SIZE(sizeof(struct pbuf))
 130:Middlewares/Third_Party/LwIP/src/core/pbuf.c **** /* Since the pool is created in memp, PBUF_POOL_BUFSIZE will be automatically
 131:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****    aligned there. Therefore, PBUF_POOL_BUFSIZE_ALIGNED can be used here. */
 132:Middlewares/Third_Party/LwIP/src/core/pbuf.c **** #define PBUF_POOL_BUFSIZE_ALIGNED LWIP_MEM_ALIGN_SIZE(PBUF_POOL_BUFSIZE)
 133:Middlewares/Third_Party/LwIP/src/core/pbuf.c **** 
 134:Middlewares/Third_Party/LwIP/src/core/pbuf.c **** #if !LWIP_TCP || !TCP_QUEUE_OOSEQ || !PBUF_POOL_FREE_OOSEQ
 135:Middlewares/Third_Party/LwIP/src/core/pbuf.c **** #define PBUF_POOL_IS_EMPTY()
 136:Middlewares/Third_Party/LwIP/src/core/pbuf.c **** #else /* !LWIP_TCP || !TCP_QUEUE_OOSEQ || !PBUF_POOL_FREE_OOSEQ */
 137:Middlewares/Third_Party/LwIP/src/core/pbuf.c **** 
 138:Middlewares/Third_Party/LwIP/src/core/pbuf.c **** #if !NO_SYS
 139:Middlewares/Third_Party/LwIP/src/core/pbuf.c **** #ifndef PBUF_POOL_FREE_OOSEQ_QUEUE_CALL
 140:Middlewares/Third_Party/LwIP/src/core/pbuf.c **** #include "lwip/tcpip.h"
 141:Middlewares/Third_Party/LwIP/src/core/pbuf.c **** #define PBUF_POOL_FREE_OOSEQ_QUEUE_CALL()  do { \
 142:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****   if (tcpip_callback_with_block(pbuf_free_ooseq_callback, NULL, 0) != ERR_OK) { \
 143:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****       SYS_ARCH_PROTECT(old_level); \
 144:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****       pbuf_free_ooseq_pending = 0; \
 145:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****       SYS_ARCH_UNPROTECT(old_level); \
 146:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****   } } while(0)
ARM GAS  C:\Users\Student\AppData\Local\Temp\ccjV5bMK.s 			page 4


 147:Middlewares/Third_Party/LwIP/src/core/pbuf.c **** #endif /* PBUF_POOL_FREE_OOSEQ_QUEUE_CALL */
 148:Middlewares/Third_Party/LwIP/src/core/pbuf.c **** #endif /* !NO_SYS */
 149:Middlewares/Third_Party/LwIP/src/core/pbuf.c **** 
 150:Middlewares/Third_Party/LwIP/src/core/pbuf.c **** volatile u8_t pbuf_free_ooseq_pending;
 151:Middlewares/Third_Party/LwIP/src/core/pbuf.c **** #define PBUF_POOL_IS_EMPTY() pbuf_pool_is_empty()
 152:Middlewares/Third_Party/LwIP/src/core/pbuf.c **** 
 153:Middlewares/Third_Party/LwIP/src/core/pbuf.c **** /**
 154:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****  * Attempt to reclaim some memory from queued out-of-sequence TCP segments
 155:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****  * if we run out of pool pbufs. It's better to give priority to new packets
 156:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****  * if we're running out.
 157:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****  *
 158:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****  * This must be done in the correct thread context therefore this function
 159:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****  * can only be used with NO_SYS=0 and through tcpip_callback.
 160:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****  */
 161:Middlewares/Third_Party/LwIP/src/core/pbuf.c **** #if !NO_SYS
 162:Middlewares/Third_Party/LwIP/src/core/pbuf.c **** static
 163:Middlewares/Third_Party/LwIP/src/core/pbuf.c **** #endif /* !NO_SYS */
 164:Middlewares/Third_Party/LwIP/src/core/pbuf.c **** void
 165:Middlewares/Third_Party/LwIP/src/core/pbuf.c **** pbuf_free_ooseq(void)
 166:Middlewares/Third_Party/LwIP/src/core/pbuf.c **** {
 167:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****   struct tcp_pcb* pcb;
 168:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****   SYS_ARCH_SET(pbuf_free_ooseq_pending, 0);
 169:Middlewares/Third_Party/LwIP/src/core/pbuf.c **** 
 170:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****   for (pcb = tcp_active_pcbs; NULL != pcb; pcb = pcb->next) {
 171:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****     if (NULL != pcb->ooseq) {
 172:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****       /** Free the ooseq pbufs of one PCB only */
 173:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****       LWIP_DEBUGF(PBUF_DEBUG | LWIP_DBG_TRACE, ("pbuf_free_ooseq: freeing out-of-sequence pbufs\n")
 174:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****       tcp_segs_free(pcb->ooseq);
 175:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****       pcb->ooseq = NULL;
 176:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****       return;
 177:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****     }
 178:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****   }
 179:Middlewares/Third_Party/LwIP/src/core/pbuf.c **** }
 180:Middlewares/Third_Party/LwIP/src/core/pbuf.c **** 
 181:Middlewares/Third_Party/LwIP/src/core/pbuf.c **** #if !NO_SYS
 182:Middlewares/Third_Party/LwIP/src/core/pbuf.c **** /**
 183:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****  * Just a callback function for tcpip_callback() that calls pbuf_free_ooseq().
 184:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****  */
 185:Middlewares/Third_Party/LwIP/src/core/pbuf.c **** static void
 186:Middlewares/Third_Party/LwIP/src/core/pbuf.c **** pbuf_free_ooseq_callback(void *arg)
 187:Middlewares/Third_Party/LwIP/src/core/pbuf.c **** {
 188:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****   LWIP_UNUSED_ARG(arg);
 189:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****   pbuf_free_ooseq();
 190:Middlewares/Third_Party/LwIP/src/core/pbuf.c **** }
 191:Middlewares/Third_Party/LwIP/src/core/pbuf.c **** #endif /* !NO_SYS */
 192:Middlewares/Third_Party/LwIP/src/core/pbuf.c **** 
 193:Middlewares/Third_Party/LwIP/src/core/pbuf.c **** /** Queue a call to pbuf_free_ooseq if not already queued. */
 194:Middlewares/Third_Party/LwIP/src/core/pbuf.c **** static void
 195:Middlewares/Third_Party/LwIP/src/core/pbuf.c **** pbuf_pool_is_empty(void)
 196:Middlewares/Third_Party/LwIP/src/core/pbuf.c **** {
 197:Middlewares/Third_Party/LwIP/src/core/pbuf.c **** #ifndef PBUF_POOL_FREE_OOSEQ_QUEUE_CALL
 198:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****   SYS_ARCH_SET(pbuf_free_ooseq_pending, 1);
 199:Middlewares/Third_Party/LwIP/src/core/pbuf.c **** #else /* PBUF_POOL_FREE_OOSEQ_QUEUE_CALL */
 200:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****   u8_t queued;
 201:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****   SYS_ARCH_DECL_PROTECT(old_level);
 202:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****   SYS_ARCH_PROTECT(old_level);
 203:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****   queued = pbuf_free_ooseq_pending;
ARM GAS  C:\Users\Student\AppData\Local\Temp\ccjV5bMK.s 			page 5


 204:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****   pbuf_free_ooseq_pending = 1;
 205:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****   SYS_ARCH_UNPROTECT(old_level);
 206:Middlewares/Third_Party/LwIP/src/core/pbuf.c **** 
 207:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****   if (!queued) {
 208:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****     /* queue a call to pbuf_free_ooseq if not already queued */
 209:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****     PBUF_POOL_FREE_OOSEQ_QUEUE_CALL();
 210:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****   }
 211:Middlewares/Third_Party/LwIP/src/core/pbuf.c **** #endif /* PBUF_POOL_FREE_OOSEQ_QUEUE_CALL */
 212:Middlewares/Third_Party/LwIP/src/core/pbuf.c **** }
 213:Middlewares/Third_Party/LwIP/src/core/pbuf.c **** #endif /* !LWIP_TCP || !TCP_QUEUE_OOSEQ || !PBUF_POOL_FREE_OOSEQ */
 214:Middlewares/Third_Party/LwIP/src/core/pbuf.c **** 
 215:Middlewares/Third_Party/LwIP/src/core/pbuf.c **** /**
 216:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****  * @ingroup pbuf
 217:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****  * Allocates a pbuf of the given type (possibly a chain for PBUF_POOL type).
 218:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****  *
 219:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****  * The actual memory allocated for the pbuf is determined by the
 220:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****  * layer at which the pbuf is allocated and the requested size
 221:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****  * (from the size parameter).
 222:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****  *
 223:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****  * @param layer flag to define header size
 224:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****  * @param length size of the pbuf's payload
 225:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****  * @param type this parameter decides how and where the pbuf
 226:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****  * should be allocated as follows:
 227:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****  *
 228:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****  * - PBUF_RAM: buffer memory for pbuf is allocated as one large
 229:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****  *             chunk. This includes protocol headers as well.
 230:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****  * - PBUF_ROM: no buffer memory is allocated for the pbuf, even for
 231:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****  *             protocol headers. Additional headers must be prepended
 232:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****  *             by allocating another pbuf and chain in to the front of
 233:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****  *             the ROM pbuf. It is assumed that the memory used is really
 234:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****  *             similar to ROM in that it is immutable and will not be
 235:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****  *             changed. Memory which is dynamic should generally not
 236:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****  *             be attached to PBUF_ROM pbufs. Use PBUF_REF instead.
 237:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****  * - PBUF_REF: no buffer memory is allocated for the pbuf, even for
 238:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****  *             protocol headers. It is assumed that the pbuf is only
 239:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****  *             being used in a single thread. If the pbuf gets queued,
 240:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****  *             then pbuf_take should be called to copy the buffer.
 241:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****  * - PBUF_POOL: the pbuf is allocated as a pbuf chain, with pbufs from
 242:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****  *              the pbuf pool that is allocated during pbuf_init().
 243:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****  *
 244:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****  * @return the allocated pbuf. If multiple pbufs where allocated, this
 245:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****  * is the first pbuf of a pbuf chain.
 246:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****  */
 247:Middlewares/Third_Party/LwIP/src/core/pbuf.c **** struct pbuf *
 248:Middlewares/Third_Party/LwIP/src/core/pbuf.c **** pbuf_alloc(pbuf_layer layer, u16_t length, pbuf_type type)
 249:Middlewares/Third_Party/LwIP/src/core/pbuf.c **** {
 250:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****   struct pbuf *p, *q, *r;
 251:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****   u16_t offset;
 252:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****   s32_t rem_len; /* remaining length */
 253:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****   LWIP_DEBUGF(PBUF_DEBUG | LWIP_DBG_TRACE, ("pbuf_alloc(length=%"U16_F")\n", length));
 254:Middlewares/Third_Party/LwIP/src/core/pbuf.c **** 
 255:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****   /* determine header offset */
 256:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****   switch (layer) {
 257:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****   case PBUF_TRANSPORT:
 258:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****     /* add room for transport (often TCP) layer header */
 259:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****     offset = PBUF_LINK_ENCAPSULATION_HLEN + PBUF_LINK_HLEN + PBUF_IP_HLEN + PBUF_TRANSPORT_HLEN;
 260:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****     break;
ARM GAS  C:\Users\Student\AppData\Local\Temp\ccjV5bMK.s 			page 6


 261:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****   case PBUF_IP:
 262:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****     /* add room for IP layer header */
 263:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****     offset = PBUF_LINK_ENCAPSULATION_HLEN + PBUF_LINK_HLEN + PBUF_IP_HLEN;
 264:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****     break;
 265:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****   case PBUF_LINK:
 266:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****     /* add room for link layer header */
 267:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****     offset = PBUF_LINK_ENCAPSULATION_HLEN + PBUF_LINK_HLEN;
 268:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****     break;
 269:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****   case PBUF_RAW_TX:
 270:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****     /* add room for encapsulating link layer headers (e.g. 802.11) */
 271:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****     offset = PBUF_LINK_ENCAPSULATION_HLEN;
 272:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****     break;
 273:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****   case PBUF_RAW:
 274:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****     /* no offset (e.g. RX buffers or chain successors) */
 275:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****     offset = 0;
 276:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****     break;
 277:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****   default:
 278:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****     LWIP_ASSERT("pbuf_alloc: bad pbuf layer", 0);
 279:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****     return NULL;
 280:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****   }
 281:Middlewares/Third_Party/LwIP/src/core/pbuf.c **** 
 282:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****   switch (type) {
 283:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****   case PBUF_POOL:
 284:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****     /* allocate head of pbuf chain into p */
 285:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****     p = (struct pbuf *)memp_malloc(MEMP_PBUF_POOL);
 286:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****     LWIP_DEBUGF(PBUF_DEBUG | LWIP_DBG_TRACE, ("pbuf_alloc: allocated pbuf %p\n", (void *)p));
 287:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****     if (p == NULL) {
 288:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****       PBUF_POOL_IS_EMPTY();
 289:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****       return NULL;
 290:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****     }
 291:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****     p->type = type;
 292:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****     p->next = NULL;
 293:Middlewares/Third_Party/LwIP/src/core/pbuf.c **** 
 294:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****     /* make the payload pointer point 'offset' bytes into pbuf data memory */
 295:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****     p->payload = LWIP_MEM_ALIGN((void *)((u8_t *)p + (SIZEOF_STRUCT_PBUF + offset)));
 296:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****     LWIP_ASSERT("pbuf_alloc: pbuf p->payload properly aligned",
 297:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****             ((mem_ptr_t)p->payload % MEM_ALIGNMENT) == 0);
 298:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****     /* the total length of the pbuf chain is the requested size */
 299:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****     p->tot_len = length;
 300:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****     /* set the length of the first pbuf in the chain */
 301:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****     p->len = LWIP_MIN(length, PBUF_POOL_BUFSIZE_ALIGNED - LWIP_MEM_ALIGN_SIZE(offset));
 302:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****     LWIP_ASSERT("check p->payload + p->len does not overflow pbuf",
 303:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****                 ((u8_t*)p->payload + p->len <=
 304:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****                  (u8_t*)p + SIZEOF_STRUCT_PBUF + PBUF_POOL_BUFSIZE_ALIGNED));
 305:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****     LWIP_ASSERT("PBUF_POOL_BUFSIZE must be bigger than MEM_ALIGNMENT",
 306:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****       (PBUF_POOL_BUFSIZE_ALIGNED - LWIP_MEM_ALIGN_SIZE(offset)) > 0 );
 307:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****     /* set reference count (needed here in case we fail) */
 308:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****     p->ref = 1;
 309:Middlewares/Third_Party/LwIP/src/core/pbuf.c **** 
 310:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****     /* now allocate the tail of the pbuf chain */
 311:Middlewares/Third_Party/LwIP/src/core/pbuf.c **** 
 312:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****     /* remember first pbuf for linkage in next iteration */
 313:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****     r = p;
 314:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****     /* remaining length to be allocated */
 315:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****     rem_len = length - p->len;
 316:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****     /* any remaining pbufs to be allocated? */
 317:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****     while (rem_len > 0) {
ARM GAS  C:\Users\Student\AppData\Local\Temp\ccjV5bMK.s 			page 7


 318:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****       q = (struct pbuf *)memp_malloc(MEMP_PBUF_POOL);
 319:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****       if (q == NULL) {
 320:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****         PBUF_POOL_IS_EMPTY();
 321:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****         /* free chain so far allocated */
 322:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****         pbuf_free(p);
 323:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****         /* bail out unsuccessfully */
 324:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****         return NULL;
 325:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****       }
 326:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****       q->type = type;
 327:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****       q->flags = 0;
 328:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****       q->next = NULL;
 329:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****       /* make previous pbuf point to this pbuf */
 330:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****       r->next = q;
 331:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****       /* set total length of this pbuf and next in chain */
 332:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****       LWIP_ASSERT("rem_len < max_u16_t", rem_len < 0xffff);
 333:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****       q->tot_len = (u16_t)rem_len;
 334:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****       /* this pbuf length is pool size, unless smaller sized tail */
 335:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****       q->len = LWIP_MIN((u16_t)rem_len, PBUF_POOL_BUFSIZE_ALIGNED);
 336:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****       q->payload = (void *)((u8_t *)q + SIZEOF_STRUCT_PBUF);
 337:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****       LWIP_ASSERT("pbuf_alloc: pbuf q->payload properly aligned",
 338:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****               ((mem_ptr_t)q->payload % MEM_ALIGNMENT) == 0);
 339:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****       LWIP_ASSERT("check p->payload + p->len does not overflow pbuf",
 340:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****                   ((u8_t*)p->payload + p->len <=
 341:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****                    (u8_t*)p + SIZEOF_STRUCT_PBUF + PBUF_POOL_BUFSIZE_ALIGNED));
 342:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****       q->ref = 1;
 343:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****       /* calculate remaining length to be allocated */
 344:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****       rem_len -= q->len;
 345:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****       /* remember this pbuf for linkage in next iteration */
 346:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****       r = q;
 347:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****     }
 348:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****     /* end of chain */
 349:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****     /*r->next = NULL;*/
 350:Middlewares/Third_Party/LwIP/src/core/pbuf.c **** 
 351:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****     break;
 352:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****   case PBUF_RAM:
 353:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****     /* If pbuf is to be allocated in RAM, allocate memory for it. */
 354:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****     p = (struct pbuf*)mem_malloc(LWIP_MEM_ALIGN_SIZE(SIZEOF_STRUCT_PBUF + offset) + LWIP_MEM_ALIGN_
 355:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****     if (p == NULL) {
 356:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****       return NULL;
 357:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****     }
 358:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****     /* Set up internal structure of the pbuf. */
 359:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****     p->payload = LWIP_MEM_ALIGN((void *)((u8_t *)p + SIZEOF_STRUCT_PBUF + offset));
 360:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****     p->len = p->tot_len = length;
 361:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****     p->next = NULL;
 362:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****     p->type = type;
 363:Middlewares/Third_Party/LwIP/src/core/pbuf.c **** 
 364:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****     LWIP_ASSERT("pbuf_alloc: pbuf->payload properly aligned",
 365:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****            ((mem_ptr_t)p->payload % MEM_ALIGNMENT) == 0);
 366:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****     break;
 367:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****   /* pbuf references existing (non-volatile static constant) ROM payload? */
 368:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****   case PBUF_ROM:
 369:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****   /* pbuf references existing (externally allocated) RAM payload? */
 370:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****   case PBUF_REF:
 371:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****     /* only allocate memory for the pbuf structure */
 372:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****     p = (struct pbuf *)memp_malloc(MEMP_PBUF);
 373:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****     if (p == NULL) {
 374:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****       LWIP_DEBUGF(PBUF_DEBUG | LWIP_DBG_LEVEL_SERIOUS,
ARM GAS  C:\Users\Student\AppData\Local\Temp\ccjV5bMK.s 			page 8


 375:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****                   ("pbuf_alloc: Could not allocate MEMP_PBUF for PBUF_%s.\n",
 376:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****                   (type == PBUF_ROM) ? "ROM" : "REF"));
 377:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****       return NULL;
 378:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****     }
 379:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****     /* caller must set this field properly, afterwards */
 380:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****     p->payload = NULL;
 381:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****     p->len = p->tot_len = length;
 382:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****     p->next = NULL;
 383:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****     p->type = type;
 384:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****     break;
 385:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****   default:
 386:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****     LWIP_ASSERT("pbuf_alloc: erroneous type", 0);
 387:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****     return NULL;
 388:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****   }
 389:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****   /* set reference count */
 390:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****   p->ref = 1;
 391:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****   /* set flags */
 392:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****   p->flags = 0;
 393:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****   LWIP_DEBUGF(PBUF_DEBUG | LWIP_DBG_TRACE, ("pbuf_alloc(length=%"U16_F") == %p\n", length, (void *)
 394:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****   return p;
 395:Middlewares/Third_Party/LwIP/src/core/pbuf.c **** }
 396:Middlewares/Third_Party/LwIP/src/core/pbuf.c **** 
 397:Middlewares/Third_Party/LwIP/src/core/pbuf.c **** #if LWIP_SUPPORT_CUSTOM_PBUF
 398:Middlewares/Third_Party/LwIP/src/core/pbuf.c **** /**
 399:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****  * @ingroup pbuf
 400:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****  * Initialize a custom pbuf (already allocated).
 401:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****  *
 402:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****  * @param l flag to define header size
 403:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****  * @param length size of the pbuf's payload
 404:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****  * @param type type of the pbuf (only used to treat the pbuf accordingly, as
 405:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****  *        this function allocates no memory)
 406:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****  * @param p pointer to the custom pbuf to initialize (already allocated)
 407:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****  * @param payload_mem pointer to the buffer that is used for payload and headers,
 408:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****  *        must be at least big enough to hold 'length' plus the header size,
 409:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****  *        may be NULL if set later.
 410:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****  *        ATTENTION: The caller is responsible for correct alignment of this buffer!!
 411:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****  * @param payload_mem_len the size of the 'payload_mem' buffer, must be at least
 412:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****  *        big enough to hold 'length' plus the header size
 413:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****  */
 414:Middlewares/Third_Party/LwIP/src/core/pbuf.c **** struct pbuf*
 415:Middlewares/Third_Party/LwIP/src/core/pbuf.c **** pbuf_alloced_custom(pbuf_layer l, u16_t length, pbuf_type type, struct pbuf_custom *p,
 416:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****                     void *payload_mem, u16_t payload_mem_len)
 417:Middlewares/Third_Party/LwIP/src/core/pbuf.c **** {
 418:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****   u16_t offset;
 419:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****   LWIP_DEBUGF(PBUF_DEBUG | LWIP_DBG_TRACE, ("pbuf_alloced_custom(length=%"U16_F")\n", length));
 420:Middlewares/Third_Party/LwIP/src/core/pbuf.c **** 
 421:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****   /* determine header offset */
 422:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****   switch (l) {
 423:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****   case PBUF_TRANSPORT:
 424:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****     /* add room for transport (often TCP) layer header */
 425:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****     offset = PBUF_LINK_ENCAPSULATION_HLEN + PBUF_LINK_HLEN + PBUF_IP_HLEN + PBUF_TRANSPORT_HLEN;
 426:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****     break;
 427:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****   case PBUF_IP:
 428:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****     /* add room for IP layer header */
 429:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****     offset = PBUF_LINK_ENCAPSULATION_HLEN + PBUF_LINK_HLEN + PBUF_IP_HLEN;
 430:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****     break;
 431:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****   case PBUF_LINK:
ARM GAS  C:\Users\Student\AppData\Local\Temp\ccjV5bMK.s 			page 9


 432:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****     /* add room for link layer header */
 433:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****     offset = PBUF_LINK_ENCAPSULATION_HLEN + PBUF_LINK_HLEN;
 434:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****     break;
 435:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****   case PBUF_RAW_TX:
 436:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****     /* add room for encapsulating link layer headers (e.g. 802.11) */
 437:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****     offset = PBUF_LINK_ENCAPSULATION_HLEN;
 438:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****     break;
 439:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****   case PBUF_RAW:
 440:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****     offset = 0;
 441:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****     break;
 442:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****   default:
 443:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****     LWIP_ASSERT("pbuf_alloced_custom: bad pbuf layer", 0);
 444:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****     return NULL;
 445:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****   }
 446:Middlewares/Third_Party/LwIP/src/core/pbuf.c **** 
 447:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****   if (LWIP_MEM_ALIGN_SIZE(offset) + length > payload_mem_len) {
 448:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****     LWIP_DEBUGF(PBUF_DEBUG | LWIP_DBG_LEVEL_WARNING, ("pbuf_alloced_custom(length=%"U16_F") buffer 
 449:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****     return NULL;
 450:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****   }
 451:Middlewares/Third_Party/LwIP/src/core/pbuf.c **** 
 452:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****   p->pbuf.next = NULL;
 453:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****   if (payload_mem != NULL) {
 454:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****     p->pbuf.payload = (u8_t *)payload_mem + LWIP_MEM_ALIGN_SIZE(offset);
 455:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****   } else {
 456:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****     p->pbuf.payload = NULL;
 457:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****   }
 458:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****   p->pbuf.flags = PBUF_FLAG_IS_CUSTOM;
 459:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****   p->pbuf.len = p->pbuf.tot_len = length;
 460:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****   p->pbuf.type = type;
 461:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****   p->pbuf.ref = 1;
 462:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****   return &p->pbuf;
 463:Middlewares/Third_Party/LwIP/src/core/pbuf.c **** }
 464:Middlewares/Third_Party/LwIP/src/core/pbuf.c **** #endif /* LWIP_SUPPORT_CUSTOM_PBUF */
 465:Middlewares/Third_Party/LwIP/src/core/pbuf.c **** 
 466:Middlewares/Third_Party/LwIP/src/core/pbuf.c **** /**
 467:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****  * @ingroup pbuf
 468:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****  * Shrink a pbuf chain to a desired length.
 469:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****  *
 470:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****  * @param p pbuf to shrink.
 471:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****  * @param new_len desired new length of pbuf chain
 472:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****  *
 473:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****  * Depending on the desired length, the first few pbufs in a chain might
 474:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****  * be skipped and left unchanged. The new last pbuf in the chain will be
 475:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****  * resized, and any remaining pbufs will be freed.
 476:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****  *
 477:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****  * @note If the pbuf is ROM/REF, only the ->tot_len and ->len fields are adjusted.
 478:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****  * @note May not be called on a packet queue.
 479:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****  *
 480:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****  * @note Despite its name, pbuf_realloc cannot grow the size of a pbuf (chain).
 481:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****  */
 482:Middlewares/Third_Party/LwIP/src/core/pbuf.c **** void
 483:Middlewares/Third_Party/LwIP/src/core/pbuf.c **** pbuf_realloc(struct pbuf *p, u16_t new_len)
 484:Middlewares/Third_Party/LwIP/src/core/pbuf.c **** {
 485:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****   struct pbuf *q;
 486:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****   u16_t rem_len; /* remaining length */
 487:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****   s32_t grow;
 488:Middlewares/Third_Party/LwIP/src/core/pbuf.c **** 
ARM GAS  C:\Users\Student\AppData\Local\Temp\ccjV5bMK.s 			page 10


 489:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****   LWIP_ASSERT("pbuf_realloc: p != NULL", p != NULL);
 490:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****   LWIP_ASSERT("pbuf_realloc: sane p->type", p->type == PBUF_POOL ||
 491:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****               p->type == PBUF_ROM ||
 492:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****               p->type == PBUF_RAM ||
 493:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****               p->type == PBUF_REF);
 494:Middlewares/Third_Party/LwIP/src/core/pbuf.c **** 
 495:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****   /* desired length larger than current length? */
 496:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****   if (new_len >= p->tot_len) {
 497:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****     /* enlarging not yet supported */
 498:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****     return;
 499:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****   }
 500:Middlewares/Third_Party/LwIP/src/core/pbuf.c **** 
 501:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****   /* the pbuf chain grows by (new_len - p->tot_len) bytes
 502:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****    * (which may be negative in case of shrinking) */
 503:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****   grow = new_len - p->tot_len;
 504:Middlewares/Third_Party/LwIP/src/core/pbuf.c **** 
 505:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****   /* first, step over any pbufs that should remain in the chain */
 506:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****   rem_len = new_len;
 507:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****   q = p;
 508:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****   /* should this pbuf be kept? */
 509:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****   while (rem_len > q->len) {
 510:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****     /* decrease remaining length by pbuf length */
 511:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****     rem_len -= q->len;
 512:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****     /* decrease total length indicator */
 513:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****     LWIP_ASSERT("grow < max_u16_t", grow < 0xffff);
 514:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****     q->tot_len += (u16_t)grow;
 515:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****     /* proceed to next pbuf in chain */
 516:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****     q = q->next;
 517:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****     LWIP_ASSERT("pbuf_realloc: q != NULL", q != NULL);
 518:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****   }
 519:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****   /* we have now reached the new last pbuf (in q) */
 520:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****   /* rem_len == desired length for pbuf q */
 521:Middlewares/Third_Party/LwIP/src/core/pbuf.c **** 
 522:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****   /* shrink allocated memory for PBUF_RAM */
 523:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****   /* (other types merely adjust their length fields */
 524:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****   if ((q->type == PBUF_RAM) && (rem_len != q->len)
 525:Middlewares/Third_Party/LwIP/src/core/pbuf.c **** #if LWIP_SUPPORT_CUSTOM_PBUF
 526:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****       && ((q->flags & PBUF_FLAG_IS_CUSTOM) == 0)
 527:Middlewares/Third_Party/LwIP/src/core/pbuf.c **** #endif /* LWIP_SUPPORT_CUSTOM_PBUF */
 528:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****      ) {
 529:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****     /* reallocate and adjust the length of the pbuf that will be split */
 530:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****     q = (struct pbuf *)mem_trim(q, (u16_t)((u8_t *)q->payload - (u8_t *)q) + rem_len);
 531:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****     LWIP_ASSERT("mem_trim returned q == NULL", q != NULL);
 532:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****   }
 533:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****   /* adjust length fields for new last pbuf */
 534:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****   q->len = rem_len;
 535:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****   q->tot_len = q->len;
 536:Middlewares/Third_Party/LwIP/src/core/pbuf.c **** 
 537:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****   /* any remaining pbufs in chain? */
 538:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****   if (q->next != NULL) {
 539:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****     /* free remaining pbufs in chain */
 540:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****     pbuf_free(q->next);
 541:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****   }
 542:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****   /* q is last packet in chain */
 543:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****   q->next = NULL;
 544:Middlewares/Third_Party/LwIP/src/core/pbuf.c **** 
 545:Middlewares/Third_Party/LwIP/src/core/pbuf.c **** }
ARM GAS  C:\Users\Student\AppData\Local\Temp\ccjV5bMK.s 			page 11


 546:Middlewares/Third_Party/LwIP/src/core/pbuf.c **** 
 547:Middlewares/Third_Party/LwIP/src/core/pbuf.c **** /**
 548:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****  * Adjusts the payload pointer to hide or reveal headers in the payload.
 549:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****  * @see pbuf_header.
 550:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****  *
 551:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****  * @param p pbuf to change the header size.
 552:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****  * @param header_size_increment Number of bytes to increment header size.
 553:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****  * @param force Allow 'header_size_increment > 0' for PBUF_REF/PBUF_ROM types
 554:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****  *
 555:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****  * @return non-zero on failure, zero on success.
 556:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****  *
 557:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****  */
 558:Middlewares/Third_Party/LwIP/src/core/pbuf.c **** static u8_t
 559:Middlewares/Third_Party/LwIP/src/core/pbuf.c **** pbuf_header_impl(struct pbuf *p, s16_t header_size_increment, u8_t force)
 560:Middlewares/Third_Party/LwIP/src/core/pbuf.c **** {
  27              		.loc 1 560 0
  28              		.cfi_startproc
  29              		@ args = 0, pretend = 0, frame = 0
  30              		@ frame_needed = 0, uses_anonymous_args = 0
  31              		@ link register save eliminated.
  32              	.LVL0:
 561:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****   u16_t type;
 562:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****   void *payload;
 563:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****   u16_t increment_magnitude;
 564:Middlewares/Third_Party/LwIP/src/core/pbuf.c **** 
 565:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****   LWIP_ASSERT("p != NULL", p != NULL);
 566:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****   if ((header_size_increment == 0) || (p == NULL)) {
  33              		.loc 1 566 0
  34 0000 0028     		cmp	r0, #0
  35 0002 18BF     		it	ne
  36 0004 0029     		cmpne	r1, #0
  37 0006 3AD0     		beq	.L8
 560:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****   u16_t type;
  38              		.loc 1 560 0
  39 0008 30B4     		push	{r4, r5}
  40              	.LCFI0:
  41              		.cfi_def_cfa_offset 8
  42              		.cfi_offset 4, -8
  43              		.cfi_offset 5, -4
  44 000a 0B46     		mov	r3, r1
  45 000c 0446     		mov	r4, r0
 567:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****     return 0;
 568:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****   }
 569:Middlewares/Third_Party/LwIP/src/core/pbuf.c **** 
 570:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****   if (header_size_increment < 0) {
  46              		.loc 1 570 0
  47 000e 0029     		cmp	r1, #0
  48 0010 16DB     		blt	.L16
 571:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****     increment_magnitude = -header_size_increment;
 572:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****     /* Check that we aren't going to move off the end of the pbuf */
 573:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****     LWIP_ERROR("increment_magnitude <= p->len", (increment_magnitude <= p->len), return 1;);
 574:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****   } else {
 575:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****     increment_magnitude = header_size_increment;
  49              		.loc 1 575 0
  50 0012 88B2     		uxth	r0, r1
  51              	.LVL1:
  52              	.L4:
ARM GAS  C:\Users\Student\AppData\Local\Temp\ccjV5bMK.s 			page 12


 576:Middlewares/Third_Party/LwIP/src/core/pbuf.c **** #if 0
 577:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****     /* Can't assert these as some callers speculatively call
 578:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****          pbuf_header() to see if it's OK.  Will return 1 below instead. */
 579:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****     /* Check that we've got the correct type of pbuf to work with */
 580:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****     LWIP_ASSERT("p->type == PBUF_RAM || p->type == PBUF_POOL",
 581:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****                 p->type == PBUF_RAM || p->type == PBUF_POOL);
 582:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****     /* Check that we aren't going to move off the beginning of the pbuf */
 583:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****     LWIP_ASSERT("p->payload - increment_magnitude >= p + SIZEOF_STRUCT_PBUF",
 584:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****                 (u8_t *)p->payload - increment_magnitude >= (u8_t *)p + SIZEOF_STRUCT_PBUF);
 585:Middlewares/Third_Party/LwIP/src/core/pbuf.c **** #endif
 586:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****   }
 587:Middlewares/Third_Party/LwIP/src/core/pbuf.c **** 
 588:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****   type = p->type;
  53              		.loc 1 588 0
  54 0014 217B     		ldrb	r1, [r4, #12]	@ zero_extendqisi2
  55              	.LVL2:
 589:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****   /* remember current payload pointer */
 590:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****   payload = p->payload;
  56              		.loc 1 590 0
  57 0016 6568     		ldr	r5, [r4, #4]
  58              	.LVL3:
 591:Middlewares/Third_Party/LwIP/src/core/pbuf.c **** 
 592:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****   /* pbuf types containing payloads? */
 593:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****   if (type == PBUF_RAM || type == PBUF_POOL) {
  59              		.loc 1 593 0
  60 0018 0329     		cmp	r1, #3
  61 001a 18BF     		it	ne
  62 001c 0029     		cmpne	r1, #0
  63 001e 19D1     		bne	.L5
 594:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****     /* set new payload pointer */
 595:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****     p->payload = (u8_t *)p->payload - header_size_increment;
  64              		.loc 1 595 0
  65 0020 EA1A     		subs	r2, r5, r3
  66              	.LVL4:
  67 0022 6260     		str	r2, [r4, #4]
 596:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****     /* boundary check fails? */
 597:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****     if ((u8_t *)p->payload < (u8_t *)p + SIZEOF_STRUCT_PBUF) {
  68              		.loc 1 597 0
  69 0024 04F11001 		add	r1, r4, #16
  70              	.LVL5:
  71 0028 8A42     		cmp	r2, r1
  72 002a 10D3     		bcc	.L17
  73              	.LVL6:
  74              	.L6:
 598:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****       LWIP_DEBUGF( PBUF_DEBUG | LWIP_DBG_TRACE,
 599:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****         ("pbuf_header: failed as %p < %p (not enough space for new header size)\n",
 600:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****         (void *)p->payload, (void *)((u8_t *)p + SIZEOF_STRUCT_PBUF)));
 601:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****       /* restore old payload pointer */
 602:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****       p->payload = payload;
 603:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****       /* bail out unsuccessfully */
 604:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****       return 1;
 605:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****     }
 606:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****   /* pbuf types referring to external payloads? */
 607:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****   } else if (type == PBUF_REF || type == PBUF_ROM) {
 608:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****     /* hide a header in the payload? */
 609:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****     if ((header_size_increment < 0) && (increment_magnitude <= p->len)) {
 610:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****       /* increase payload pointer */
ARM GAS  C:\Users\Student\AppData\Local\Temp\ccjV5bMK.s 			page 13


 611:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****       p->payload = (u8_t *)p->payload - header_size_increment;
 612:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****     } else if ((header_size_increment > 0) && force) {
 613:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****       p->payload = (u8_t *)p->payload - header_size_increment;
 614:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****     } else {
 615:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****       /* cannot expand payload to front (yet!)
 616:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****        * bail out unsuccessfully */
 617:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****       return 1;
 618:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****     }
 619:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****   } else {
 620:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****     /* Unknown type */
 621:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****     LWIP_ASSERT("bad pbuf type", 0);
 622:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****     return 1;
 623:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****   }
 624:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****   /* modify pbuf length fields */
 625:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****   p->len += header_size_increment;
  75              		.loc 1 625 0
  76 002c 9BB2     		uxth	r3, r3
  77 002e 6289     		ldrh	r2, [r4, #10]
  78 0030 1A44     		add	r2, r2, r3
  79 0032 6281     		strh	r2, [r4, #10]	@ movhi
 626:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****   p->tot_len += header_size_increment;
  80              		.loc 1 626 0
  81 0034 2289     		ldrh	r2, [r4, #8]
  82 0036 1344     		add	r3, r3, r2
  83 0038 2381     		strh	r3, [r4, #8]	@ movhi
 627:Middlewares/Third_Party/LwIP/src/core/pbuf.c **** 
 628:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****   LWIP_DEBUGF(PBUF_DEBUG | LWIP_DBG_TRACE, ("pbuf_header: old %p new %p (%"S16_F")\n",
 629:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****     (void *)payload, (void *)p->payload, header_size_increment));
 630:Middlewares/Third_Party/LwIP/src/core/pbuf.c **** 
 631:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****   return 0;
  84              		.loc 1 631 0
  85 003a 0020     		movs	r0, #0
  86              	.LVL7:
  87              	.L2:
 632:Middlewares/Third_Party/LwIP/src/core/pbuf.c **** }
  88              		.loc 1 632 0
  89 003c 30BC     		pop	{r4, r5}
  90              	.LCFI1:
  91              		.cfi_remember_state
  92              		.cfi_restore 5
  93              		.cfi_restore 4
  94              		.cfi_def_cfa_offset 0
  95              	.LVL8:
  96 003e 7047     		bx	lr
  97              	.LVL9:
  98              	.L16:
  99              	.LCFI2:
 100              		.cfi_restore_state
 571:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****     /* Check that we aren't going to move off the end of the pbuf */
 101              		.loc 1 571 0
 102 0040 4842     		negs	r0, r1
 103              	.LVL10:
 104 0042 80B2     		uxth	r0, r0
 105              	.LVL11:
 573:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****   } else {
 106              		.loc 1 573 0
 107 0044 6189     		ldrh	r1, [r4, #10]
ARM GAS  C:\Users\Student\AppData\Local\Temp\ccjV5bMK.s 			page 14


 108              	.LVL12:
 109 0046 8842     		cmp	r0, r1
 110 0048 E4D9     		bls	.L4
 111 004a 0120     		movs	r0, #1
 112              	.LVL13:
 113 004c F6E7     		b	.L2
 114              	.LVL14:
 115              	.L17:
 602:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****       /* bail out unsuccessfully */
 116              		.loc 1 602 0
 117 004e 6560     		str	r5, [r4, #4]
 604:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****     }
 118              		.loc 1 604 0
 119 0050 0120     		movs	r0, #1
 120              	.LVL15:
 121 0052 F3E7     		b	.L2
 122              	.LVL16:
 123              	.L5:
 607:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****     /* hide a header in the payload? */
 124              		.loc 1 607 0
 125 0054 0139     		subs	r1, r1, #1
 126              	.LVL17:
 127 0056 89B2     		uxth	r1, r1
 128              	.LVL18:
 129 0058 0129     		cmp	r1, #1
 130 005a 01D9     		bls	.L18
 622:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****   }
 131              		.loc 1 622 0
 132 005c 0120     		movs	r0, #1
 133              	.LVL19:
 134 005e EDE7     		b	.L2
 135              	.LVL20:
 136              	.L18:
 609:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****       /* increase payload pointer */
 137              		.loc 1 609 0
 138 0060 002B     		cmp	r3, #0
 139 0062 06DB     		blt	.L19
 140              	.L7:
 612:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****       p->payload = (u8_t *)p->payload - header_size_increment;
 141              		.loc 1 612 0
 142 0064 002A     		cmp	r2, #0
 143 0066 18BF     		it	ne
 144 0068 002B     		cmpne	r3, #0
 145 006a 0ADD     		ble	.L11
 613:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****     } else {
 146              		.loc 1 613 0
 147 006c ED1A     		subs	r5, r5, r3
 148              	.LVL21:
 149 006e 6560     		str	r5, [r4, #4]
 150              	.LVL22:
 151 0070 DCE7     		b	.L6
 152              	.LVL23:
 153              	.L19:
 609:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****       /* increase payload pointer */
 154              		.loc 1 609 0 discriminator 1
 155 0072 6189     		ldrh	r1, [r4, #10]
 156 0074 8842     		cmp	r0, r1
ARM GAS  C:\Users\Student\AppData\Local\Temp\ccjV5bMK.s 			page 15


 157 0076 F5D8     		bhi	.L7
 611:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****     } else if ((header_size_increment > 0) && force) {
 158              		.loc 1 611 0
 159 0078 ED1A     		subs	r5, r5, r3
 160              	.LVL24:
 161 007a 6560     		str	r5, [r4, #4]
 162              	.LVL25:
 163 007c D6E7     		b	.L6
 164              	.LVL26:
 165              	.L8:
 166              	.LCFI3:
 167              		.cfi_def_cfa_offset 0
 168              		.cfi_restore 4
 169              		.cfi_restore 5
 567:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****   }
 170              		.loc 1 567 0
 171 007e 0020     		movs	r0, #0
 172              	.LVL27:
 173 0080 7047     		bx	lr
 174              	.LVL28:
 175              	.L11:
 176              	.LCFI4:
 177              		.cfi_def_cfa_offset 8
 178              		.cfi_offset 4, -8
 179              		.cfi_offset 5, -4
 617:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****     }
 180              		.loc 1 617 0
 181 0082 0120     		movs	r0, #1
 182              	.LVL29:
 183 0084 DAE7     		b	.L2
 184              		.cfi_endproc
 185              	.LFE147:
 187              		.section	.text.pbuf_skip_const,"ax",%progbits
 188              		.align	1
 189              		.syntax unified
 190              		.thumb
 191              		.thumb_func
 192              		.fpu fpv5-sp-d16
 194              	pbuf_skip_const:
 195              	.LFB158:
 633:Middlewares/Third_Party/LwIP/src/core/pbuf.c **** 
 634:Middlewares/Third_Party/LwIP/src/core/pbuf.c **** /**
 635:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****  * Adjusts the payload pointer to hide or reveal headers in the payload.
 636:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****  *
 637:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****  * Adjusts the ->payload pointer so that space for a header
 638:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****  * (dis)appears in the pbuf payload.
 639:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****  *
 640:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****  * The ->payload, ->tot_len and ->len fields are adjusted.
 641:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****  *
 642:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****  * @param p pbuf to change the header size.
 643:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****  * @param header_size_increment Number of bytes to increment header size which
 644:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****  * increases the size of the pbuf. New space is on the front.
 645:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****  * (Using a negative value decreases the header size.)
 646:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****  * If hdr_size_inc is 0, this function does nothing and returns successful.
 647:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****  *
 648:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****  * PBUF_ROM and PBUF_REF type buffers cannot have their sizes increased, so
 649:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****  * the call will fail. A check is made that the increase in header size does
ARM GAS  C:\Users\Student\AppData\Local\Temp\ccjV5bMK.s 			page 16


 650:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****  * not move the payload pointer in front of the start of the buffer.
 651:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****  * @return non-zero on failure, zero on success.
 652:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****  *
 653:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****  */
 654:Middlewares/Third_Party/LwIP/src/core/pbuf.c **** u8_t
 655:Middlewares/Third_Party/LwIP/src/core/pbuf.c **** pbuf_header(struct pbuf *p, s16_t header_size_increment)
 656:Middlewares/Third_Party/LwIP/src/core/pbuf.c **** {
 657:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****    return pbuf_header_impl(p, header_size_increment, 0);
 658:Middlewares/Third_Party/LwIP/src/core/pbuf.c **** }
 659:Middlewares/Third_Party/LwIP/src/core/pbuf.c **** 
 660:Middlewares/Third_Party/LwIP/src/core/pbuf.c **** /**
 661:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****  * Same as pbuf_header but does not check if 'header_size > 0' is allowed.
 662:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****  * This is used internally only, to allow PBUF_REF for RX.
 663:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****  */
 664:Middlewares/Third_Party/LwIP/src/core/pbuf.c **** u8_t
 665:Middlewares/Third_Party/LwIP/src/core/pbuf.c **** pbuf_header_force(struct pbuf *p, s16_t header_size_increment)
 666:Middlewares/Third_Party/LwIP/src/core/pbuf.c **** {
 667:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****    return pbuf_header_impl(p, header_size_increment, 1);
 668:Middlewares/Third_Party/LwIP/src/core/pbuf.c **** }
 669:Middlewares/Third_Party/LwIP/src/core/pbuf.c **** 
 670:Middlewares/Third_Party/LwIP/src/core/pbuf.c **** /**
 671:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****  * @ingroup pbuf
 672:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****  * Dereference a pbuf chain or queue and deallocate any no-longer-used
 673:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****  * pbufs at the head of this chain or queue.
 674:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****  *
 675:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****  * Decrements the pbuf reference count. If it reaches zero, the pbuf is
 676:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****  * deallocated.
 677:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****  *
 678:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****  * For a pbuf chain, this is repeated for each pbuf in the chain,
 679:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****  * up to the first pbuf which has a non-zero reference count after
 680:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****  * decrementing. So, when all reference counts are one, the whole
 681:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****  * chain is free'd.
 682:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****  *
 683:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****  * @param p The pbuf (chain) to be dereferenced.
 684:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****  *
 685:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****  * @return the number of pbufs that were de-allocated
 686:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****  * from the head of the chain.
 687:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****  *
 688:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****  * @note MUST NOT be called on a packet queue (Not verified to work yet).
 689:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****  * @note the reference counter of a pbuf equals the number of pointers
 690:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****  * that refer to the pbuf (or into the pbuf).
 691:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****  *
 692:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****  * @internal examples:
 693:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****  *
 694:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****  * Assuming existing chains a->b->c with the following reference
 695:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****  * counts, calling pbuf_free(a) results in:
 696:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****  *
 697:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****  * 1->2->3 becomes ...1->3
 698:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****  * 3->3->3 becomes 2->3->3
 699:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****  * 1->1->2 becomes ......1
 700:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****  * 2->1->1 becomes 1->1->1
 701:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****  * 1->1->1 becomes .......
 702:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****  *
 703:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****  */
 704:Middlewares/Third_Party/LwIP/src/core/pbuf.c **** u8_t
 705:Middlewares/Third_Party/LwIP/src/core/pbuf.c **** pbuf_free(struct pbuf *p)
 706:Middlewares/Third_Party/LwIP/src/core/pbuf.c **** {
ARM GAS  C:\Users\Student\AppData\Local\Temp\ccjV5bMK.s 			page 17


 707:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****   u16_t type;
 708:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****   struct pbuf *q;
 709:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****   u8_t count;
 710:Middlewares/Third_Party/LwIP/src/core/pbuf.c **** 
 711:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****   if (p == NULL) {
 712:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****     LWIP_ASSERT("p != NULL", p != NULL);
 713:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****     /* if assertions are disabled, proceed with debug output */
 714:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****     LWIP_DEBUGF(PBUF_DEBUG | LWIP_DBG_LEVEL_SERIOUS,
 715:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****       ("pbuf_free(p == NULL) was called.\n"));
 716:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****     return 0;
 717:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****   }
 718:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****   LWIP_DEBUGF(PBUF_DEBUG | LWIP_DBG_TRACE, ("pbuf_free(%p)\n", (void *)p));
 719:Middlewares/Third_Party/LwIP/src/core/pbuf.c **** 
 720:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****   PERF_START;
 721:Middlewares/Third_Party/LwIP/src/core/pbuf.c **** 
 722:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****   LWIP_ASSERT("pbuf_free: sane type",
 723:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****     p->type == PBUF_RAM || p->type == PBUF_ROM ||
 724:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****     p->type == PBUF_REF || p->type == PBUF_POOL);
 725:Middlewares/Third_Party/LwIP/src/core/pbuf.c **** 
 726:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****   count = 0;
 727:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****   /* de-allocate all consecutive pbufs from the head of the chain that
 728:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****    * obtain a zero reference count after decrementing*/
 729:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****   while (p != NULL) {
 730:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****     u16_t ref;
 731:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****     SYS_ARCH_DECL_PROTECT(old_level);
 732:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****     /* Since decrementing ref cannot be guaranteed to be a single machine operation
 733:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****      * we must protect it. We put the new ref into a local variable to prevent
 734:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****      * further protection. */
 735:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****     SYS_ARCH_PROTECT(old_level);
 736:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****     /* all pbufs in a chain are referenced at least once */
 737:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****     LWIP_ASSERT("pbuf_free: p->ref > 0", p->ref > 0);
 738:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****     /* decrease reference count (number of pointers to pbuf) */
 739:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****     ref = --(p->ref);
 740:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****     SYS_ARCH_UNPROTECT(old_level);
 741:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****     /* this pbuf is no longer referenced to? */
 742:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****     if (ref == 0) {
 743:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****       /* remember next pbuf in chain for next iteration */
 744:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****       q = p->next;
 745:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****       LWIP_DEBUGF( PBUF_DEBUG | LWIP_DBG_TRACE, ("pbuf_free: deallocating %p\n", (void *)p));
 746:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****       type = p->type;
 747:Middlewares/Third_Party/LwIP/src/core/pbuf.c **** #if LWIP_SUPPORT_CUSTOM_PBUF
 748:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****       /* is this a custom pbuf? */
 749:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****       if ((p->flags & PBUF_FLAG_IS_CUSTOM) != 0) {
 750:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****         struct pbuf_custom *pc = (struct pbuf_custom*)p;
 751:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****         LWIP_ASSERT("pc->custom_free_function != NULL", pc->custom_free_function != NULL);
 752:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****         pc->custom_free_function(p);
 753:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****       } else
 754:Middlewares/Third_Party/LwIP/src/core/pbuf.c **** #endif /* LWIP_SUPPORT_CUSTOM_PBUF */
 755:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****       {
 756:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****         /* is this a pbuf from the pool? */
 757:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****         if (type == PBUF_POOL) {
 758:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****           memp_free(MEMP_PBUF_POOL, p);
 759:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****         /* is this a ROM or RAM referencing pbuf? */
 760:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****         } else if (type == PBUF_ROM || type == PBUF_REF) {
 761:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****           memp_free(MEMP_PBUF, p);
 762:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****         /* type == PBUF_RAM */
 763:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****         } else {
ARM GAS  C:\Users\Student\AppData\Local\Temp\ccjV5bMK.s 			page 18


 764:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****           mem_free(p);
 765:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****         }
 766:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****       }
 767:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****       count++;
 768:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****       /* proceed to next pbuf */
 769:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****       p = q;
 770:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****     /* p->ref > 0, this pbuf is still referenced to */
 771:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****     /* (and so the remaining pbufs in chain as well) */
 772:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****     } else {
 773:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****       LWIP_DEBUGF( PBUF_DEBUG | LWIP_DBG_TRACE, ("pbuf_free: %p has ref %"U16_F", ending here.\n", 
 774:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****       /* stop walking through the chain */
 775:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****       p = NULL;
 776:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****     }
 777:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****   }
 778:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****   PERF_STOP("pbuf_free");
 779:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****   /* return number of de-allocated pbufs */
 780:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****   return count;
 781:Middlewares/Third_Party/LwIP/src/core/pbuf.c **** }
 782:Middlewares/Third_Party/LwIP/src/core/pbuf.c **** 
 783:Middlewares/Third_Party/LwIP/src/core/pbuf.c **** /**
 784:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****  * Count number of pbufs in a chain
 785:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****  *
 786:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****  * @param p first pbuf of chain
 787:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****  * @return the number of pbufs in a chain
 788:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****  */
 789:Middlewares/Third_Party/LwIP/src/core/pbuf.c **** u16_t
 790:Middlewares/Third_Party/LwIP/src/core/pbuf.c **** pbuf_clen(const struct pbuf *p)
 791:Middlewares/Third_Party/LwIP/src/core/pbuf.c **** {
 792:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****   u16_t len;
 793:Middlewares/Third_Party/LwIP/src/core/pbuf.c **** 
 794:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****   len = 0;
 795:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****   while (p != NULL) {
 796:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****     ++len;
 797:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****     p = p->next;
 798:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****   }
 799:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****   return len;
 800:Middlewares/Third_Party/LwIP/src/core/pbuf.c **** }
 801:Middlewares/Third_Party/LwIP/src/core/pbuf.c **** 
 802:Middlewares/Third_Party/LwIP/src/core/pbuf.c **** /**
 803:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****  * @ingroup pbuf
 804:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****  * Increment the reference count of the pbuf.
 805:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****  *
 806:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****  * @param p pbuf to increase reference counter of
 807:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****  *
 808:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****  */
 809:Middlewares/Third_Party/LwIP/src/core/pbuf.c **** void
 810:Middlewares/Third_Party/LwIP/src/core/pbuf.c **** pbuf_ref(struct pbuf *p)
 811:Middlewares/Third_Party/LwIP/src/core/pbuf.c **** {
 812:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****   /* pbuf given? */
 813:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****   if (p != NULL) {
 814:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****     SYS_ARCH_INC(p->ref, 1);
 815:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****   }
 816:Middlewares/Third_Party/LwIP/src/core/pbuf.c **** }
 817:Middlewares/Third_Party/LwIP/src/core/pbuf.c **** 
 818:Middlewares/Third_Party/LwIP/src/core/pbuf.c **** /**
 819:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****  * @ingroup pbuf
 820:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****  * Concatenate two pbufs (each may be a pbuf chain) and take over
ARM GAS  C:\Users\Student\AppData\Local\Temp\ccjV5bMK.s 			page 19


 821:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****  * the caller's reference of the tail pbuf.
 822:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****  *
 823:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****  * @note The caller MAY NOT reference the tail pbuf afterwards.
 824:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****  * Use pbuf_chain() for that purpose.
 825:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****  *
 826:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****  * @see pbuf_chain()
 827:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****  */
 828:Middlewares/Third_Party/LwIP/src/core/pbuf.c **** void
 829:Middlewares/Third_Party/LwIP/src/core/pbuf.c **** pbuf_cat(struct pbuf *h, struct pbuf *t)
 830:Middlewares/Third_Party/LwIP/src/core/pbuf.c **** {
 831:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****   struct pbuf *p;
 832:Middlewares/Third_Party/LwIP/src/core/pbuf.c **** 
 833:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****   LWIP_ERROR("(h != NULL) && (t != NULL) (programmer violates API)",
 834:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****              ((h != NULL) && (t != NULL)), return;);
 835:Middlewares/Third_Party/LwIP/src/core/pbuf.c **** 
 836:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****   /* proceed to last pbuf of chain */
 837:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****   for (p = h; p->next != NULL; p = p->next) {
 838:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****     /* add total length of second chain to all totals of first chain */
 839:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****     p->tot_len += t->tot_len;
 840:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****   }
 841:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****   /* { p is last pbuf of first h chain, p->next == NULL } */
 842:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****   LWIP_ASSERT("p->tot_len == p->len (of last pbuf in chain)", p->tot_len == p->len);
 843:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****   LWIP_ASSERT("p->next == NULL", p->next == NULL);
 844:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****   /* add total length of second chain to last pbuf total of first chain */
 845:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****   p->tot_len += t->tot_len;
 846:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****   /* chain last pbuf of head (p) with first of tail (t) */
 847:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****   p->next = t;
 848:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****   /* p->next now references t, but the caller will drop its reference to t,
 849:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****    * so netto there is no change to the reference count of t.
 850:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****    */
 851:Middlewares/Third_Party/LwIP/src/core/pbuf.c **** }
 852:Middlewares/Third_Party/LwIP/src/core/pbuf.c **** 
 853:Middlewares/Third_Party/LwIP/src/core/pbuf.c **** /**
 854:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****  * @ingroup pbuf
 855:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****  * Chain two pbufs (or pbuf chains) together.
 856:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****  *
 857:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****  * The caller MUST call pbuf_free(t) once it has stopped
 858:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****  * using it. Use pbuf_cat() instead if you no longer use t.
 859:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****  *
 860:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****  * @param h head pbuf (chain)
 861:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****  * @param t tail pbuf (chain)
 862:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****  * @note The pbufs MUST belong to the same packet.
 863:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****  * @note MAY NOT be called on a packet queue.
 864:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****  *
 865:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****  * The ->tot_len fields of all pbufs of the head chain are adjusted.
 866:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****  * The ->next field of the last pbuf of the head chain is adjusted.
 867:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****  * The ->ref field of the first pbuf of the tail chain is adjusted.
 868:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****  *
 869:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****  */
 870:Middlewares/Third_Party/LwIP/src/core/pbuf.c **** void
 871:Middlewares/Third_Party/LwIP/src/core/pbuf.c **** pbuf_chain(struct pbuf *h, struct pbuf *t)
 872:Middlewares/Third_Party/LwIP/src/core/pbuf.c **** {
 873:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****   pbuf_cat(h, t);
 874:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****   /* t is now referenced by h */
 875:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****   pbuf_ref(t);
 876:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****   LWIP_DEBUGF(PBUF_DEBUG | LWIP_DBG_TRACE, ("pbuf_chain: %p references %p\n", (void *)h, (void *)t)
 877:Middlewares/Third_Party/LwIP/src/core/pbuf.c **** }
ARM GAS  C:\Users\Student\AppData\Local\Temp\ccjV5bMK.s 			page 20


 878:Middlewares/Third_Party/LwIP/src/core/pbuf.c **** 
 879:Middlewares/Third_Party/LwIP/src/core/pbuf.c **** /**
 880:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****  * Dechains the first pbuf from its succeeding pbufs in the chain.
 881:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****  *
 882:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****  * Makes p->tot_len field equal to p->len.
 883:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****  * @param p pbuf to dechain
 884:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****  * @return remainder of the pbuf chain, or NULL if it was de-allocated.
 885:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****  * @note May not be called on a packet queue.
 886:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****  */
 887:Middlewares/Third_Party/LwIP/src/core/pbuf.c **** struct pbuf *
 888:Middlewares/Third_Party/LwIP/src/core/pbuf.c **** pbuf_dechain(struct pbuf *p)
 889:Middlewares/Third_Party/LwIP/src/core/pbuf.c **** {
 890:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****   struct pbuf *q;
 891:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****   u8_t tail_gone = 1;
 892:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****   /* tail */
 893:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****   q = p->next;
 894:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****   /* pbuf has successor in chain? */
 895:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****   if (q != NULL) {
 896:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****     /* assert tot_len invariant: (p->tot_len == p->len + (p->next? p->next->tot_len: 0) */
 897:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****     LWIP_ASSERT("p->tot_len == p->len + q->tot_len", q->tot_len == p->tot_len - p->len);
 898:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****     /* enforce invariant if assertion is disabled */
 899:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****     q->tot_len = p->tot_len - p->len;
 900:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****     /* decouple pbuf from remainder */
 901:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****     p->next = NULL;
 902:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****     /* total length of pbuf p is its own length only */
 903:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****     p->tot_len = p->len;
 904:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****     /* q is no longer referenced by p, free it */
 905:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****     LWIP_DEBUGF(PBUF_DEBUG | LWIP_DBG_TRACE, ("pbuf_dechain: unreferencing %p\n", (void *)q));
 906:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****     tail_gone = pbuf_free(q);
 907:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****     if (tail_gone > 0) {
 908:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****       LWIP_DEBUGF(PBUF_DEBUG | LWIP_DBG_TRACE,
 909:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****                   ("pbuf_dechain: deallocated %p (as it is no longer referenced)\n", (void *)q));
 910:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****     }
 911:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****     /* return remaining tail or NULL if deallocated */
 912:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****   }
 913:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****   /* assert tot_len invariant: (p->tot_len == p->len + (p->next? p->next->tot_len: 0) */
 914:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****   LWIP_ASSERT("p->tot_len == p->len", p->tot_len == p->len);
 915:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****   return ((tail_gone > 0) ? NULL : q);
 916:Middlewares/Third_Party/LwIP/src/core/pbuf.c **** }
 917:Middlewares/Third_Party/LwIP/src/core/pbuf.c **** 
 918:Middlewares/Third_Party/LwIP/src/core/pbuf.c **** /**
 919:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****  * @ingroup pbuf
 920:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****  * Create PBUF_RAM copies of pbufs.
 921:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****  *
 922:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****  * Used to queue packets on behalf of the lwIP stack, such as
 923:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****  * ARP based queueing.
 924:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****  *
 925:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****  * @note You MUST explicitly use p = pbuf_take(p);
 926:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****  *
 927:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****  * @note Only one packet is copied, no packet queue!
 928:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****  *
 929:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****  * @param p_to pbuf destination of the copy
 930:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****  * @param p_from pbuf source of the copy
 931:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****  *
 932:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****  * @return ERR_OK if pbuf was copied
 933:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****  *         ERR_ARG if one of the pbufs is NULL or p_to is not big
 934:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****  *                 enough to hold p_from
ARM GAS  C:\Users\Student\AppData\Local\Temp\ccjV5bMK.s 			page 21


 935:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****  */
 936:Middlewares/Third_Party/LwIP/src/core/pbuf.c **** err_t
 937:Middlewares/Third_Party/LwIP/src/core/pbuf.c **** pbuf_copy(struct pbuf *p_to, const struct pbuf *p_from)
 938:Middlewares/Third_Party/LwIP/src/core/pbuf.c **** {
 939:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****   u16_t offset_to=0, offset_from=0, len;
 940:Middlewares/Third_Party/LwIP/src/core/pbuf.c **** 
 941:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****   LWIP_DEBUGF(PBUF_DEBUG | LWIP_DBG_TRACE, ("pbuf_copy(%p, %p)\n",
 942:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****     (const void*)p_to, (const void*)p_from));
 943:Middlewares/Third_Party/LwIP/src/core/pbuf.c **** 
 944:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****   /* is the target big enough to hold the source? */
 945:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****   LWIP_ERROR("pbuf_copy: target not big enough to hold source", ((p_to != NULL) &&
 946:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****              (p_from != NULL) && (p_to->tot_len >= p_from->tot_len)), return ERR_ARG;);
 947:Middlewares/Third_Party/LwIP/src/core/pbuf.c **** 
 948:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****   /* iterate through pbuf chain */
 949:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****   do
 950:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****   {
 951:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****     /* copy one part of the original chain */
 952:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****     if ((p_to->len - offset_to) >= (p_from->len - offset_from)) {
 953:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****       /* complete current p_from fits into current p_to */
 954:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****       len = p_from->len - offset_from;
 955:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****     } else {
 956:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****       /* current p_from does not fit into current p_to */
 957:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****       len = p_to->len - offset_to;
 958:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****     }
 959:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****     MEMCPY((u8_t*)p_to->payload + offset_to, (u8_t*)p_from->payload + offset_from, len);
 960:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****     offset_to += len;
 961:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****     offset_from += len;
 962:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****     LWIP_ASSERT("offset_to <= p_to->len", offset_to <= p_to->len);
 963:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****     LWIP_ASSERT("offset_from <= p_from->len", offset_from <= p_from->len);
 964:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****     if (offset_from >= p_from->len) {
 965:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****       /* on to next p_from (if any) */
 966:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****       offset_from = 0;
 967:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****       p_from = p_from->next;
 968:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****     }
 969:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****     if (offset_to == p_to->len) {
 970:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****       /* on to next p_to (if any) */
 971:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****       offset_to = 0;
 972:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****       p_to = p_to->next;
 973:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****       LWIP_ERROR("p_to != NULL", (p_to != NULL) || (p_from == NULL) , return ERR_ARG;);
 974:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****     }
 975:Middlewares/Third_Party/LwIP/src/core/pbuf.c **** 
 976:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****     if ((p_from != NULL) && (p_from->len == p_from->tot_len)) {
 977:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****       /* don't copy more than one packet! */
 978:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****       LWIP_ERROR("pbuf_copy() does not allow packet queues!",
 979:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****                  (p_from->next == NULL), return ERR_VAL;);
 980:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****     }
 981:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****     if ((p_to != NULL) && (p_to->len == p_to->tot_len)) {
 982:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****       /* don't copy more than one packet! */
 983:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****       LWIP_ERROR("pbuf_copy() does not allow packet queues!",
 984:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****                   (p_to->next == NULL), return ERR_VAL;);
 985:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****     }
 986:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****   } while (p_from);
 987:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****   LWIP_DEBUGF(PBUF_DEBUG | LWIP_DBG_TRACE, ("pbuf_copy: end of chain reached.\n"));
 988:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****   return ERR_OK;
 989:Middlewares/Third_Party/LwIP/src/core/pbuf.c **** }
 990:Middlewares/Third_Party/LwIP/src/core/pbuf.c **** 
 991:Middlewares/Third_Party/LwIP/src/core/pbuf.c **** /**
ARM GAS  C:\Users\Student\AppData\Local\Temp\ccjV5bMK.s 			page 22


 992:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****  * @ingroup pbuf
 993:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****  * Copy (part of) the contents of a packet buffer
 994:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****  * to an application supplied buffer.
 995:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****  *
 996:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****  * @param buf the pbuf from which to copy data
 997:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****  * @param dataptr the application supplied buffer
 998:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****  * @param len length of data to copy (dataptr must be big enough). No more
 999:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****  * than buf->tot_len will be copied, irrespective of len
1000:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****  * @param offset offset into the packet buffer from where to begin copying len bytes
1001:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****  * @return the number of bytes copied, or 0 on failure
1002:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****  */
1003:Middlewares/Third_Party/LwIP/src/core/pbuf.c **** u16_t
1004:Middlewares/Third_Party/LwIP/src/core/pbuf.c **** pbuf_copy_partial(const struct pbuf *buf, void *dataptr, u16_t len, u16_t offset)
1005:Middlewares/Third_Party/LwIP/src/core/pbuf.c **** {
1006:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****   const struct pbuf *p;
1007:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****   u16_t left;
1008:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****   u16_t buf_copy_len;
1009:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****   u16_t copied_total = 0;
1010:Middlewares/Third_Party/LwIP/src/core/pbuf.c **** 
1011:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****   LWIP_ERROR("pbuf_copy_partial: invalid buf", (buf != NULL), return 0;);
1012:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****   LWIP_ERROR("pbuf_copy_partial: invalid dataptr", (dataptr != NULL), return 0;);
1013:Middlewares/Third_Party/LwIP/src/core/pbuf.c **** 
1014:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****   left = 0;
1015:Middlewares/Third_Party/LwIP/src/core/pbuf.c **** 
1016:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****   if ((buf == NULL) || (dataptr == NULL)) {
1017:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****     return 0;
1018:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****   }
1019:Middlewares/Third_Party/LwIP/src/core/pbuf.c **** 
1020:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****   /* Note some systems use byte copy if dataptr or one of the pbuf payload pointers are unaligned. 
1021:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****   for (p = buf; len != 0 && p != NULL; p = p->next) {
1022:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****     if ((offset != 0) && (offset >= p->len)) {
1023:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****       /* don't copy from this buffer -> on to the next */
1024:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****       offset -= p->len;
1025:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****     } else {
1026:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****       /* copy from this buffer. maybe only partially. */
1027:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****       buf_copy_len = p->len - offset;
1028:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****       if (buf_copy_len > len) {
1029:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****         buf_copy_len = len;
1030:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****       }
1031:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****       /* copy the necessary parts of the buffer */
1032:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****       MEMCPY(&((char*)dataptr)[left], &((char*)p->payload)[offset], buf_copy_len);
1033:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****       copied_total += buf_copy_len;
1034:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****       left += buf_copy_len;
1035:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****       len -= buf_copy_len;
1036:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****       offset = 0;
1037:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****     }
1038:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****   }
1039:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****   return copied_total;
1040:Middlewares/Third_Party/LwIP/src/core/pbuf.c **** }
1041:Middlewares/Third_Party/LwIP/src/core/pbuf.c **** 
1042:Middlewares/Third_Party/LwIP/src/core/pbuf.c **** #if LWIP_TCP && TCP_QUEUE_OOSEQ && LWIP_WND_SCALE
1043:Middlewares/Third_Party/LwIP/src/core/pbuf.c **** /**
1044:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****  * This method modifies a 'pbuf chain', so that its total length is
1045:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****  * smaller than 64K. The remainder of the original pbuf chain is stored
1046:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****  * in *rest.
1047:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****  * This function never creates new pbufs, but splits an existing chain
1048:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****  * in two parts. The tot_len of the modified packet queue will likely be
ARM GAS  C:\Users\Student\AppData\Local\Temp\ccjV5bMK.s 			page 23


1049:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****  * smaller than 64K.
1050:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****  * 'packet queues' are not supported by this function.
1051:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****  *
1052:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****  * @param p the pbuf queue to be split
1053:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****  * @param rest pointer to store the remainder (after the first 64K)
1054:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****  */
1055:Middlewares/Third_Party/LwIP/src/core/pbuf.c **** void pbuf_split_64k(struct pbuf *p, struct pbuf **rest)
1056:Middlewares/Third_Party/LwIP/src/core/pbuf.c **** {
1057:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****   *rest = NULL;
1058:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****   if ((p != NULL) && (p->next != NULL)) {
1059:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****     u16_t tot_len_front = p->len;
1060:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****     struct pbuf *i = p;
1061:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****     struct pbuf *r = p->next;
1062:Middlewares/Third_Party/LwIP/src/core/pbuf.c **** 
1063:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****     /* continue until the total length (summed up as u16_t) overflows */
1064:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****     while ((r != NULL) && ((u16_t)(tot_len_front + r->len) > tot_len_front)) {
1065:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****       tot_len_front += r->len;
1066:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****       i = r;
1067:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****       r = r->next;
1068:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****     }
1069:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****     /* i now points to last packet of the first segment. Set next
1070:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****        pointer to NULL */
1071:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****     i->next = NULL;
1072:Middlewares/Third_Party/LwIP/src/core/pbuf.c **** 
1073:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****     if (r != NULL) {
1074:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****       /* Update the tot_len field in the first part */
1075:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****       for (i = p; i != NULL; i = i->next) {
1076:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****         i->tot_len -= r->tot_len;
1077:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****         LWIP_ASSERT("tot_len/len mismatch in last pbuf",
1078:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****                     (i->next != NULL) || (i->tot_len == i->len));
1079:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****       }
1080:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****       if (p->flags & PBUF_FLAG_TCP_FIN) {
1081:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****         r->flags |= PBUF_FLAG_TCP_FIN;
1082:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****       }
1083:Middlewares/Third_Party/LwIP/src/core/pbuf.c **** 
1084:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****       /* tot_len field in rest does not need modifications */
1085:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****       /* reference counters do not need modifications */
1086:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****       *rest = r;
1087:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****     }
1088:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****   }
1089:Middlewares/Third_Party/LwIP/src/core/pbuf.c **** }
1090:Middlewares/Third_Party/LwIP/src/core/pbuf.c **** #endif /* LWIP_TCP && TCP_QUEUE_OOSEQ && LWIP_WND_SCALE */
1091:Middlewares/Third_Party/LwIP/src/core/pbuf.c **** 
1092:Middlewares/Third_Party/LwIP/src/core/pbuf.c **** /* Actual implementation of pbuf_skip() but returning const pointer... */
1093:Middlewares/Third_Party/LwIP/src/core/pbuf.c **** static const struct pbuf*
1094:Middlewares/Third_Party/LwIP/src/core/pbuf.c **** pbuf_skip_const(const struct pbuf* in, u16_t in_offset, u16_t* out_offset)
1095:Middlewares/Third_Party/LwIP/src/core/pbuf.c **** {
 196              		.loc 1 1095 0
 197              		.cfi_startproc
 198              		@ args = 0, pretend = 0, frame = 0
 199              		@ frame_needed = 0, uses_anonymous_args = 0
 200              		@ link register save eliminated.
 201              	.LVL30:
1096:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****   u16_t offset_left = in_offset;
1097:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****   const struct pbuf* q = in;
1098:Middlewares/Third_Party/LwIP/src/core/pbuf.c **** 
1099:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****   /* get the correct pbuf */
ARM GAS  C:\Users\Student\AppData\Local\Temp\ccjV5bMK.s 			page 24


1100:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****   while ((q != NULL) && (q->len <= offset_left)) {
 202              		.loc 1 1100 0
 203 0000 02E0     		b	.L21
 204              	.LVL31:
 205              	.L23:
1101:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****     offset_left -= q->len;
 206              		.loc 1 1101 0
 207 0002 C91A     		subs	r1, r1, r3
 208              	.LVL32:
 209 0004 89B2     		uxth	r1, r1
 210              	.LVL33:
1102:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****     q = q->next;
 211              		.loc 1 1102 0
 212 0006 0068     		ldr	r0, [r0]
 213              	.LVL34:
 214              	.L21:
1100:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****     offset_left -= q->len;
 215              		.loc 1 1100 0
 216 0008 10B1     		cbz	r0, .L22
1100:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****     offset_left -= q->len;
 217              		.loc 1 1100 0 is_stmt 0 discriminator 1
 218 000a 4389     		ldrh	r3, [r0, #10]
 219 000c 9942     		cmp	r1, r3
 220 000e F8D2     		bcs	.L23
 221              	.L22:
1103:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****   }
1104:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****   if (out_offset != NULL) {
 222              		.loc 1 1104 0 is_stmt 1
 223 0010 02B1     		cbz	r2, .L24
1105:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****     *out_offset = offset_left;
 224              		.loc 1 1105 0
 225 0012 1180     		strh	r1, [r2]	@ movhi
 226              	.L24:
1106:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****   }
1107:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****   return q;
1108:Middlewares/Third_Party/LwIP/src/core/pbuf.c **** }
 227              		.loc 1 1108 0
 228 0014 7047     		bx	lr
 229              		.cfi_endproc
 230              	.LFE158:
 232              		.section	.text.pbuf_pool_is_empty,"ax",%progbits
 233              		.align	1
 234              		.syntax unified
 235              		.thumb
 236              		.thumb_func
 237              		.fpu fpv5-sp-d16
 239              	pbuf_pool_is_empty:
 240              	.LFB143:
 196:Middlewares/Third_Party/LwIP/src/core/pbuf.c **** #ifndef PBUF_POOL_FREE_OOSEQ_QUEUE_CALL
 241              		.loc 1 196 0
 242              		.cfi_startproc
 243              		@ args = 0, pretend = 0, frame = 0
 244              		@ frame_needed = 0, uses_anonymous_args = 0
 245 0000 10B5     		push	{r4, lr}
 246              	.LCFI5:
 247              		.cfi_def_cfa_offset 8
 248              		.cfi_offset 4, -8
ARM GAS  C:\Users\Student\AppData\Local\Temp\ccjV5bMK.s 			page 25


 249              		.cfi_offset 14, -4
 202:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****   queued = pbuf_free_ooseq_pending;
 250              		.loc 1 202 0
 251 0002 FFF7FEFF 		bl	sys_arch_protect
 252              	.LVL35:
 203:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****   pbuf_free_ooseq_pending = 1;
 253              		.loc 1 203 0
 254 0006 0C4B     		ldr	r3, .L29
 255 0008 1C78     		ldrb	r4, [r3]	@ zero_extendqisi2
 256 000a E4B2     		uxtb	r4, r4
 257              	.LVL36:
 204:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****   SYS_ARCH_UNPROTECT(old_level);
 258              		.loc 1 204 0
 259 000c 0122     		movs	r2, #1
 260 000e 1A70     		strb	r2, [r3]
 205:Middlewares/Third_Party/LwIP/src/core/pbuf.c **** 
 261              		.loc 1 205 0
 262 0010 FFF7FEFF 		bl	sys_arch_unprotect
 263              	.LVL37:
 207:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****     /* queue a call to pbuf_free_ooseq if not already queued */
 264              		.loc 1 207 0
 265 0014 04B1     		cbz	r4, .L28
 266              	.L25:
 267 0016 10BD     		pop	{r4, pc}
 268              	.LVL38:
 269              	.L28:
 209:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****   }
 270              		.loc 1 209 0
 271 0018 0022     		movs	r2, #0
 272 001a 1146     		mov	r1, r2
 273 001c 0748     		ldr	r0, .L29+4
 274 001e FFF7FEFF 		bl	tcpip_callback_with_block
 275              	.LVL39:
 276 0022 0028     		cmp	r0, #0
 277 0024 F7D0     		beq	.L25
 209:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****   }
 278              		.loc 1 209 0 is_stmt 0 discriminator 1
 279 0026 FFF7FEFF 		bl	sys_arch_protect
 280              	.LVL40:
 281 002a 0022     		movs	r2, #0
 282 002c 024B     		ldr	r3, .L29
 283 002e 1A70     		strb	r2, [r3]
 284 0030 FFF7FEFF 		bl	sys_arch_unprotect
 285              	.LVL41:
 212:Middlewares/Third_Party/LwIP/src/core/pbuf.c **** #endif /* !LWIP_TCP || !TCP_QUEUE_OOSEQ || !PBUF_POOL_FREE_OOSEQ */
 286              		.loc 1 212 0 is_stmt 1 discriminator 1
 287 0034 EFE7     		b	.L25
 288              	.L30:
 289 0036 00BF     		.align	2
 290              	.L29:
 291 0038 00000000 		.word	pbuf_free_ooseq_pending
 292 003c 00000000 		.word	pbuf_free_ooseq_callback
 293              		.cfi_endproc
 294              	.LFE143:
 296              		.section	.text.pbuf_free_ooseq,"ax",%progbits
 297              		.align	1
 298              		.syntax unified
ARM GAS  C:\Users\Student\AppData\Local\Temp\ccjV5bMK.s 			page 26


 299              		.thumb
 300              		.thumb_func
 301              		.fpu fpv5-sp-d16
 303              	pbuf_free_ooseq:
 304              	.LFB141:
 166:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****   struct tcp_pcb* pcb;
 305              		.loc 1 166 0
 306              		.cfi_startproc
 307              		@ args = 0, pretend = 0, frame = 0
 308              		@ frame_needed = 0, uses_anonymous_args = 0
 309 0000 10B5     		push	{r4, lr}
 310              	.LCFI6:
 311              		.cfi_def_cfa_offset 8
 312              		.cfi_offset 4, -8
 313              		.cfi_offset 14, -4
 314              	.LBB2:
 168:Middlewares/Third_Party/LwIP/src/core/pbuf.c **** 
 315              		.loc 1 168 0
 316 0002 FFF7FEFF 		bl	sys_arch_protect
 317              	.LVL42:
 318 0006 0022     		movs	r2, #0
 319 0008 084B     		ldr	r3, .L39
 320 000a 1A70     		strb	r2, [r3]
 321 000c FFF7FEFF 		bl	sys_arch_unprotect
 322              	.LVL43:
 323              	.LBE2:
 170:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****     if (NULL != pcb->ooseq) {
 324              		.loc 1 170 0
 325 0010 074B     		ldr	r3, .L39+4
 326 0012 1C68     		ldr	r4, [r3]
 327              	.LVL44:
 328              	.L32:
 170:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****     if (NULL != pcb->ooseq) {
 329              		.loc 1 170 0 is_stmt 0 discriminator 1
 330 0014 44B1     		cbz	r4, .L37
 171:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****       /** Free the ooseq pbufs of one PCB only */
 331              		.loc 1 171 0 is_stmt 1
 332 0016 206F     		ldr	r0, [r4, #112]
 333 0018 08B9     		cbnz	r0, .L38
 170:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****     if (NULL != pcb->ooseq) {
 334              		.loc 1 170 0 discriminator 2
 335 001a E468     		ldr	r4, [r4, #12]
 336              	.LVL45:
 337 001c FAE7     		b	.L32
 338              	.L38:
 174:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****       pcb->ooseq = NULL;
 339              		.loc 1 174 0
 340 001e FFF7FEFF 		bl	tcp_segs_free
 341              	.LVL46:
 175:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****       return;
 342              		.loc 1 175 0
 343 0022 0023     		movs	r3, #0
 344 0024 2367     		str	r3, [r4, #112]
 176:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****     }
 345              		.loc 1 176 0
 346 0026 10BD     		pop	{r4, pc}
 347              	.LVL47:
ARM GAS  C:\Users\Student\AppData\Local\Temp\ccjV5bMK.s 			page 27


 348              	.L37:
 349 0028 10BD     		pop	{r4, pc}
 350              	.LVL48:
 351              	.L40:
 352 002a 00BF     		.align	2
 353              	.L39:
 354 002c 00000000 		.word	pbuf_free_ooseq_pending
 355 0030 00000000 		.word	tcp_active_pcbs
 356              		.cfi_endproc
 357              	.LFE141:
 359              		.section	.text.pbuf_free_ooseq_callback,"ax",%progbits
 360              		.align	1
 361              		.syntax unified
 362              		.thumb
 363              		.thumb_func
 364              		.fpu fpv5-sp-d16
 366              	pbuf_free_ooseq_callback:
 367              	.LFB142:
 187:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****   LWIP_UNUSED_ARG(arg);
 368              		.loc 1 187 0
 369              		.cfi_startproc
 370              		@ args = 0, pretend = 0, frame = 0
 371              		@ frame_needed = 0, uses_anonymous_args = 0
 372              	.LVL49:
 373 0000 08B5     		push	{r3, lr}
 374              	.LCFI7:
 375              		.cfi_def_cfa_offset 8
 376              		.cfi_offset 3, -8
 377              		.cfi_offset 14, -4
 189:Middlewares/Third_Party/LwIP/src/core/pbuf.c **** }
 378              		.loc 1 189 0
 379 0002 FFF7FEFF 		bl	pbuf_free_ooseq
 380              	.LVL50:
 381 0006 08BD     		pop	{r3, pc}
 382              		.cfi_endproc
 383              	.LFE142:
 385              		.section	.text.pbuf_alloced_custom,"ax",%progbits
 386              		.align	1
 387              		.global	pbuf_alloced_custom
 388              		.syntax unified
 389              		.thumb
 390              		.thumb_func
 391              		.fpu fpv5-sp-d16
 393              	pbuf_alloced_custom:
 394              	.LFB145:
 417:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****   u16_t offset;
 395              		.loc 1 417 0
 396              		.cfi_startproc
 397              		@ args = 8, pretend = 0, frame = 0
 398              		@ frame_needed = 0, uses_anonymous_args = 0
 399              		@ link register save eliminated.
 400              	.LVL51:
 401 0000 70B4     		push	{r4, r5, r6}
 402              	.LCFI8:
 403              		.cfi_def_cfa_offset 12
 404              		.cfi_offset 4, -12
 405              		.cfi_offset 5, -8
ARM GAS  C:\Users\Student\AppData\Local\Temp\ccjV5bMK.s 			page 28


 406              		.cfi_offset 6, -4
 407 0002 039C     		ldr	r4, [sp, #12]
 422:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****   case PBUF_TRANSPORT:
 408              		.loc 1 422 0
 409 0004 0428     		cmp	r0, #4
 410 0006 27D8     		bhi	.L53
 411 0008 DFE800F0 		tbb	[pc, r0]
 412              	.L46:
 413 000c 03       		.byte	(.L45-.L46)/2
 414 000d 0B       		.byte	(.L54-.L46)/2
 415 000e 05       		.byte	(.L48-.L46)/2
 416 000f 07       		.byte	(.L49-.L46)/2
 417 0010 09       		.byte	(.L50-.L46)/2
 418 0011 00       		.p2align 1
 419              	.L45:
 425:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****     break;
 420              		.loc 1 425 0
 421 0012 3620     		movs	r0, #54
 422              	.LVL52:
 423 0014 06E0     		b	.L47
 424              	.LVL53:
 425              	.L48:
 433:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****     break;
 426              		.loc 1 433 0
 427 0016 0E20     		movs	r0, #14
 428              	.LVL54:
 434:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****   case PBUF_RAW_TX:
 429              		.loc 1 434 0
 430 0018 04E0     		b	.L47
 431              	.LVL55:
 432              	.L49:
 437:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****     break;
 433              		.loc 1 437 0
 434 001a 0020     		movs	r0, #0
 435              	.LVL56:
 438:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****   case PBUF_RAW:
 436              		.loc 1 438 0
 437 001c 02E0     		b	.L47
 438              	.LVL57:
 439              	.L50:
 440:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****     break;
 440              		.loc 1 440 0
 441 001e 0020     		movs	r0, #0
 442              	.LVL58:
 441:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****   default:
 443              		.loc 1 441 0
 444 0020 00E0     		b	.L47
 445              	.LVL59:
 446              	.L54:
 429:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****     break;
 447              		.loc 1 429 0
 448 0022 2220     		movs	r0, #34
 449              	.LVL60:
 450              	.L47:
 447:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****     LWIP_DEBUGF(PBUF_DEBUG | LWIP_DBG_LEVEL_WARNING, ("pbuf_alloced_custom(length=%"U16_F") buffer 
 451              		.loc 1 447 0
 452 0024 0330     		adds	r0, r0, #3
ARM GAS  C:\Users\Student\AppData\Local\Temp\ccjV5bMK.s 			page 29


 453              	.LVL61:
 454 0026 20F00300 		bic	r0, r0, #3
 455 002a 0E18     		adds	r6, r1, r0
 456 002c BDF81050 		ldrh	r5, [sp, #16]
 457 0030 AE42     		cmp	r6, r5
 458 0032 13D8     		bhi	.L55
 452:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****   if (payload_mem != NULL) {
 459              		.loc 1 452 0
 460 0034 0025     		movs	r5, #0
 461 0036 1D60     		str	r5, [r3]
 453:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****     p->pbuf.payload = (u8_t *)payload_mem + LWIP_MEM_ALIGN_SIZE(offset);
 462              		.loc 1 453 0
 463 0038 5CB1     		cbz	r4, .L51
 454:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****   } else {
 464              		.loc 1 454 0
 465 003a 2044     		add	r0, r0, r4
 466 003c 5860     		str	r0, [r3, #4]
 467              	.L52:
 458:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****   p->pbuf.len = p->pbuf.tot_len = length;
 468              		.loc 1 458 0
 469 003e 0220     		movs	r0, #2
 470 0040 5873     		strb	r0, [r3, #13]
 459:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****   p->pbuf.type = type;
 471              		.loc 1 459 0
 472 0042 1981     		strh	r1, [r3, #8]	@ movhi
 473 0044 5981     		strh	r1, [r3, #10]	@ movhi
 460:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****   p->pbuf.ref = 1;
 474              		.loc 1 460 0
 475 0046 1A73     		strb	r2, [r3, #12]
 461:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****   return &p->pbuf;
 476              		.loc 1 461 0
 477 0048 0122     		movs	r2, #1
 478              	.LVL62:
 479 004a DA81     		strh	r2, [r3, #14]	@ movhi
 462:Middlewares/Third_Party/LwIP/src/core/pbuf.c **** }
 480              		.loc 1 462 0
 481 004c 1846     		mov	r0, r3
 482              	.LVL63:
 483              	.L43:
 463:Middlewares/Third_Party/LwIP/src/core/pbuf.c **** #endif /* LWIP_SUPPORT_CUSTOM_PBUF */
 484              		.loc 1 463 0
 485 004e 70BC     		pop	{r4, r5, r6}
 486              	.LCFI9:
 487              		.cfi_remember_state
 488              		.cfi_restore 6
 489              		.cfi_restore 5
 490              		.cfi_restore 4
 491              		.cfi_def_cfa_offset 0
 492              	.LVL64:
 493 0050 7047     		bx	lr
 494              	.LVL65:
 495              	.L51:
 496              	.LCFI10:
 497              		.cfi_restore_state
 456:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****   }
 498              		.loc 1 456 0
 499 0052 0020     		movs	r0, #0
ARM GAS  C:\Users\Student\AppData\Local\Temp\ccjV5bMK.s 			page 30


 500 0054 5860     		str	r0, [r3, #4]
 501 0056 F2E7     		b	.L52
 502              	.LVL66:
 503              	.L53:
 444:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****   }
 504              		.loc 1 444 0
 505 0058 0020     		movs	r0, #0
 506              	.LVL67:
 507 005a F8E7     		b	.L43
 508              	.L55:
 449:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****   }
 509              		.loc 1 449 0
 510 005c 0020     		movs	r0, #0
 511 005e F6E7     		b	.L43
 512              		.cfi_endproc
 513              	.LFE145:
 515              		.section	.text.pbuf_header,"ax",%progbits
 516              		.align	1
 517              		.global	pbuf_header
 518              		.syntax unified
 519              		.thumb
 520              		.thumb_func
 521              		.fpu fpv5-sp-d16
 523              	pbuf_header:
 524              	.LFB148:
 656:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****    return pbuf_header_impl(p, header_size_increment, 0);
 525              		.loc 1 656 0
 526              		.cfi_startproc
 527              		@ args = 0, pretend = 0, frame = 0
 528              		@ frame_needed = 0, uses_anonymous_args = 0
 529              	.LVL68:
 530 0000 08B5     		push	{r3, lr}
 531              	.LCFI11:
 532              		.cfi_def_cfa_offset 8
 533              		.cfi_offset 3, -8
 534              		.cfi_offset 14, -4
 657:Middlewares/Third_Party/LwIP/src/core/pbuf.c **** }
 535              		.loc 1 657 0
 536 0002 0022     		movs	r2, #0
 537 0004 FFF7FEFF 		bl	pbuf_header_impl
 538              	.LVL69:
 658:Middlewares/Third_Party/LwIP/src/core/pbuf.c **** 
 539              		.loc 1 658 0
 540 0008 08BD     		pop	{r3, pc}
 541              		.cfi_endproc
 542              	.LFE148:
 544              		.section	.text.pbuf_header_force,"ax",%progbits
 545              		.align	1
 546              		.global	pbuf_header_force
 547              		.syntax unified
 548              		.thumb
 549              		.thumb_func
 550              		.fpu fpv5-sp-d16
 552              	pbuf_header_force:
 553              	.LFB149:
 666:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****    return pbuf_header_impl(p, header_size_increment, 1);
 554              		.loc 1 666 0
ARM GAS  C:\Users\Student\AppData\Local\Temp\ccjV5bMK.s 			page 31


 555              		.cfi_startproc
 556              		@ args = 0, pretend = 0, frame = 0
 557              		@ frame_needed = 0, uses_anonymous_args = 0
 558              	.LVL70:
 559 0000 08B5     		push	{r3, lr}
 560              	.LCFI12:
 561              		.cfi_def_cfa_offset 8
 562              		.cfi_offset 3, -8
 563              		.cfi_offset 14, -4
 667:Middlewares/Third_Party/LwIP/src/core/pbuf.c **** }
 564              		.loc 1 667 0
 565 0002 0122     		movs	r2, #1
 566 0004 FFF7FEFF 		bl	pbuf_header_impl
 567              	.LVL71:
 668:Middlewares/Third_Party/LwIP/src/core/pbuf.c **** 
 568              		.loc 1 668 0
 569 0008 08BD     		pop	{r3, pc}
 570              		.cfi_endproc
 571              	.LFE149:
 573              		.section	.text.pbuf_free,"ax",%progbits
 574              		.align	1
 575              		.global	pbuf_free
 576              		.syntax unified
 577              		.thumb
 578              		.thumb_func
 579              		.fpu fpv5-sp-d16
 581              	pbuf_free:
 582              	.LFB150:
 706:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****   u16_t type;
 583              		.loc 1 706 0
 584              		.cfi_startproc
 585              		@ args = 0, pretend = 0, frame = 0
 586              		@ frame_needed = 0, uses_anonymous_args = 0
 587              	.LVL72:
 588 0000 70B5     		push	{r4, r5, r6, lr}
 589              	.LCFI13:
 590              		.cfi_def_cfa_offset 16
 591              		.cfi_offset 4, -16
 592              		.cfi_offset 5, -12
 593              		.cfi_offset 6, -8
 594              		.cfi_offset 14, -4
 711:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****     LWIP_ASSERT("p != NULL", p != NULL);
 595              		.loc 1 711 0
 596 0002 70B3     		cbz	r0, .L70
 597 0004 0446     		mov	r4, r0
 598 0006 0026     		movs	r6, #0
 599 0008 05E0     		b	.L64
 600              	.LVL73:
 601              	.L73:
 602              	.LBB3:
 603              	.LBB4:
 751:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****         pc->custom_free_function(p);
 604              		.loc 1 751 0
 605 000a 2369     		ldr	r3, [r4, #16]
 606              	.LVL74:
 752:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****       } else
 607              		.loc 1 752 0
ARM GAS  C:\Users\Student\AppData\Local\Temp\ccjV5bMK.s 			page 32


 608 000c 2046     		mov	r0, r4
 609 000e 9847     		blx	r3
 610              	.LVL75:
 611              	.L66:
 612              	.LBE4:
 767:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****       /* proceed to next pbuf */
 613              		.loc 1 767 0
 614 0010 0136     		adds	r6, r6, #1
 615              	.LVL76:
 616 0012 F6B2     		uxtb	r6, r6
 617              	.LVL77:
 769:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****     /* p->ref > 0, this pbuf is still referenced to */
 618              		.loc 1 769 0
 619 0014 2C46     		mov	r4, r5
 620              	.LVL78:
 621              	.L64:
 622              	.LBE3:
 729:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****     u16_t ref;
 623              		.loc 1 729 0
 624 0016 2CB3     		cbz	r4, .L62
 625              	.LBB5:
 735:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****     /* all pbufs in a chain are referenced at least once */
 626              		.loc 1 735 0
 627 0018 FFF7FEFF 		bl	sys_arch_protect
 628              	.LVL79:
 737:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****     /* decrease reference count (number of pointers to pbuf) */
 629              		.loc 1 737 0
 630 001c E589     		ldrh	r5, [r4, #14]
 739:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****     SYS_ARCH_UNPROTECT(old_level);
 631              		.loc 1 739 0
 632 001e 013D     		subs	r5, r5, #1
 633 0020 ADB2     		uxth	r5, r5
 634 0022 E581     		strh	r5, [r4, #14]	@ movhi
 635              	.LVL80:
 740:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****     /* this pbuf is no longer referenced to? */
 636              		.loc 1 740 0
 637 0024 FFF7FEFF 		bl	sys_arch_unprotect
 638              	.LVL81:
 742:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****       /* remember next pbuf in chain for next iteration */
 639              		.loc 1 742 0
 640 0028 CDB9     		cbnz	r5, .L71
 744:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****       LWIP_DEBUGF( PBUF_DEBUG | LWIP_DBG_TRACE, ("pbuf_free: deallocating %p\n", (void *)p));
 641              		.loc 1 744 0
 642 002a 2568     		ldr	r5, [r4]
 643              	.LVL82:
 746:Middlewares/Third_Party/LwIP/src/core/pbuf.c **** #if LWIP_SUPPORT_CUSTOM_PBUF
 644              		.loc 1 746 0
 645 002c 237B     		ldrb	r3, [r4, #12]	@ zero_extendqisi2
 646              	.LVL83:
 749:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****         struct pbuf_custom *pc = (struct pbuf_custom*)p;
 647              		.loc 1 749 0
 648 002e 627B     		ldrb	r2, [r4, #13]	@ zero_extendqisi2
 649 0030 12F0020F 		tst	r2, #2
 650 0034 E9D1     		bne	.L73
 757:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****           memp_free(MEMP_PBUF_POOL, p);
 651              		.loc 1 757 0
 652 0036 032B     		cmp	r3, #3
ARM GAS  C:\Users\Student\AppData\Local\Temp\ccjV5bMK.s 			page 33


 653 0038 07D0     		beq	.L74
 760:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****           memp_free(MEMP_PBUF, p);
 654              		.loc 1 760 0
 655 003a 013B     		subs	r3, r3, #1
 656              	.LVL84:
 657 003c 9BB2     		uxth	r3, r3
 658              	.LVL85:
 659 003e 012B     		cmp	r3, #1
 660 0040 08D9     		bls	.L75
 764:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****         }
 661              		.loc 1 764 0
 662 0042 2046     		mov	r0, r4
 663 0044 FFF7FEFF 		bl	mem_free
 664              	.LVL86:
 665 0048 E2E7     		b	.L66
 666              	.LVL87:
 667              	.L74:
 758:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****         /* is this a ROM or RAM referencing pbuf? */
 668              		.loc 1 758 0
 669 004a 2146     		mov	r1, r4
 670 004c 0C20     		movs	r0, #12
 671 004e FFF7FEFF 		bl	memp_free
 672              	.LVL88:
 673 0052 DDE7     		b	.L66
 674              	.LVL89:
 675              	.L75:
 761:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****         /* type == PBUF_RAM */
 676              		.loc 1 761 0
 677 0054 2146     		mov	r1, r4
 678 0056 0B20     		movs	r0, #11
 679 0058 FFF7FEFF 		bl	memp_free
 680              	.LVL90:
 681 005c D8E7     		b	.L66
 682              	.LVL91:
 683              	.L71:
 775:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****     }
 684              		.loc 1 775 0
 685 005e 0024     		movs	r4, #0
 686              	.LVL92:
 687 0060 D9E7     		b	.L64
 688              	.LVL93:
 689              	.L70:
 690              	.LBE5:
 716:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****   }
 691              		.loc 1 716 0
 692 0062 0026     		movs	r6, #0
 693              	.LVL94:
 694              	.L62:
 781:Middlewares/Third_Party/LwIP/src/core/pbuf.c **** 
 695              		.loc 1 781 0
 696 0064 3046     		mov	r0, r6
 697 0066 70BD     		pop	{r4, r5, r6, pc}
 698              		.cfi_endproc
 699              	.LFE150:
 701              		.section	.text.pbuf_alloc,"ax",%progbits
 702              		.align	1
 703              		.global	pbuf_alloc
ARM GAS  C:\Users\Student\AppData\Local\Temp\ccjV5bMK.s 			page 34


 704              		.syntax unified
 705              		.thumb
 706              		.thumb_func
 707              		.fpu fpv5-sp-d16
 709              	pbuf_alloc:
 710              	.LFB144:
 249:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****   struct pbuf *p, *q, *r;
 711              		.loc 1 249 0
 712              		.cfi_startproc
 713              		@ args = 0, pretend = 0, frame = 0
 714              		@ frame_needed = 0, uses_anonymous_args = 0
 715              	.LVL95:
 716 0000 2DE9F041 		push	{r4, r5, r6, r7, r8, lr}
 717              	.LCFI14:
 718              		.cfi_def_cfa_offset 24
 719              		.cfi_offset 4, -24
 720              		.cfi_offset 5, -20
 721              		.cfi_offset 6, -16
 722              		.cfi_offset 7, -12
 723              		.cfi_offset 8, -8
 724              		.cfi_offset 14, -4
 256:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****   case PBUF_TRANSPORT:
 725              		.loc 1 256 0
 726 0004 0428     		cmp	r0, #4
 727 0006 00F28B80 		bhi	.L93
 728 000a DFE800F0 		tbb	[pc, r0]
 729              	.L79:
 730 000e 03       		.byte	(.L78-.L79)/2
 731 000f 0B       		.byte	(.L94-.L79)/2
 732 0010 05       		.byte	(.L81-.L79)/2
 733 0011 07       		.byte	(.L82-.L79)/2
 734 0012 09       		.byte	(.L83-.L79)/2
 735 0013 00       		.p2align 1
 736              	.L78:
 259:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****     break;
 737              		.loc 1 259 0
 738 0014 3624     		movs	r4, #54
 739 0016 06E0     		b	.L80
 740              	.L81:
 741              	.LVL96:
 267:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****     break;
 742              		.loc 1 267 0
 743 0018 0E24     		movs	r4, #14
 268:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****   case PBUF_RAW_TX:
 744              		.loc 1 268 0
 745 001a 04E0     		b	.L80
 746              	.LVL97:
 747              	.L82:
 271:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****     break;
 748              		.loc 1 271 0
 749 001c 0024     		movs	r4, #0
 272:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****   case PBUF_RAW:
 750              		.loc 1 272 0
 751 001e 02E0     		b	.L80
 752              	.LVL98:
 753              	.L83:
 275:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****     break;
ARM GAS  C:\Users\Student\AppData\Local\Temp\ccjV5bMK.s 			page 35


 754              		.loc 1 275 0
 755 0020 0024     		movs	r4, #0
 276:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****   default:
 756              		.loc 1 276 0
 757 0022 00E0     		b	.L80
 758              	.LVL99:
 759              	.L94:
 263:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****     break;
 760              		.loc 1 263 0
 761 0024 2224     		movs	r4, #34
 762              	.L80:
 763 0026 1646     		mov	r6, r2
 764 0028 0D46     		mov	r5, r1
 765              	.LVL100:
 282:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****   case PBUF_POOL:
 766              		.loc 1 282 0
 767 002a 032A     		cmp	r2, #3
 768 002c 7AD8     		bhi	.L95
 769 002e DFE802F0 		tbb	[pc, r2]
 770              	.L85:
 771 0032 48       		.byte	(.L84-.L85)/2
 772 0033 6A       		.byte	(.L86-.L85)/2
 773 0034 6A       		.byte	(.L86-.L85)/2
 774 0035 02       		.byte	(.L87-.L85)/2
 775              		.p2align 1
 776              	.L87:
 285:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****     LWIP_DEBUGF(PBUF_DEBUG | LWIP_DBG_TRACE, ("pbuf_alloc: allocated pbuf %p\n", (void *)p));
 777              		.loc 1 285 0
 778 0036 0C20     		movs	r0, #12
 779              	.LVL101:
 780 0038 FFF7FEFF 		bl	memp_malloc
 781              	.LVL102:
 287:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****       PBUF_POOL_IS_EMPTY();
 782              		.loc 1 287 0
 783 003c 0746     		mov	r7, r0
 784 003e 0028     		cmp	r0, #0
 785 0040 35D0     		beq	.L97
 291:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****     p->next = NULL;
 786              		.loc 1 291 0
 787 0042 0673     		strb	r6, [r0, #12]
 292:Middlewares/Third_Party/LwIP/src/core/pbuf.c **** 
 788              		.loc 1 292 0
 789 0044 0023     		movs	r3, #0
 790 0046 0360     		str	r3, [r0]
 295:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****     LWIP_ASSERT("pbuf_alloc: pbuf p->payload properly aligned",
 791              		.loc 1 295 0
 792 0048 04F11003 		add	r3, r4, #16
 793 004c 0344     		add	r3, r3, r0
 794 004e 0333     		adds	r3, r3, #3
 795 0050 23F00303 		bic	r3, r3, #3
 796 0054 4360     		str	r3, [r0, #4]
 299:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****     /* set the length of the first pbuf in the chain */
 797              		.loc 1 299 0
 798 0056 0581     		strh	r5, [r0, #8]	@ movhi
 301:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****     LWIP_ASSERT("check p->payload + p->len does not overflow pbuf",
 799              		.loc 1 301 0
 800 0058 E11C     		adds	r1, r4, #3
ARM GAS  C:\Users\Student\AppData\Local\Temp\ccjV5bMK.s 			page 36


 801 005a 21F00301 		bic	r1, r1, #3
 802 005e C1F51471 		rsb	r1, r1, #592
 803 0062 A942     		cmp	r1, r5
 804 0064 28BF     		it	cs
 805 0066 2946     		movcs	r1, r5
 806 0068 89B2     		uxth	r1, r1
 807 006a 4181     		strh	r1, [r0, #10]	@ movhi
 308:Middlewares/Third_Party/LwIP/src/core/pbuf.c **** 
 808              		.loc 1 308 0
 809 006c 0123     		movs	r3, #1
 810 006e C381     		strh	r3, [r0, #14]	@ movhi
 811              	.LVL103:
 315:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****     /* any remaining pbufs to be allocated? */
 812              		.loc 1 315 0
 813 0070 6D1A     		subs	r5, r5, r1
 814              	.LVL104:
 313:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****     /* remaining length to be allocated */
 815              		.loc 1 313 0
 816 0072 8046     		mov	r8, r0
 817              	.LVL105:
 818              	.L89:
 317:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****       q = (struct pbuf *)memp_malloc(MEMP_PBUF_POOL);
 819              		.loc 1 317 0
 820 0074 002D     		cmp	r5, #0
 821 0076 3FDD     		ble	.L92
 318:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****       if (q == NULL) {
 822              		.loc 1 318 0
 823 0078 0C20     		movs	r0, #12
 824              	.LVL106:
 825 007a FFF7FEFF 		bl	memp_malloc
 826              	.LVL107:
 319:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****         PBUF_POOL_IS_EMPTY();
 827              		.loc 1 319 0
 828 007e 0446     		mov	r4, r0
 829 0080 C0B1     		cbz	r0, .L98
 326:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****       q->flags = 0;
 830              		.loc 1 326 0
 831 0082 0673     		strb	r6, [r0, #12]
 327:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****       q->next = NULL;
 832              		.loc 1 327 0
 833 0084 0023     		movs	r3, #0
 834 0086 4373     		strb	r3, [r0, #13]
 328:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****       /* make previous pbuf point to this pbuf */
 835              		.loc 1 328 0
 836 0088 0360     		str	r3, [r0]
 330:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****       /* set total length of this pbuf and next in chain */
 837              		.loc 1 330 0
 838 008a C8F80000 		str	r0, [r8]
 333:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****       /* this pbuf length is pool size, unless smaller sized tail */
 839              		.loc 1 333 0
 840 008e ABB2     		uxth	r3, r5
 841 0090 0381     		strh	r3, [r0, #8]	@ movhi
 335:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****       q->payload = (void *)((u8_t *)q + SIZEOF_STRUCT_PBUF);
 842              		.loc 1 335 0
 843 0092 B3F5147F 		cmp	r3, #592
 844 0096 28BF     		it	cs
 845 0098 4FF41473 		movcs	r3, #592
ARM GAS  C:\Users\Student\AppData\Local\Temp\ccjV5bMK.s 			page 37


 846 009c 4381     		strh	r3, [r0, #10]	@ movhi
 336:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****       LWIP_ASSERT("pbuf_alloc: pbuf q->payload properly aligned",
 847              		.loc 1 336 0
 848 009e 00F11002 		add	r2, r0, #16
 849 00a2 4260     		str	r2, [r0, #4]
 342:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****       /* calculate remaining length to be allocated */
 850              		.loc 1 342 0
 851 00a4 0122     		movs	r2, #1
 852 00a6 C281     		strh	r2, [r0, #14]	@ movhi
 344:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****       /* remember this pbuf for linkage in next iteration */
 853              		.loc 1 344 0
 854 00a8 ED1A     		subs	r5, r5, r3
 855              	.LVL108:
 346:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****     }
 856              		.loc 1 346 0
 857 00aa 8046     		mov	r8, r0
 858 00ac E2E7     		b	.L89
 859              	.LVL109:
 860              	.L97:
 288:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****       return NULL;
 861              		.loc 1 288 0
 862 00ae FFF7FEFF 		bl	pbuf_pool_is_empty
 863              	.LVL110:
 289:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****     }
 864              		.loc 1 289 0
 865 00b2 25E0     		b	.L76
 866              	.LVL111:
 867              	.L98:
 320:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****         /* free chain so far allocated */
 868              		.loc 1 320 0
 869 00b4 FFF7FEFF 		bl	pbuf_pool_is_empty
 870              	.LVL112:
 322:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****         /* bail out unsuccessfully */
 871              		.loc 1 322 0
 872 00b8 3846     		mov	r0, r7
 873 00ba FFF7FEFF 		bl	pbuf_free
 874              	.LVL113:
 324:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****       }
 875              		.loc 1 324 0
 876 00be 2746     		mov	r7, r4
 877              	.LVL114:
 878 00c0 1EE0     		b	.L76
 879              	.LVL115:
 880              	.L84:
 354:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****     if (p == NULL) {
 881              		.loc 1 354 0
 882 00c2 04F11300 		add	r0, r4, #19
 883              	.LVL116:
 884 00c6 20F00300 		bic	r0, r0, #3
 885 00ca 83B2     		uxth	r3, r0
 886 00cc C81C     		adds	r0, r1, #3
 887 00ce 80B2     		uxth	r0, r0
 888 00d0 20F00300 		bic	r0, r0, #3
 889 00d4 1844     		add	r0, r0, r3
 890 00d6 80B2     		uxth	r0, r0
 891 00d8 FFF7FEFF 		bl	mem_malloc
 892              	.LVL117:
ARM GAS  C:\Users\Student\AppData\Local\Temp\ccjV5bMK.s 			page 38


 355:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****       return NULL;
 893              		.loc 1 355 0
 894 00dc 0746     		mov	r7, r0
 895 00de 78B1     		cbz	r0, .L76
 359:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****     p->len = p->tot_len = length;
 896              		.loc 1 359 0
 897 00e0 04F11003 		add	r3, r4, #16
 898 00e4 0344     		add	r3, r3, r0
 899 00e6 0333     		adds	r3, r3, #3
 900 00e8 23F00303 		bic	r3, r3, #3
 901 00ec 4360     		str	r3, [r0, #4]
 360:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****     p->next = NULL;
 902              		.loc 1 360 0
 903 00ee 0581     		strh	r5, [r0, #8]	@ movhi
 904 00f0 4581     		strh	r5, [r0, #10]	@ movhi
 361:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****     p->type = type;
 905              		.loc 1 361 0
 906 00f2 0023     		movs	r3, #0
 907 00f4 0360     		str	r3, [r0]
 362:Middlewares/Third_Party/LwIP/src/core/pbuf.c **** 
 908              		.loc 1 362 0
 909 00f6 0673     		strb	r6, [r0, #12]
 910              	.LVL118:
 911              	.L92:
 390:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****   /* set flags */
 912              		.loc 1 390 0
 913 00f8 0123     		movs	r3, #1
 914 00fa FB81     		strh	r3, [r7, #14]	@ movhi
 392:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****   LWIP_DEBUGF(PBUF_DEBUG | LWIP_DBG_TRACE, ("pbuf_alloc(length=%"U16_F") == %p\n", length, (void *)
 915              		.loc 1 392 0
 916 00fc 0023     		movs	r3, #0
 917 00fe 7B73     		strb	r3, [r7, #13]
 918              	.LVL119:
 919              	.L76:
 395:Middlewares/Third_Party/LwIP/src/core/pbuf.c **** 
 920              		.loc 1 395 0
 921 0100 3846     		mov	r0, r7
 922 0102 BDE8F081 		pop	{r4, r5, r6, r7, r8, pc}
 923              	.LVL120:
 924              	.L86:
 372:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****     if (p == NULL) {
 925              		.loc 1 372 0
 926 0106 0B20     		movs	r0, #11
 927              	.LVL121:
 928 0108 FFF7FEFF 		bl	memp_malloc
 929              	.LVL122:
 373:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****       LWIP_DEBUGF(PBUF_DEBUG | LWIP_DBG_LEVEL_SERIOUS,
 930              		.loc 1 373 0
 931 010c 0746     		mov	r7, r0
 932 010e 0028     		cmp	r0, #0
 933 0110 F6D0     		beq	.L76
 380:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****     p->len = p->tot_len = length;
 934              		.loc 1 380 0
 935 0112 0023     		movs	r3, #0
 936 0114 4360     		str	r3, [r0, #4]
 381:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****     p->next = NULL;
 937              		.loc 1 381 0
ARM GAS  C:\Users\Student\AppData\Local\Temp\ccjV5bMK.s 			page 39


 938 0116 0581     		strh	r5, [r0, #8]	@ movhi
 939 0118 4581     		strh	r5, [r0, #10]	@ movhi
 382:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****     p->type = type;
 940              		.loc 1 382 0
 941 011a 0360     		str	r3, [r0]
 383:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****     break;
 942              		.loc 1 383 0
 943 011c 0673     		strb	r6, [r0, #12]
 384:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****   default:
 944              		.loc 1 384 0
 945 011e EBE7     		b	.L92
 946              	.LVL123:
 947              	.L93:
 279:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****   }
 948              		.loc 1 279 0
 949 0120 0027     		movs	r7, #0
 950 0122 EDE7     		b	.L76
 951              	.LVL124:
 952              	.L95:
 387:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****   }
 953              		.loc 1 387 0
 954 0124 0027     		movs	r7, #0
 955 0126 EBE7     		b	.L76
 956              		.cfi_endproc
 957              	.LFE144:
 959              		.section	.text.pbuf_realloc,"ax",%progbits
 960              		.align	1
 961              		.global	pbuf_realloc
 962              		.syntax unified
 963              		.thumb
 964              		.thumb_func
 965              		.fpu fpv5-sp-d16
 967              	pbuf_realloc:
 968              	.LFB146:
 484:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****   struct pbuf *q;
 969              		.loc 1 484 0
 970              		.cfi_startproc
 971              		@ args = 0, pretend = 0, frame = 0
 972              		@ frame_needed = 0, uses_anonymous_args = 0
 973              	.LVL125:
 974 0000 38B5     		push	{r3, r4, r5, lr}
 975              	.LCFI15:
 976              		.cfi_def_cfa_offset 16
 977              		.cfi_offset 3, -16
 978              		.cfi_offset 4, -12
 979              		.cfi_offset 5, -8
 980              		.cfi_offset 14, -4
 981 0002 0446     		mov	r4, r0
 496:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****     /* enlarging not yet supported */
 982              		.loc 1 496 0
 983 0004 0089     		ldrh	r0, [r0, #8]
 984              	.LVL126:
 985 0006 8842     		cmp	r0, r1
 986 0008 1BD9     		bls	.L99
 987 000a 0D46     		mov	r5, r1
 988 000c 06E0     		b	.L101
 989              	.LVL127:
ARM GAS  C:\Users\Student\AppData\Local\Temp\ccjV5bMK.s 			page 40


 990              	.L102:
 511:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****     /* decrease total length indicator */
 991              		.loc 1 511 0
 992 000e EB1A     		subs	r3, r5, r3
 993 0010 9DB2     		uxth	r5, r3
 994              	.LVL128:
 514:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****     /* proceed to next pbuf in chain */
 995              		.loc 1 514 0
 996 0012 0B1A     		subs	r3, r1, r0
 997 0014 2289     		ldrh	r2, [r4, #8]
 998 0016 1344     		add	r3, r3, r2
 999 0018 2381     		strh	r3, [r4, #8]	@ movhi
 516:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****     LWIP_ASSERT("pbuf_realloc: q != NULL", q != NULL);
 1000              		.loc 1 516 0
 1001 001a 2468     		ldr	r4, [r4]
 1002              	.LVL129:
 1003              	.L101:
 509:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****     /* decrease remaining length by pbuf length */
 1004              		.loc 1 509 0
 1005 001c 6389     		ldrh	r3, [r4, #10]
 1006 001e 9D42     		cmp	r5, r3
 1007 0020 F5D8     		bhi	.L102
 524:Middlewares/Third_Party/LwIP/src/core/pbuf.c **** #if LWIP_SUPPORT_CUSTOM_PBUF
 1008              		.loc 1 524 0
 1009 0022 227B     		ldrb	r2, [r4, #12]	@ zero_extendqisi2
 1010 0024 2AB9     		cbnz	r2, .L103
 524:Middlewares/Third_Party/LwIP/src/core/pbuf.c **** #if LWIP_SUPPORT_CUSTOM_PBUF
 1011              		.loc 1 524 0 is_stmt 0 discriminator 1
 1012 0026 9D42     		cmp	r5, r3
 1013 0028 03D0     		beq	.L103
 526:Middlewares/Third_Party/LwIP/src/core/pbuf.c **** #endif /* LWIP_SUPPORT_CUSTOM_PBUF */
 1014              		.loc 1 526 0 is_stmt 1
 1015 002a 637B     		ldrb	r3, [r4, #13]	@ zero_extendqisi2
 1016 002c 13F0020F 		tst	r3, #2
 1017 0030 08D0     		beq	.L106
 1018              	.LVL130:
 1019              	.L103:
 534:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****   q->tot_len = q->len;
 1020              		.loc 1 534 0
 1021 0032 6581     		strh	r5, [r4, #10]	@ movhi
 535:Middlewares/Third_Party/LwIP/src/core/pbuf.c **** 
 1022              		.loc 1 535 0
 1023 0034 2581     		strh	r5, [r4, #8]	@ movhi
 538:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****     /* free remaining pbufs in chain */
 1024              		.loc 1 538 0
 1025 0036 2068     		ldr	r0, [r4]
 1026 0038 08B1     		cbz	r0, .L104
 540:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****   }
 1027              		.loc 1 540 0
 1028 003a FFF7FEFF 		bl	pbuf_free
 1029              	.LVL131:
 1030              	.L104:
 543:Middlewares/Third_Party/LwIP/src/core/pbuf.c **** 
 1031              		.loc 1 543 0
 1032 003e 0023     		movs	r3, #0
 1033 0040 2360     		str	r3, [r4]
 1034              	.LVL132:
ARM GAS  C:\Users\Student\AppData\Local\Temp\ccjV5bMK.s 			page 41


 1035              	.L99:
 1036 0042 38BD     		pop	{r3, r4, r5, pc}
 1037              	.LVL133:
 1038              	.L106:
 530:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****     LWIP_ASSERT("mem_trim returned q == NULL", q != NULL);
 1039              		.loc 1 530 0
 1040 0044 6368     		ldr	r3, [r4, #4]
 1041 0046 1B1B     		subs	r3, r3, r4
 1042 0048 15FA83F1 		uxtah	r1, r5, r3
 1043              	.LVL134:
 1044 004c 89B2     		uxth	r1, r1
 1045 004e 2046     		mov	r0, r4
 1046 0050 FFF7FEFF 		bl	mem_trim
 1047              	.LVL135:
 1048 0054 0446     		mov	r4, r0
 1049              	.LVL136:
 1050 0056 ECE7     		b	.L103
 1051              		.cfi_endproc
 1052              	.LFE146:
 1054              		.section	.text.pbuf_clen,"ax",%progbits
 1055              		.align	1
 1056              		.global	pbuf_clen
 1057              		.syntax unified
 1058              		.thumb
 1059              		.thumb_func
 1060              		.fpu fpv5-sp-d16
 1062              	pbuf_clen:
 1063              	.LFB151:
 791:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****   u16_t len;
 1064              		.loc 1 791 0
 1065              		.cfi_startproc
 1066              		@ args = 0, pretend = 0, frame = 0
 1067              		@ frame_needed = 0, uses_anonymous_args = 0
 1068              		@ link register save eliminated.
 1069              	.LVL137:
 794:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****   while (p != NULL) {
 1070              		.loc 1 794 0
 1071 0000 0023     		movs	r3, #0
 795:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****     ++len;
 1072              		.loc 1 795 0
 1073 0002 02E0     		b	.L108
 1074              	.LVL138:
 1075              	.L109:
 796:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****     p = p->next;
 1076              		.loc 1 796 0
 1077 0004 0133     		adds	r3, r3, #1
 1078              	.LVL139:
 1079 0006 9BB2     		uxth	r3, r3
 1080              	.LVL140:
 797:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****   }
 1081              		.loc 1 797 0
 1082 0008 0068     		ldr	r0, [r0]
 1083              	.LVL141:
 1084              	.L108:
 795:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****     ++len;
 1085              		.loc 1 795 0
 1086 000a 0028     		cmp	r0, #0
ARM GAS  C:\Users\Student\AppData\Local\Temp\ccjV5bMK.s 			page 42


 1087 000c FAD1     		bne	.L109
 800:Middlewares/Third_Party/LwIP/src/core/pbuf.c **** 
 1088              		.loc 1 800 0
 1089 000e 1846     		mov	r0, r3
 1090              	.LVL142:
 1091 0010 7047     		bx	lr
 1092              		.cfi_endproc
 1093              	.LFE151:
 1095              		.section	.text.pbuf_ref,"ax",%progbits
 1096              		.align	1
 1097              		.global	pbuf_ref
 1098              		.syntax unified
 1099              		.thumb
 1100              		.thumb_func
 1101              		.fpu fpv5-sp-d16
 1103              	pbuf_ref:
 1104              	.LFB152:
 811:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****   /* pbuf given? */
 1105              		.loc 1 811 0
 1106              		.cfi_startproc
 1107              		@ args = 0, pretend = 0, frame = 0
 1108              		@ frame_needed = 0, uses_anonymous_args = 0
 1109              	.LVL143:
 813:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****     SYS_ARCH_INC(p->ref, 1);
 1110              		.loc 1 813 0
 1111 0000 48B1     		cbz	r0, .L113
 811:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****   /* pbuf given? */
 1112              		.loc 1 811 0
 1113 0002 10B5     		push	{r4, lr}
 1114              	.LCFI16:
 1115              		.cfi_def_cfa_offset 8
 1116              		.cfi_offset 4, -8
 1117              		.cfi_offset 14, -4
 1118 0004 0446     		mov	r4, r0
 1119              	.LBB6:
 814:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****   }
 1120              		.loc 1 814 0
 1121 0006 FFF7FEFF 		bl	sys_arch_protect
 1122              	.LVL144:
 1123 000a E389     		ldrh	r3, [r4, #14]
 1124 000c 0133     		adds	r3, r3, #1
 1125 000e E381     		strh	r3, [r4, #14]	@ movhi
 1126 0010 FFF7FEFF 		bl	sys_arch_unprotect
 1127              	.LVL145:
 1128 0014 10BD     		pop	{r4, pc}
 1129              	.LVL146:
 1130              	.L113:
 1131              	.LCFI17:
 1132              		.cfi_def_cfa_offset 0
 1133              		.cfi_restore 4
 1134              		.cfi_restore 14
 1135 0016 7047     		bx	lr
 1136              	.LBE6:
 1137              		.cfi_endproc
 1138              	.LFE152:
 1140              		.section	.text.pbuf_cat,"ax",%progbits
 1141              		.align	1
ARM GAS  C:\Users\Student\AppData\Local\Temp\ccjV5bMK.s 			page 43


 1142              		.global	pbuf_cat
 1143              		.syntax unified
 1144              		.thumb
 1145              		.thumb_func
 1146              		.fpu fpv5-sp-d16
 1148              	pbuf_cat:
 1149              	.LFB153:
 830:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****   struct pbuf *p;
 1150              		.loc 1 830 0
 1151              		.cfi_startproc
 1152              		@ args = 0, pretend = 0, frame = 0
 1153              		@ frame_needed = 0, uses_anonymous_args = 0
 1154              		@ link register save eliminated.
 1155              	.LVL147:
 1156 0000 10B4     		push	{r4}
 1157              	.LCFI18:
 1158              		.cfi_def_cfa_offset 4
 1159              		.cfi_offset 4, -4
 833:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****              ((h != NULL) && (t != NULL)), return;);
 1160              		.loc 1 833 0
 1161 0002 0346     		mov	r3, r0
 1162 0004 0C46     		mov	r4, r1
 1163 0006 0029     		cmp	r1, #0
 1164 0008 18BF     		it	ne
 1165 000a 0028     		cmpne	r0, #0
 1166 000c 05D1     		bne	.L118
 1167 000e 0CE0     		b	.L116
 1168              	.LVL148:
 1169              	.L119:
 839:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****   }
 1170              		.loc 1 839 0 discriminator 3
 1171 0010 2289     		ldrh	r2, [r4, #8]
 1172 0012 1889     		ldrh	r0, [r3, #8]
 1173 0014 0244     		add	r2, r2, r0
 1174 0016 1A81     		strh	r2, [r3, #8]	@ movhi
 1175              	.LVL149:
 837:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****     /* add total length of second chain to all totals of first chain */
 1176              		.loc 1 837 0 discriminator 3
 1177 0018 0B46     		mov	r3, r1
 1178              	.LVL150:
 1179              	.L118:
 837:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****     /* add total length of second chain to all totals of first chain */
 1180              		.loc 1 837 0 is_stmt 0 discriminator 1
 1181 001a 1968     		ldr	r1, [r3]
 1182 001c 0029     		cmp	r1, #0
 1183 001e F7D1     		bne	.L119
 842:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****   LWIP_ASSERT("p->next == NULL", p->next == NULL);
 1184              		.loc 1 842 0 is_stmt 1
 1185 0020 1A89     		ldrh	r2, [r3, #8]
 845:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****   /* chain last pbuf of head (p) with first of tail (t) */
 1186              		.loc 1 845 0
 1187 0022 2189     		ldrh	r1, [r4, #8]
 1188 0024 0A44     		add	r2, r2, r1
 1189 0026 1A81     		strh	r2, [r3, #8]	@ movhi
 847:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****   /* p->next now references t, but the caller will drop its reference to t,
 1190              		.loc 1 847 0
 1191 0028 1C60     		str	r4, [r3]
ARM GAS  C:\Users\Student\AppData\Local\Temp\ccjV5bMK.s 			page 44


 1192              	.LVL151:
 1193              	.L116:
 851:Middlewares/Third_Party/LwIP/src/core/pbuf.c **** 
 1194              		.loc 1 851 0
 1195 002a 5DF8044B 		ldr	r4, [sp], #4
 1196              	.LCFI19:
 1197              		.cfi_restore 4
 1198              		.cfi_def_cfa_offset 0
 1199              	.LVL152:
 1200 002e 7047     		bx	lr
 1201              		.cfi_endproc
 1202              	.LFE153:
 1204              		.section	.text.pbuf_chain,"ax",%progbits
 1205              		.align	1
 1206              		.global	pbuf_chain
 1207              		.syntax unified
 1208              		.thumb
 1209              		.thumb_func
 1210              		.fpu fpv5-sp-d16
 1212              	pbuf_chain:
 1213              	.LFB154:
 872:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****   pbuf_cat(h, t);
 1214              		.loc 1 872 0
 1215              		.cfi_startproc
 1216              		@ args = 0, pretend = 0, frame = 0
 1217              		@ frame_needed = 0, uses_anonymous_args = 0
 1218              	.LVL153:
 1219 0000 10B5     		push	{r4, lr}
 1220              	.LCFI20:
 1221              		.cfi_def_cfa_offset 8
 1222              		.cfi_offset 4, -8
 1223              		.cfi_offset 14, -4
 1224 0002 0C46     		mov	r4, r1
 873:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****   /* t is now referenced by h */
 1225              		.loc 1 873 0
 1226 0004 FFF7FEFF 		bl	pbuf_cat
 1227              	.LVL154:
 875:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****   LWIP_DEBUGF(PBUF_DEBUG | LWIP_DBG_TRACE, ("pbuf_chain: %p references %p\n", (void *)h, (void *)t)
 1228              		.loc 1 875 0
 1229 0008 2046     		mov	r0, r4
 1230 000a FFF7FEFF 		bl	pbuf_ref
 1231              	.LVL155:
 1232 000e 10BD     		pop	{r4, pc}
 1233              		.cfi_endproc
 1234              	.LFE154:
 1236              		.section	.text.pbuf_dechain,"ax",%progbits
 1237              		.align	1
 1238              		.global	pbuf_dechain
 1239              		.syntax unified
 1240              		.thumb
 1241              		.thumb_func
 1242              		.fpu fpv5-sp-d16
 1244              	pbuf_dechain:
 1245              	.LFB155:
 889:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****   struct pbuf *q;
 1246              		.loc 1 889 0
 1247              		.cfi_startproc
ARM GAS  C:\Users\Student\AppData\Local\Temp\ccjV5bMK.s 			page 45


 1248              		@ args = 0, pretend = 0, frame = 0
 1249              		@ frame_needed = 0, uses_anonymous_args = 0
 1250              	.LVL156:
 1251 0000 10B5     		push	{r4, lr}
 1252              	.LCFI21:
 1253              		.cfi_def_cfa_offset 8
 1254              		.cfi_offset 4, -8
 1255              		.cfi_offset 14, -4
 1256              	.LVL157:
 893:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****   /* pbuf has successor in chain? */
 1257              		.loc 1 893 0
 1258 0002 0468     		ldr	r4, [r0]
 1259              	.LVL158:
 895:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****     /* assert tot_len invariant: (p->tot_len == p->len + (p->next? p->next->tot_len: 0) */
 1260              		.loc 1 895 0
 1261 0004 6CB1     		cbz	r4, .L126
 897:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****     /* enforce invariant if assertion is disabled */
 1262              		.loc 1 897 0
 1263 0006 0389     		ldrh	r3, [r0, #8]
 1264 0008 4289     		ldrh	r2, [r0, #10]
 899:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****     /* decouple pbuf from remainder */
 1265              		.loc 1 899 0
 1266 000a 9B1A     		subs	r3, r3, r2
 1267 000c 2381     		strh	r3, [r4, #8]	@ movhi
 901:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****     /* total length of pbuf p is its own length only */
 1268              		.loc 1 901 0
 1269 000e 0023     		movs	r3, #0
 1270 0010 0360     		str	r3, [r0]
 903:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****     /* q is no longer referenced by p, free it */
 1271              		.loc 1 903 0
 1272 0012 4389     		ldrh	r3, [r0, #10]
 1273 0014 0381     		strh	r3, [r0, #8]	@ movhi
 906:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****     if (tail_gone > 0) {
 1274              		.loc 1 906 0
 1275 0016 2046     		mov	r0, r4
 1276              	.LVL159:
 1277 0018 FFF7FEFF 		bl	pbuf_free
 1278              	.LVL160:
 1279              	.L124:
 915:Middlewares/Third_Party/LwIP/src/core/pbuf.c **** }
 1280              		.loc 1 915 0
 1281 001c 18B9     		cbnz	r0, .L129
 1282              	.LVL161:
 1283              	.L123:
 916:Middlewares/Third_Party/LwIP/src/core/pbuf.c **** 
 1284              		.loc 1 916 0
 1285 001e 2046     		mov	r0, r4
 1286              	.LVL162:
 1287 0020 10BD     		pop	{r4, pc}
 1288              	.LVL163:
 1289              	.L126:
 891:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****   /* tail */
 1290              		.loc 1 891 0
 1291 0022 0120     		movs	r0, #1
 1292              	.LVL164:
 1293 0024 FAE7     		b	.L124
 1294              	.LVL165:
ARM GAS  C:\Users\Student\AppData\Local\Temp\ccjV5bMK.s 			page 46


 1295              	.L129:
 915:Middlewares/Third_Party/LwIP/src/core/pbuf.c **** }
 1296              		.loc 1 915 0
 1297 0026 0024     		movs	r4, #0
 1298              	.LVL166:
 1299 0028 F9E7     		b	.L123
 1300              		.cfi_endproc
 1301              	.LFE155:
 1303              		.section	.text.pbuf_copy,"ax",%progbits
 1304              		.align	1
 1305              		.global	pbuf_copy
 1306              		.syntax unified
 1307              		.thumb
 1308              		.thumb_func
 1309              		.fpu fpv5-sp-d16
 1311              	pbuf_copy:
 1312              	.LFB156:
 938:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****   u16_t offset_to=0, offset_from=0, len;
 1313              		.loc 1 938 0
 1314              		.cfi_startproc
 1315              		@ args = 0, pretend = 0, frame = 0
 1316              		@ frame_needed = 0, uses_anonymous_args = 0
 1317              	.LVL167:
 945:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****              (p_from != NULL) && (p_to->tot_len >= p_from->tot_len)), return ERR_ARG;);
 1318              		.loc 1 945 0
 1319 0000 0029     		cmp	r1, #0
 1320 0002 18BF     		it	ne
 1321 0004 0028     		cmpne	r0, #0
 1322 0006 53D0     		beq	.L139
 938:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****   u16_t offset_to=0, offset_from=0, len;
 1323              		.loc 1 938 0 discriminator 2
 1324 0008 2DE9F041 		push	{r4, r5, r6, r7, r8, lr}
 1325              	.LCFI22:
 1326              		.cfi_def_cfa_offset 24
 1327              		.cfi_offset 4, -24
 1328              		.cfi_offset 5, -20
 1329              		.cfi_offset 6, -16
 1330              		.cfi_offset 7, -12
 1331              		.cfi_offset 8, -8
 1332              		.cfi_offset 14, -4
 1333 000c 0746     		mov	r7, r0
 1334 000e 0D46     		mov	r5, r1
 945:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****              (p_from != NULL) && (p_to->tot_len >= p_from->tot_len)), return ERR_ARG;);
 1335              		.loc 1 945 0 discriminator 2
 1336 0010 0289     		ldrh	r2, [r0, #8]
 1337 0012 0B89     		ldrh	r3, [r1, #8]
 1338 0014 9A42     		cmp	r2, r3
 1339 0016 4ED3     		bcc	.L140
 1340 0018 4FF00008 		mov	r8, #0
 1341 001c 4646     		mov	r6, r8
 1342 001e 10E0     		b	.L138
 1343              	.LVL168:
 1344              	.L132:
 957:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****     }
 1345              		.loc 1 957 0
 1346 0020 9B1B     		subs	r3, r3, r6
 1347 0022 9CB2     		uxth	r4, r3
ARM GAS  C:\Users\Student\AppData\Local\Temp\ccjV5bMK.s 			page 47


 1348              	.LVL169:
 1349 0024 15E0     		b	.L133
 1350              	.LVL170:
 1351              	.L134:
 969:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****       /* on to next p_to (if any) */
 1352              		.loc 1 969 0
 1353 0026 9E42     		cmp	r6, r3
 1354 0028 27D0     		beq	.L148
 1355              	.LVL171:
 1356              	.L135:
 976:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****       /* don't copy more than one packet! */
 1357              		.loc 1 976 0
 1358 002a 1DB1     		cbz	r5, .L136
 976:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****       /* don't copy more than one packet! */
 1359              		.loc 1 976 0 is_stmt 0 discriminator 1
 1360 002c 6A89     		ldrh	r2, [r5, #10]
 1361 002e 2B89     		ldrh	r3, [r5, #8]
 1362 0030 9A42     		cmp	r2, r3
 1363 0032 2CD0     		beq	.L149
 1364              	.L136:
 981:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****       /* don't copy more than one packet! */
 1365              		.loc 1 981 0 is_stmt 1
 1366 0034 1FB1     		cbz	r7, .L137
 981:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****       /* don't copy more than one packet! */
 1367              		.loc 1 981 0 is_stmt 0 discriminator 1
 1368 0036 7A89     		ldrh	r2, [r7, #10]
 1369 0038 3B89     		ldrh	r3, [r7, #8]
 1370 003a 9A42     		cmp	r2, r3
 1371 003c 2ED0     		beq	.L150
 1372              	.L137:
 986:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****   LWIP_DEBUGF(PBUF_DEBUG | LWIP_DBG_TRACE, ("pbuf_copy: end of chain reached.\n"));
 1373              		.loc 1 986 0 is_stmt 1
 1374 003e 002D     		cmp	r5, #0
 1375 0040 33D0     		beq	.L151
 1376              	.LVL172:
 1377              	.L138:
 952:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****       /* complete current p_from fits into current p_to */
 1378              		.loc 1 952 0
 1379 0042 7B89     		ldrh	r3, [r7, #10]
 1380 0044 991B     		subs	r1, r3, r6
 1381 0046 6C89     		ldrh	r4, [r5, #10]
 1382 0048 A4EB0802 		sub	r2, r4, r8
 1383 004c 9142     		cmp	r1, r2
 1384 004e E7DB     		blt	.L132
 954:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****     } else {
 1385              		.loc 1 954 0
 1386 0050 94B2     		uxth	r4, r2
 1387              	.LVL173:
 1388              	.L133:
 959:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****     offset_to += len;
 1389              		.loc 1 959 0
 1390 0052 7868     		ldr	r0, [r7, #4]
 1391 0054 6968     		ldr	r1, [r5, #4]
 1392 0056 2246     		mov	r2, r4
 1393 0058 4144     		add	r1, r1, r8
 1394 005a 3044     		add	r0, r0, r6
 1395 005c FFF7FEFF 		bl	memcpy
ARM GAS  C:\Users\Student\AppData\Local\Temp\ccjV5bMK.s 			page 48


 1396              	.LVL174:
 960:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****     offset_from += len;
 1397              		.loc 1 960 0
 1398 0060 2644     		add	r6, r6, r4
 1399              	.LVL175:
 1400 0062 B6B2     		uxth	r6, r6
 1401              	.LVL176:
 961:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****     LWIP_ASSERT("offset_to <= p_to->len", offset_to <= p_to->len);
 1402              		.loc 1 961 0
 1403 0064 4444     		add	r4, r4, r8
 1404              	.LVL177:
 1405 0066 1FFA84F8 		uxth	r8, r4
 1406              	.LVL178:
 962:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****     LWIP_ASSERT("offset_from <= p_from->len", offset_from <= p_from->len);
 1407              		.loc 1 962 0
 1408 006a 7B89     		ldrh	r3, [r7, #10]
 963:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****     if (offset_from >= p_from->len) {
 1409              		.loc 1 963 0
 1410 006c 6A89     		ldrh	r2, [r5, #10]
 964:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****       /* on to next p_from (if any) */
 1411              		.loc 1 964 0
 1412 006e 9045     		cmp	r8, r2
 1413 0070 D9D3     		bcc	.L134
 1414              	.LVL179:
 967:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****     }
 1415              		.loc 1 967 0
 1416 0072 2D68     		ldr	r5, [r5]
 1417              	.LVL180:
 966:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****       p_from = p_from->next;
 1418              		.loc 1 966 0
 1419 0074 4FF00008 		mov	r8, #0
 1420 0078 D5E7     		b	.L134
 1421              	.LVL181:
 1422              	.L148:
 972:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****       LWIP_ERROR("p_to != NULL", (p_to != NULL) || (p_from == NULL) , return ERR_ARG;);
 1423              		.loc 1 972 0
 1424 007a 3F68     		ldr	r7, [r7]
 1425              	.LVL182:
 973:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****     }
 1426              		.loc 1 973 0
 1427 007c B7FA87F3 		clz	r3, r7
 1428 0080 5B09     		lsrs	r3, r3, #5
 1429 0082 002D     		cmp	r5, #0
 1430 0084 08BF     		it	eq
 1431 0086 0023     		moveq	r3, #0
 1432 0088 CBB9     		cbnz	r3, .L141
 971:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****       p_to = p_to->next;
 1433              		.loc 1 971 0
 1434 008a 0026     		movs	r6, #0
 1435 008c CDE7     		b	.L135
 1436              	.LVL183:
 1437              	.L149:
 978:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****                  (p_from->next == NULL), return ERR_VAL;);
 1438              		.loc 1 978 0
 1439 008e 2B68     		ldr	r3, [r5]
 1440 0090 002B     		cmp	r3, #0
 1441 0092 CFD0     		beq	.L136
ARM GAS  C:\Users\Student\AppData\Local\Temp\ccjV5bMK.s 			page 49


 1442 0094 6FF00500 		mvn	r0, #5
 1443 0098 BDE8F081 		pop	{r4, r5, r6, r7, r8, pc}
 1444              	.LVL184:
 1445              	.L150:
 983:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****                   (p_to->next == NULL), return ERR_VAL;);
 1446              		.loc 1 983 0
 1447 009c 3B68     		ldr	r3, [r7]
 1448 009e 002B     		cmp	r3, #0
 1449 00a0 CDD0     		beq	.L137
 1450 00a2 6FF00500 		mvn	r0, #5
 989:Middlewares/Third_Party/LwIP/src/core/pbuf.c **** 
 1451              		.loc 1 989 0
 1452 00a6 BDE8F081 		pop	{r4, r5, r6, r7, r8, pc}
 1453              	.LVL185:
 1454              	.L151:
 988:Middlewares/Third_Party/LwIP/src/core/pbuf.c **** }
 1455              		.loc 1 988 0
 1456 00aa 0020     		movs	r0, #0
 1457 00ac BDE8F081 		pop	{r4, r5, r6, r7, r8, pc}
 1458              	.LVL186:
 1459              	.L139:
 1460              	.LCFI23:
 1461              		.cfi_def_cfa_offset 0
 1462              		.cfi_restore 4
 1463              		.cfi_restore 5
 1464              		.cfi_restore 6
 1465              		.cfi_restore 7
 1466              		.cfi_restore 8
 1467              		.cfi_restore 14
 945:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****              (p_from != NULL) && (p_to->tot_len >= p_from->tot_len)), return ERR_ARG;);
 1468              		.loc 1 945 0
 1469 00b0 6FF00F00 		mvn	r0, #15
 1470              	.LVL187:
 1471 00b4 7047     		bx	lr
 1472              	.LVL188:
 1473              	.L140:
 1474              	.LCFI24:
 1475              		.cfi_def_cfa_offset 24
 1476              		.cfi_offset 4, -24
 1477              		.cfi_offset 5, -20
 1478              		.cfi_offset 6, -16
 1479              		.cfi_offset 7, -12
 1480              		.cfi_offset 8, -8
 1481              		.cfi_offset 14, -4
 1482 00b6 6FF00F00 		mvn	r0, #15
 1483              	.LVL189:
 1484 00ba BDE8F081 		pop	{r4, r5, r6, r7, r8, pc}
 1485              	.LVL190:
 1486              	.L141:
 973:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****     }
 1487              		.loc 1 973 0
 1488 00be 6FF00F00 		mvn	r0, #15
 1489 00c2 BDE8F081 		pop	{r4, r5, r6, r7, r8, pc}
 1490              		.cfi_endproc
 1491              	.LFE156:
 1493              		.section	.text.pbuf_copy_partial,"ax",%progbits
 1494              		.align	1
ARM GAS  C:\Users\Student\AppData\Local\Temp\ccjV5bMK.s 			page 50


 1495              		.global	pbuf_copy_partial
 1496              		.syntax unified
 1497              		.thumb
 1498              		.thumb_func
 1499              		.fpu fpv5-sp-d16
 1501              	pbuf_copy_partial:
 1502              	.LFB157:
1005:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****   const struct pbuf *p;
 1503              		.loc 1 1005 0
 1504              		.cfi_startproc
 1505              		@ args = 0, pretend = 0, frame = 0
 1506              		@ frame_needed = 0, uses_anonymous_args = 0
 1507              	.LVL191:
 1508 0000 2DE9F041 		push	{r4, r5, r6, r7, r8, lr}
 1509              	.LCFI25:
 1510              		.cfi_def_cfa_offset 24
 1511              		.cfi_offset 4, -24
 1512              		.cfi_offset 5, -20
 1513              		.cfi_offset 6, -16
 1514              		.cfi_offset 7, -12
 1515              		.cfi_offset 8, -8
 1516              		.cfi_offset 14, -4
 1517              	.LVL192:
1011:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****   LWIP_ERROR("pbuf_copy_partial: invalid dataptr", (dataptr != NULL), return 0;);
 1518              		.loc 1 1011 0
 1519 0004 30B3     		cbz	r0, .L159
 1520 0006 0F46     		mov	r7, r1
 1521 0008 9046     		mov	r8, r2
 1522 000a 0546     		mov	r5, r0
1012:Middlewares/Third_Party/LwIP/src/core/pbuf.c **** 
 1523              		.loc 1 1012 0
 1524 000c 31B3     		cbz	r1, .L160
 1525 000e 0026     		movs	r6, #0
 1526 0010 13E0     		b	.L154
 1527              	.LVL193:
 1528              	.L155:
1027:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****       if (buf_copy_len > len) {
 1529              		.loc 1 1027 0
 1530 0012 6A89     		ldrh	r2, [r5, #10]
 1531 0014 D21A     		subs	r2, r2, r3
 1532 0016 94B2     		uxth	r4, r2
 1533              	.LVL194:
1028:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****         buf_copy_len = len;
 1534              		.loc 1 1028 0
 1535 0018 A045     		cmp	r8, r4
 1536 001a 00D2     		bcs	.L157
1029:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****       }
 1537              		.loc 1 1029 0
 1538 001c 4446     		mov	r4, r8
 1539              	.LVL195:
 1540              	.L157:
1032:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****       copied_total += buf_copy_len;
 1541              		.loc 1 1032 0
 1542 001e 6968     		ldr	r1, [r5, #4]
 1543 0020 2246     		mov	r2, r4
 1544 0022 1944     		add	r1, r1, r3
 1545 0024 B819     		adds	r0, r7, r6
ARM GAS  C:\Users\Student\AppData\Local\Temp\ccjV5bMK.s 			page 51


 1546 0026 FFF7FEFF 		bl	memcpy
 1547              	.LVL196:
1033:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****       left += buf_copy_len;
 1548              		.loc 1 1033 0
 1549 002a 2644     		add	r6, r6, r4
 1550              	.LVL197:
 1551 002c B6B2     		uxth	r6, r6
 1552              	.LVL198:
1035:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****       offset = 0;
 1553              		.loc 1 1035 0
 1554 002e A8EB0404 		sub	r4, r8, r4
 1555              	.LVL199:
 1556 0032 1FFA84F8 		uxth	r8, r4
 1557              	.LVL200:
1036:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****     }
 1558              		.loc 1 1036 0
 1559 0036 0023     		movs	r3, #0
 1560              	.LVL201:
 1561              	.L156:
1021:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****     if ((offset != 0) && (offset >= p->len)) {
 1562              		.loc 1 1021 0 discriminator 2
 1563 0038 2D68     		ldr	r5, [r5]
 1564              	.LVL202:
 1565              	.L154:
1021:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****     if ((offset != 0) && (offset >= p->len)) {
 1566              		.loc 1 1021 0 is_stmt 0 discriminator 1
 1567 003a B8F1000F 		cmp	r8, #0
 1568 003e 18BF     		it	ne
 1569 0040 002D     		cmpne	r5, #0
 1570 0042 08D0     		beq	.L153
1022:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****       /* don't copy from this buffer -> on to the next */
 1571              		.loc 1 1022 0 is_stmt 1
 1572 0044 002B     		cmp	r3, #0
 1573 0046 E4D0     		beq	.L155
1022:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****       /* don't copy from this buffer -> on to the next */
 1574              		.loc 1 1022 0 is_stmt 0 discriminator 1
 1575 0048 6989     		ldrh	r1, [r5, #10]
 1576 004a 8B42     		cmp	r3, r1
 1577 004c E1D3     		bcc	.L155
1024:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****     } else {
 1578              		.loc 1 1024 0 is_stmt 1
 1579 004e 5B1A     		subs	r3, r3, r1
 1580              	.LVL203:
 1581 0050 9BB2     		uxth	r3, r3
 1582              	.LVL204:
 1583 0052 F1E7     		b	.L156
 1584              	.LVL205:
 1585              	.L159:
1011:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****   LWIP_ERROR("pbuf_copy_partial: invalid dataptr", (dataptr != NULL), return 0;);
 1586              		.loc 1 1011 0
 1587 0054 0026     		movs	r6, #0
 1588              	.LVL206:
 1589              	.L153:
1040:Middlewares/Third_Party/LwIP/src/core/pbuf.c **** 
 1590              		.loc 1 1040 0
 1591 0056 3046     		mov	r0, r6
 1592 0058 BDE8F081 		pop	{r4, r5, r6, r7, r8, pc}
ARM GAS  C:\Users\Student\AppData\Local\Temp\ccjV5bMK.s 			page 52


 1593              	.LVL207:
 1594              	.L160:
1012:Middlewares/Third_Party/LwIP/src/core/pbuf.c **** 
 1595              		.loc 1 1012 0
 1596 005c 0026     		movs	r6, #0
 1597 005e FAE7     		b	.L153
 1598              		.cfi_endproc
 1599              	.LFE157:
 1601              		.section	.text.pbuf_skip,"ax",%progbits
 1602              		.align	1
 1603              		.global	pbuf_skip
 1604              		.syntax unified
 1605              		.thumb
 1606              		.thumb_func
 1607              		.fpu fpv5-sp-d16
 1609              	pbuf_skip:
 1610              	.LFB159:
1109:Middlewares/Third_Party/LwIP/src/core/pbuf.c **** 
1110:Middlewares/Third_Party/LwIP/src/core/pbuf.c **** /**
1111:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****  * @ingroup pbuf
1112:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****  * Skip a number of bytes at the start of a pbuf
1113:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****  *
1114:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****  * @param in input pbuf
1115:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****  * @param in_offset offset to skip
1116:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****  * @param out_offset resulting offset in the returned pbuf
1117:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****  * @return the pbuf in the queue where the offset is
1118:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****  */
1119:Middlewares/Third_Party/LwIP/src/core/pbuf.c **** struct pbuf*
1120:Middlewares/Third_Party/LwIP/src/core/pbuf.c **** pbuf_skip(struct pbuf* in, u16_t in_offset, u16_t* out_offset)
1121:Middlewares/Third_Party/LwIP/src/core/pbuf.c **** {
 1611              		.loc 1 1121 0
 1612              		.cfi_startproc
 1613              		@ args = 0, pretend = 0, frame = 0
 1614              		@ frame_needed = 0, uses_anonymous_args = 0
 1615              	.LVL208:
 1616 0000 08B5     		push	{r3, lr}
 1617              	.LCFI26:
 1618              		.cfi_def_cfa_offset 8
 1619              		.cfi_offset 3, -8
 1620              		.cfi_offset 14, -4
1122:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****   return (struct pbuf*)(size_t)pbuf_skip_const(in, in_offset, out_offset);
 1621              		.loc 1 1122 0
 1622 0002 FFF7FEFF 		bl	pbuf_skip_const
 1623              	.LVL209:
1123:Middlewares/Third_Party/LwIP/src/core/pbuf.c **** }
 1624              		.loc 1 1123 0
 1625 0006 08BD     		pop	{r3, pc}
 1626              		.cfi_endproc
 1627              	.LFE159:
 1629              		.section	.text.pbuf_take,"ax",%progbits
 1630              		.align	1
 1631              		.global	pbuf_take
 1632              		.syntax unified
 1633              		.thumb
 1634              		.thumb_func
 1635              		.fpu fpv5-sp-d16
 1637              	pbuf_take:
ARM GAS  C:\Users\Student\AppData\Local\Temp\ccjV5bMK.s 			page 53


 1638              	.LFB160:
1124:Middlewares/Third_Party/LwIP/src/core/pbuf.c **** 
1125:Middlewares/Third_Party/LwIP/src/core/pbuf.c **** /**
1126:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****  * @ingroup pbuf
1127:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****  * Copy application supplied data into a pbuf.
1128:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****  * This function can only be used to copy the equivalent of buf->tot_len data.
1129:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****  *
1130:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****  * @param buf pbuf to fill with data
1131:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****  * @param dataptr application supplied data buffer
1132:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****  * @param len length of the application supplied data buffer
1133:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****  *
1134:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****  * @return ERR_OK if successful, ERR_MEM if the pbuf is not big enough
1135:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****  */
1136:Middlewares/Third_Party/LwIP/src/core/pbuf.c **** err_t
1137:Middlewares/Third_Party/LwIP/src/core/pbuf.c **** pbuf_take(struct pbuf *buf, const void *dataptr, u16_t len)
1138:Middlewares/Third_Party/LwIP/src/core/pbuf.c **** {
 1639              		.loc 1 1138 0
 1640              		.cfi_startproc
 1641              		@ args = 0, pretend = 0, frame = 0
 1642              		@ frame_needed = 0, uses_anonymous_args = 0
 1643              	.LVL210:
1139:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****   struct pbuf *p;
1140:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****   u16_t buf_copy_len;
1141:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****   u16_t total_copy_len = len;
1142:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****   u16_t copied_total = 0;
1143:Middlewares/Third_Party/LwIP/src/core/pbuf.c **** 
1144:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****   LWIP_ERROR("pbuf_take: invalid buf", (buf != NULL), return ERR_ARG;);
 1644              		.loc 1 1144 0
 1645 0000 F0B1     		cbz	r0, .L170
1138:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****   struct pbuf *p;
 1646              		.loc 1 1138 0
 1647 0002 2DE9F041 		push	{r4, r5, r6, r7, r8, lr}
 1648              	.LCFI27:
 1649              		.cfi_def_cfa_offset 24
 1650              		.cfi_offset 4, -24
 1651              		.cfi_offset 5, -20
 1652              		.cfi_offset 6, -16
 1653              		.cfi_offset 7, -12
 1654              		.cfi_offset 8, -8
 1655              		.cfi_offset 14, -4
 1656 0006 8846     		mov	r8, r1
 1657 0008 1446     		mov	r4, r2
 1658 000a 0746     		mov	r7, r0
1145:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****   LWIP_ERROR("pbuf_take: invalid dataptr", (dataptr != NULL), return ERR_ARG;);
 1659              		.loc 1 1145 0
 1660 000c D9B1     		cbz	r1, .L171
1146:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****   LWIP_ERROR("pbuf_take: buf not large enough", (buf->tot_len >= len), return ERR_MEM;);
 1661              		.loc 1 1146 0
 1662 000e 0389     		ldrh	r3, [r0, #8]
 1663 0010 9A42     		cmp	r2, r3
 1664 0012 1CD8     		bhi	.L172
 1665 0014 0026     		movs	r6, #0
 1666 0016 0AE0     		b	.L167
 1667              	.LVL211:
 1668              	.L168:
1147:Middlewares/Third_Party/LwIP/src/core/pbuf.c **** 
1148:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****   if ((buf == NULL) || (dataptr == NULL) || (buf->tot_len < len)) {
ARM GAS  C:\Users\Student\AppData\Local\Temp\ccjV5bMK.s 			page 54


1149:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****     return ERR_ARG;
1150:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****   }
1151:Middlewares/Third_Party/LwIP/src/core/pbuf.c **** 
1152:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****   /* Note some systems use byte copy if dataptr or one of the pbuf payload pointers are unaligned. 
1153:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****   for (p = buf; total_copy_len != 0; p = p->next) {
1154:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****     LWIP_ASSERT("pbuf_take: invalid pbuf", p != NULL);
1155:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****     buf_copy_len = total_copy_len;
1156:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****     if (buf_copy_len > p->len) {
1157:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****       /* this pbuf cannot hold all remaining data */
1158:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****       buf_copy_len = p->len;
1159:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****     }
1160:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****     /* copy the necessary parts of the buffer */
1161:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****     MEMCPY(p->payload, &((const char*)dataptr)[copied_total], buf_copy_len);
 1669              		.loc 1 1161 0 discriminator 2
 1670 0018 2A46     		mov	r2, r5
 1671 001a 08EB0601 		add	r1, r8, r6
 1672 001e 7868     		ldr	r0, [r7, #4]
 1673 0020 FFF7FEFF 		bl	memcpy
 1674              	.LVL212:
1162:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****     total_copy_len -= buf_copy_len;
 1675              		.loc 1 1162 0 discriminator 2
 1676 0024 641B     		subs	r4, r4, r5
 1677              	.LVL213:
 1678 0026 A4B2     		uxth	r4, r4
 1679              	.LVL214:
1163:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****     copied_total += buf_copy_len;
 1680              		.loc 1 1163 0 discriminator 2
 1681 0028 2E44     		add	r6, r6, r5
 1682              	.LVL215:
 1683 002a B6B2     		uxth	r6, r6
 1684              	.LVL216:
1153:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****     LWIP_ASSERT("pbuf_take: invalid pbuf", p != NULL);
 1685              		.loc 1 1153 0 discriminator 2
 1686 002c 3F68     		ldr	r7, [r7]
 1687              	.LVL217:
 1688              	.L167:
1153:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****     LWIP_ASSERT("pbuf_take: invalid pbuf", p != NULL);
 1689              		.loc 1 1153 0 is_stmt 0 discriminator 1
 1690 002e 24B1     		cbz	r4, .L177
 1691              	.LVL218:
1156:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****       /* this pbuf cannot hold all remaining data */
 1692              		.loc 1 1156 0 is_stmt 1
 1693 0030 7D89     		ldrh	r5, [r7, #10]
 1694 0032 AC42     		cmp	r4, r5
 1695 0034 F0D8     		bhi	.L168
1155:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****     if (buf_copy_len > p->len) {
 1696              		.loc 1 1155 0
 1697 0036 2546     		mov	r5, r4
 1698 0038 EEE7     		b	.L168
 1699              	.LVL219:
 1700              	.L177:
1164:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****   }
1165:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****   LWIP_ASSERT("did not copy all data", total_copy_len == 0 && copied_total == len);
1166:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****   return ERR_OK;
 1701              		.loc 1 1166 0
 1702 003a 0020     		movs	r0, #0
 1703 003c BDE8F081 		pop	{r4, r5, r6, r7, r8, pc}
ARM GAS  C:\Users\Student\AppData\Local\Temp\ccjV5bMK.s 			page 55


 1704              	.LVL220:
 1705              	.L170:
 1706              	.LCFI28:
 1707              		.cfi_def_cfa_offset 0
 1708              		.cfi_restore 4
 1709              		.cfi_restore 5
 1710              		.cfi_restore 6
 1711              		.cfi_restore 7
 1712              		.cfi_restore 8
 1713              		.cfi_restore 14
1144:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****   LWIP_ERROR("pbuf_take: invalid dataptr", (dataptr != NULL), return ERR_ARG;);
 1714              		.loc 1 1144 0
 1715 0040 6FF00F00 		mvn	r0, #15
 1716              	.LVL221:
 1717 0044 7047     		bx	lr
 1718              	.LVL222:
 1719              	.L171:
 1720              	.LCFI29:
 1721              		.cfi_def_cfa_offset 24
 1722              		.cfi_offset 4, -24
 1723              		.cfi_offset 5, -20
 1724              		.cfi_offset 6, -16
 1725              		.cfi_offset 7, -12
 1726              		.cfi_offset 8, -8
 1727              		.cfi_offset 14, -4
1145:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****   LWIP_ERROR("pbuf_take: buf not large enough", (buf->tot_len >= len), return ERR_MEM;);
 1728              		.loc 1 1145 0
 1729 0046 6FF00F00 		mvn	r0, #15
 1730              	.LVL223:
 1731 004a BDE8F081 		pop	{r4, r5, r6, r7, r8, pc}
 1732              	.LVL224:
 1733              	.L172:
1146:Middlewares/Third_Party/LwIP/src/core/pbuf.c **** 
 1734              		.loc 1 1146 0
 1735 004e 4FF0FF30 		mov	r0, #-1
 1736              	.LVL225:
1167:Middlewares/Third_Party/LwIP/src/core/pbuf.c **** }
 1737              		.loc 1 1167 0
 1738 0052 BDE8F081 		pop	{r4, r5, r6, r7, r8, pc}
 1739              		.cfi_endproc
 1740              	.LFE160:
 1742              		.section	.text.pbuf_take_at,"ax",%progbits
 1743              		.align	1
 1744              		.global	pbuf_take_at
 1745              		.syntax unified
 1746              		.thumb
 1747              		.thumb_func
 1748              		.fpu fpv5-sp-d16
 1750              	pbuf_take_at:
 1751              	.LFB161:
1168:Middlewares/Third_Party/LwIP/src/core/pbuf.c **** 
1169:Middlewares/Third_Party/LwIP/src/core/pbuf.c **** /**
1170:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****  * @ingroup pbuf
1171:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****  * Same as pbuf_take() but puts data at an offset
1172:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****  *
1173:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****  * @param buf pbuf to fill with data
1174:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****  * @param dataptr application supplied data buffer
ARM GAS  C:\Users\Student\AppData\Local\Temp\ccjV5bMK.s 			page 56


1175:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****  * @param len length of the application supplied data buffer
1176:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****  * @param offset offset in pbuf where to copy dataptr to
1177:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****  *
1178:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****  * @return ERR_OK if successful, ERR_MEM if the pbuf is not big enough
1179:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****  */
1180:Middlewares/Third_Party/LwIP/src/core/pbuf.c **** err_t
1181:Middlewares/Third_Party/LwIP/src/core/pbuf.c **** pbuf_take_at(struct pbuf *buf, const void *dataptr, u16_t len, u16_t offset)
1182:Middlewares/Third_Party/LwIP/src/core/pbuf.c **** {
 1752              		.loc 1 1182 0
 1753              		.cfi_startproc
 1754              		@ args = 0, pretend = 0, frame = 8
 1755              		@ frame_needed = 0, uses_anonymous_args = 0
 1756              	.LVL226:
 1757 0000 F0B5     		push	{r4, r5, r6, r7, lr}
 1758              	.LCFI30:
 1759              		.cfi_def_cfa_offset 20
 1760              		.cfi_offset 4, -20
 1761              		.cfi_offset 5, -16
 1762              		.cfi_offset 6, -12
 1763              		.cfi_offset 7, -8
 1764              		.cfi_offset 14, -4
 1765 0002 83B0     		sub	sp, sp, #12
 1766              	.LCFI31:
 1767              		.cfi_def_cfa_offset 32
 1768 0004 0F46     		mov	r7, r1
 1769 0006 1546     		mov	r5, r2
1183:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****   u16_t target_offset;
1184:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****   struct pbuf* q = pbuf_skip(buf, offset, &target_offset);
 1770              		.loc 1 1184 0
 1771 0008 0DF10602 		add	r2, sp, #6
 1772              	.LVL227:
 1773 000c 1946     		mov	r1, r3
 1774              	.LVL228:
 1775 000e FFF7FEFF 		bl	pbuf_skip
 1776              	.LVL229:
1185:Middlewares/Third_Party/LwIP/src/core/pbuf.c **** 
1186:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****   /* return requested data if pbuf is OK */
1187:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****   if ((q != NULL) && (q->tot_len >= target_offset + len)) {
 1777              		.loc 1 1187 0
 1778 0012 E8B1     		cbz	r0, .L180
 1779 0014 0646     		mov	r6, r0
 1780              		.loc 1 1187 0 is_stmt 0 discriminator 1
 1781 0016 0189     		ldrh	r1, [r0, #8]
 1782 0018 BDF80630 		ldrh	r3, [sp, #6]
 1783 001c 5A19     		adds	r2, r3, r5
 1784 001e 9142     		cmp	r1, r2
 1785 0020 19DB     		blt	.L181
 1786              	.LVL230:
 1787              	.LBB7:
1188:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****     u16_t remaining_len = len;
1189:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****     const u8_t* src_ptr = (const u8_t*)dataptr;
1190:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****     /* copy the part that goes into the first pbuf */
1191:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****     u16_t first_copy_len = LWIP_MIN(q->len - target_offset, len);
 1788              		.loc 1 1191 0 is_stmt 1
 1789 0022 4489     		ldrh	r4, [r0, #10]
 1790 0024 E41A     		subs	r4, r4, r3
 1791 0026 AC42     		cmp	r4, r5
ARM GAS  C:\Users\Student\AppData\Local\Temp\ccjV5bMK.s 			page 57


 1792 0028 A8BF     		it	ge
 1793 002a 2C46     		movge	r4, r5
 1794 002c A4B2     		uxth	r4, r4
 1795              	.LVL231:
1192:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****     MEMCPY(((u8_t*)q->payload) + target_offset, dataptr, first_copy_len);
 1796              		.loc 1 1192 0
 1797 002e 4068     		ldr	r0, [r0, #4]
 1798              	.LVL232:
 1799 0030 2246     		mov	r2, r4
 1800 0032 3946     		mov	r1, r7
 1801 0034 1844     		add	r0, r0, r3
 1802 0036 FFF7FEFF 		bl	memcpy
 1803              	.LVL233:
1193:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****     remaining_len -= first_copy_len;
 1804              		.loc 1 1193 0
 1805 003a 2A1B     		subs	r2, r5, r4
 1806 003c 92B2     		uxth	r2, r2
 1807              	.LVL234:
1194:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****     src_ptr += first_copy_len;
 1808              		.loc 1 1194 0
 1809 003e 3919     		adds	r1, r7, r4
 1810              	.LVL235:
1195:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****     if (remaining_len > 0) {
 1811              		.loc 1 1195 0
 1812 0040 12B9     		cbnz	r2, .L184
1196:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****       return pbuf_take(q->next, src_ptr, remaining_len);
1197:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****     }
1198:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****     return ERR_OK;
 1813              		.loc 1 1198 0
 1814 0042 0020     		movs	r0, #0
 1815              	.LVL236:
 1816              	.L179:
 1817              	.LBE7:
1199:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****   }
1200:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****   return ERR_MEM;
1201:Middlewares/Third_Party/LwIP/src/core/pbuf.c **** }
 1818              		.loc 1 1201 0
 1819 0044 03B0     		add	sp, sp, #12
 1820              	.LCFI32:
 1821              		.cfi_remember_state
 1822              		.cfi_def_cfa_offset 20
 1823              		@ sp needed
 1824 0046 F0BD     		pop	{r4, r5, r6, r7, pc}
 1825              	.LVL237:
 1826              	.L184:
 1827              	.LCFI33:
 1828              		.cfi_restore_state
 1829              	.LBB8:
1196:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****       return pbuf_take(q->next, src_ptr, remaining_len);
 1830              		.loc 1 1196 0
 1831 0048 3068     		ldr	r0, [r6]
 1832 004a FFF7FEFF 		bl	pbuf_take
 1833              	.LVL238:
 1834 004e F9E7     		b	.L179
 1835              	.LVL239:
 1836              	.L180:
 1837              	.LBE8:
ARM GAS  C:\Users\Student\AppData\Local\Temp\ccjV5bMK.s 			page 58


1200:Middlewares/Third_Party/LwIP/src/core/pbuf.c **** }
 1838              		.loc 1 1200 0
 1839 0050 4FF0FF30 		mov	r0, #-1
 1840              	.LVL240:
 1841 0054 F6E7     		b	.L179
 1842              	.LVL241:
 1843              	.L181:
 1844 0056 4FF0FF30 		mov	r0, #-1
 1845              	.LVL242:
 1846 005a F3E7     		b	.L179
 1847              		.cfi_endproc
 1848              	.LFE161:
 1850              		.section	.text.pbuf_coalesce,"ax",%progbits
 1851              		.align	1
 1852              		.global	pbuf_coalesce
 1853              		.syntax unified
 1854              		.thumb
 1855              		.thumb_func
 1856              		.fpu fpv5-sp-d16
 1858              	pbuf_coalesce:
 1859              	.LFB162:
1202:Middlewares/Third_Party/LwIP/src/core/pbuf.c **** 
1203:Middlewares/Third_Party/LwIP/src/core/pbuf.c **** /**
1204:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****  * @ingroup pbuf
1205:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****  * Creates a single pbuf out of a queue of pbufs.
1206:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****  *
1207:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****  * @remark: Either the source pbuf 'p' is freed by this function or the original
1208:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****  *          pbuf 'p' is returned, therefore the caller has to check the result!
1209:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****  *
1210:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****  * @param p the source pbuf
1211:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****  * @param layer pbuf_layer of the new pbuf
1212:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****  *
1213:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****  * @return a new, single pbuf (p->next is NULL)
1214:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****  *         or the old pbuf if allocation fails
1215:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****  */
1216:Middlewares/Third_Party/LwIP/src/core/pbuf.c **** struct pbuf*
1217:Middlewares/Third_Party/LwIP/src/core/pbuf.c **** pbuf_coalesce(struct pbuf *p, pbuf_layer layer)
1218:Middlewares/Third_Party/LwIP/src/core/pbuf.c **** {
 1860              		.loc 1 1218 0
 1861              		.cfi_startproc
 1862              		@ args = 0, pretend = 0, frame = 0
 1863              		@ frame_needed = 0, uses_anonymous_args = 0
 1864              	.LVL243:
 1865 0000 38B5     		push	{r3, r4, r5, lr}
 1866              	.LCFI34:
 1867              		.cfi_def_cfa_offset 16
 1868              		.cfi_offset 3, -16
 1869              		.cfi_offset 4, -12
 1870              		.cfi_offset 5, -8
 1871              		.cfi_offset 14, -4
1219:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****   struct pbuf *q;
1220:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****   err_t err;
1221:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****   if (p->next == NULL) {
 1872              		.loc 1 1221 0
 1873 0002 0368     		ldr	r3, [r0]
 1874 0004 83B1     		cbz	r3, .L187
 1875 0006 0B46     		mov	r3, r1
ARM GAS  C:\Users\Student\AppData\Local\Temp\ccjV5bMK.s 			page 59


 1876 0008 0446     		mov	r4, r0
1222:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****     return p;
1223:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****   }
1224:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****   q = pbuf_alloc(layer, p->tot_len, PBUF_RAM);
 1877              		.loc 1 1224 0
 1878 000a 0022     		movs	r2, #0
 1879 000c 0189     		ldrh	r1, [r0, #8]
 1880              	.LVL244:
 1881 000e 1846     		mov	r0, r3
 1882              	.LVL245:
 1883 0010 FFF7FEFF 		bl	pbuf_alloc
 1884              	.LVL246:
1225:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****   if (q == NULL) {
 1885              		.loc 1 1225 0
 1886 0014 0546     		mov	r5, r0
 1887 0016 48B1     		cbz	r0, .L188
1226:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****     /* @todo: what do we do now? */
1227:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****     return p;
1228:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****   }
1229:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****   err = pbuf_copy(q, p);
 1888              		.loc 1 1229 0
 1889 0018 2146     		mov	r1, r4
 1890 001a FFF7FEFF 		bl	pbuf_copy
 1891              	.LVL247:
1230:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****   LWIP_ASSERT("pbuf_copy failed", err == ERR_OK);
1231:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****   pbuf_free(p);
 1892              		.loc 1 1231 0
 1893 001e 2046     		mov	r0, r4
 1894 0020 FFF7FEFF 		bl	pbuf_free
 1895              	.LVL248:
 1896              	.L185:
1232:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****   return q;
1233:Middlewares/Third_Party/LwIP/src/core/pbuf.c **** }
 1897              		.loc 1 1233 0
 1898 0024 2846     		mov	r0, r5
 1899 0026 38BD     		pop	{r3, r4, r5, pc}
 1900              	.LVL249:
 1901              	.L187:
1222:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****   }
 1902              		.loc 1 1222 0
 1903 0028 0546     		mov	r5, r0
 1904 002a FBE7     		b	.L185
 1905              	.LVL250:
 1906              	.L188:
1227:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****   }
 1907              		.loc 1 1227 0
 1908 002c 2546     		mov	r5, r4
 1909 002e F9E7     		b	.L185
 1910              		.cfi_endproc
 1911              	.LFE162:
 1913              		.section	.text.pbuf_try_get_at,"ax",%progbits
 1914              		.align	1
 1915              		.global	pbuf_try_get_at
 1916              		.syntax unified
 1917              		.thumb
 1918              		.thumb_func
 1919              		.fpu fpv5-sp-d16
ARM GAS  C:\Users\Student\AppData\Local\Temp\ccjV5bMK.s 			page 60


 1921              	pbuf_try_get_at:
 1922              	.LFB164:
1234:Middlewares/Third_Party/LwIP/src/core/pbuf.c **** 
1235:Middlewares/Third_Party/LwIP/src/core/pbuf.c **** #if LWIP_CHECKSUM_ON_COPY
1236:Middlewares/Third_Party/LwIP/src/core/pbuf.c **** /**
1237:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****  * Copies data into a single pbuf (*not* into a pbuf queue!) and updates
1238:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****  * the checksum while copying
1239:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****  *
1240:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****  * @param p the pbuf to copy data into
1241:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****  * @param start_offset offset of p->payload where to copy the data to
1242:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****  * @param dataptr data to copy into the pbuf
1243:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****  * @param len length of data to copy into the pbuf
1244:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****  * @param chksum pointer to the checksum which is updated
1245:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****  * @return ERR_OK if successful, another error if the data does not fit
1246:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****  *         within the (first) pbuf (no pbuf queues!)
1247:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****  */
1248:Middlewares/Third_Party/LwIP/src/core/pbuf.c **** err_t
1249:Middlewares/Third_Party/LwIP/src/core/pbuf.c **** pbuf_fill_chksum(struct pbuf *p, u16_t start_offset, const void *dataptr,
1250:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****                  u16_t len, u16_t *chksum)
1251:Middlewares/Third_Party/LwIP/src/core/pbuf.c **** {
1252:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****   u32_t acc;
1253:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****   u16_t copy_chksum;
1254:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****   char *dst_ptr;
1255:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****   LWIP_ASSERT("p != NULL", p != NULL);
1256:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****   LWIP_ASSERT("dataptr != NULL", dataptr != NULL);
1257:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****   LWIP_ASSERT("chksum != NULL", chksum != NULL);
1258:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****   LWIP_ASSERT("len != 0", len != 0);
1259:Middlewares/Third_Party/LwIP/src/core/pbuf.c **** 
1260:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****   if ((start_offset >= p->len) || (start_offset + len > p->len)) {
1261:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****     return ERR_ARG;
1262:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****   }
1263:Middlewares/Third_Party/LwIP/src/core/pbuf.c **** 
1264:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****   dst_ptr = ((char*)p->payload) + start_offset;
1265:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****   copy_chksum = LWIP_CHKSUM_COPY(dst_ptr, dataptr, len);
1266:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****   if ((start_offset & 1) != 0) {
1267:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****     copy_chksum = SWAP_BYTES_IN_WORD(copy_chksum);
1268:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****   }
1269:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****   acc = *chksum;
1270:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****   acc += copy_chksum;
1271:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****   *chksum = FOLD_U32T(acc);
1272:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****   return ERR_OK;
1273:Middlewares/Third_Party/LwIP/src/core/pbuf.c **** }
1274:Middlewares/Third_Party/LwIP/src/core/pbuf.c **** #endif /* LWIP_CHECKSUM_ON_COPY */
1275:Middlewares/Third_Party/LwIP/src/core/pbuf.c **** 
1276:Middlewares/Third_Party/LwIP/src/core/pbuf.c **** /**
1277:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****  * @ingroup pbuf
1278:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****  * Get one byte from the specified position in a pbuf
1279:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****  * WARNING: returns zero for offset >= p->tot_len
1280:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****  *
1281:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****  * @param p pbuf to parse
1282:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****  * @param offset offset into p of the byte to return
1283:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****  * @return byte at an offset into p OR ZERO IF 'offset' >= p->tot_len
1284:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****  */
1285:Middlewares/Third_Party/LwIP/src/core/pbuf.c **** u8_t
1286:Middlewares/Third_Party/LwIP/src/core/pbuf.c **** pbuf_get_at(const struct pbuf* p, u16_t offset)
1287:Middlewares/Third_Party/LwIP/src/core/pbuf.c **** {
1288:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****   int ret = pbuf_try_get_at(p, offset);
ARM GAS  C:\Users\Student\AppData\Local\Temp\ccjV5bMK.s 			page 61


1289:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****   if (ret >= 0) {
1290:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****     return (u8_t)ret;
1291:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****   }
1292:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****   return 0;
1293:Middlewares/Third_Party/LwIP/src/core/pbuf.c **** }
1294:Middlewares/Third_Party/LwIP/src/core/pbuf.c **** 
1295:Middlewares/Third_Party/LwIP/src/core/pbuf.c **** /**
1296:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****  * @ingroup pbuf
1297:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****  * Get one byte from the specified position in a pbuf
1298:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****  *
1299:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****  * @param p pbuf to parse
1300:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****  * @param offset offset into p of the byte to return
1301:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****  * @return byte at an offset into p [0..0xFF] OR negative if 'offset' >= p->tot_len
1302:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****  */
1303:Middlewares/Third_Party/LwIP/src/core/pbuf.c **** int
1304:Middlewares/Third_Party/LwIP/src/core/pbuf.c **** pbuf_try_get_at(const struct pbuf* p, u16_t offset)
1305:Middlewares/Third_Party/LwIP/src/core/pbuf.c **** {
 1923              		.loc 1 1305 0
 1924              		.cfi_startproc
 1925              		@ args = 0, pretend = 0, frame = 8
 1926              		@ frame_needed = 0, uses_anonymous_args = 0
 1927              	.LVL251:
 1928 0000 00B5     		push	{lr}
 1929              	.LCFI35:
 1930              		.cfi_def_cfa_offset 4
 1931              		.cfi_offset 14, -4
 1932 0002 83B0     		sub	sp, sp, #12
 1933              	.LCFI36:
 1934              		.cfi_def_cfa_offset 16
1306:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****   u16_t q_idx;
1307:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****   const struct pbuf* q = pbuf_skip_const(p, offset, &q_idx);
 1935              		.loc 1 1307 0
 1936 0004 0DF10602 		add	r2, sp, #6
 1937 0008 FFF7FEFF 		bl	pbuf_skip_const
 1938              	.LVL252:
1308:Middlewares/Third_Party/LwIP/src/core/pbuf.c **** 
1309:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****   /* return requested data if pbuf is OK */
1310:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****   if ((q != NULL) && (q->len > q_idx)) {
 1939              		.loc 1 1310 0
 1940 000c 48B1     		cbz	r0, .L192
 1941              		.loc 1 1310 0 is_stmt 0 discriminator 1
 1942 000e 4189     		ldrh	r1, [r0, #10]
 1943 0010 BDF80620 		ldrh	r2, [sp, #6]
 1944 0014 9142     		cmp	r1, r2
 1945 0016 07D9     		bls	.L193
1311:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****     return ((u8_t*)q->payload)[q_idx];
 1946              		.loc 1 1311 0 is_stmt 1
 1947 0018 4368     		ldr	r3, [r0, #4]
 1948 001a 985C     		ldrb	r0, [r3, r2]	@ zero_extendqisi2
 1949              	.LVL253:
 1950              	.L190:
1312:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****   }
1313:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****   return -1;
1314:Middlewares/Third_Party/LwIP/src/core/pbuf.c **** }
 1951              		.loc 1 1314 0
 1952 001c 03B0     		add	sp, sp, #12
 1953              	.LCFI37:
ARM GAS  C:\Users\Student\AppData\Local\Temp\ccjV5bMK.s 			page 62


 1954              		.cfi_remember_state
 1955              		.cfi_def_cfa_offset 4
 1956              		@ sp needed
 1957 001e 5DF804FB 		ldr	pc, [sp], #4
 1958              	.LVL254:
 1959              	.L192:
 1960              	.LCFI38:
 1961              		.cfi_restore_state
1313:Middlewares/Third_Party/LwIP/src/core/pbuf.c **** }
 1962              		.loc 1 1313 0
 1963 0022 4FF0FF30 		mov	r0, #-1
 1964              	.LVL255:
 1965 0026 F9E7     		b	.L190
 1966              	.LVL256:
 1967              	.L193:
 1968 0028 4FF0FF30 		mov	r0, #-1
 1969              	.LVL257:
 1970 002c F6E7     		b	.L190
 1971              		.cfi_endproc
 1972              	.LFE164:
 1974              		.section	.text.pbuf_get_at,"ax",%progbits
 1975              		.align	1
 1976              		.global	pbuf_get_at
 1977              		.syntax unified
 1978              		.thumb
 1979              		.thumb_func
 1980              		.fpu fpv5-sp-d16
 1982              	pbuf_get_at:
 1983              	.LFB163:
1287:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****   int ret = pbuf_try_get_at(p, offset);
 1984              		.loc 1 1287 0
 1985              		.cfi_startproc
 1986              		@ args = 0, pretend = 0, frame = 0
 1987              		@ frame_needed = 0, uses_anonymous_args = 0
 1988              	.LVL258:
 1989 0000 08B5     		push	{r3, lr}
 1990              	.LCFI39:
 1991              		.cfi_def_cfa_offset 8
 1992              		.cfi_offset 3, -8
 1993              		.cfi_offset 14, -4
1288:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****   if (ret >= 0) {
 1994              		.loc 1 1288 0
 1995 0002 FFF7FEFF 		bl	pbuf_try_get_at
 1996              	.LVL259:
1289:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****     return (u8_t)ret;
 1997              		.loc 1 1289 0
 1998 0006 0028     		cmp	r0, #0
 1999 0008 01DB     		blt	.L197
1290:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****   }
 2000              		.loc 1 1290 0
 2001 000a C0B2     		uxtb	r0, r0
 2002              	.LVL260:
 2003 000c 08BD     		pop	{r3, pc}
 2004              	.LVL261:
 2005              	.L197:
1292:Middlewares/Third_Party/LwIP/src/core/pbuf.c **** }
 2006              		.loc 1 1292 0
ARM GAS  C:\Users\Student\AppData\Local\Temp\ccjV5bMK.s 			page 63


 2007 000e 0020     		movs	r0, #0
 2008              	.LVL262:
1293:Middlewares/Third_Party/LwIP/src/core/pbuf.c **** 
 2009              		.loc 1 1293 0
 2010 0010 08BD     		pop	{r3, pc}
 2011              		.cfi_endproc
 2012              	.LFE163:
 2014              		.section	.text.pbuf_put_at,"ax",%progbits
 2015              		.align	1
 2016              		.global	pbuf_put_at
 2017              		.syntax unified
 2018              		.thumb
 2019              		.thumb_func
 2020              		.fpu fpv5-sp-d16
 2022              	pbuf_put_at:
 2023              	.LFB165:
1315:Middlewares/Third_Party/LwIP/src/core/pbuf.c **** 
1316:Middlewares/Third_Party/LwIP/src/core/pbuf.c **** /**
1317:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****  * @ingroup pbuf
1318:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****  * Put one byte to the specified position in a pbuf
1319:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****  * WARNING: silently ignores offset >= p->tot_len
1320:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****  *
1321:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****  * @param p pbuf to fill
1322:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****  * @param offset offset into p of the byte to write
1323:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****  * @param data byte to write at an offset into p
1324:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****  */
1325:Middlewares/Third_Party/LwIP/src/core/pbuf.c **** void
1326:Middlewares/Third_Party/LwIP/src/core/pbuf.c **** pbuf_put_at(struct pbuf* p, u16_t offset, u8_t data)
1327:Middlewares/Third_Party/LwIP/src/core/pbuf.c **** {
 2024              		.loc 1 1327 0
 2025              		.cfi_startproc
 2026              		@ args = 0, pretend = 0, frame = 8
 2027              		@ frame_needed = 0, uses_anonymous_args = 0
 2028              	.LVL263:
 2029 0000 10B5     		push	{r4, lr}
 2030              	.LCFI40:
 2031              		.cfi_def_cfa_offset 8
 2032              		.cfi_offset 4, -8
 2033              		.cfi_offset 14, -4
 2034 0002 82B0     		sub	sp, sp, #8
 2035              	.LCFI41:
 2036              		.cfi_def_cfa_offset 16
 2037 0004 1446     		mov	r4, r2
1328:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****   u16_t q_idx;
1329:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****   struct pbuf* q = pbuf_skip(p, offset, &q_idx);
 2038              		.loc 1 1329 0
 2039 0006 0DF10602 		add	r2, sp, #6
 2040              	.LVL264:
 2041 000a FFF7FEFF 		bl	pbuf_skip
 2042              	.LVL265:
1330:Middlewares/Third_Party/LwIP/src/core/pbuf.c **** 
1331:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****   /* write requested data if pbuf is OK */
1332:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****   if ((q != NULL) && (q->len > q_idx)) {
 2043              		.loc 1 1332 0
 2044 000e 30B1     		cbz	r0, .L199
 2045              		.loc 1 1332 0 is_stmt 0 discriminator 1
 2046 0010 4189     		ldrh	r1, [r0, #10]
ARM GAS  C:\Users\Student\AppData\Local\Temp\ccjV5bMK.s 			page 64


 2047 0012 BDF80620 		ldrh	r2, [sp, #6]
 2048 0016 9142     		cmp	r1, r2
 2049 0018 01D9     		bls	.L199
1333:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****     ((u8_t*)q->payload)[q_idx] = data;
 2050              		.loc 1 1333 0 is_stmt 1
 2051 001a 4368     		ldr	r3, [r0, #4]
 2052 001c 9C54     		strb	r4, [r3, r2]
 2053              	.L199:
1334:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****   }
1335:Middlewares/Third_Party/LwIP/src/core/pbuf.c **** }
 2054              		.loc 1 1335 0
 2055 001e 02B0     		add	sp, sp, #8
 2056              	.LCFI42:
 2057              		.cfi_def_cfa_offset 8
 2058              		@ sp needed
 2059 0020 10BD     		pop	{r4, pc}
 2060              		.cfi_endproc
 2061              	.LFE165:
 2063              		.section	.text.pbuf_memcmp,"ax",%progbits
 2064              		.align	1
 2065              		.global	pbuf_memcmp
 2066              		.syntax unified
 2067              		.thumb
 2068              		.thumb_func
 2069              		.fpu fpv5-sp-d16
 2071              	pbuf_memcmp:
 2072              	.LFB166:
1336:Middlewares/Third_Party/LwIP/src/core/pbuf.c **** 
1337:Middlewares/Third_Party/LwIP/src/core/pbuf.c **** /**
1338:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****  * @ingroup pbuf
1339:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****  * Compare pbuf contents at specified offset with memory s2, both of length n
1340:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****  *
1341:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****  * @param p pbuf to compare
1342:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****  * @param offset offset into p at which to start comparing
1343:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****  * @param s2 buffer to compare
1344:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****  * @param n length of buffer to compare
1345:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****  * @return zero if equal, nonzero otherwise
1346:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****  *         (0xffff if p is too short, diffoffset+1 otherwise)
1347:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****  */
1348:Middlewares/Third_Party/LwIP/src/core/pbuf.c **** u16_t
1349:Middlewares/Third_Party/LwIP/src/core/pbuf.c **** pbuf_memcmp(const struct pbuf* p, u16_t offset, const void* s2, u16_t n)
1350:Middlewares/Third_Party/LwIP/src/core/pbuf.c **** {
 2073              		.loc 1 1350 0
 2074              		.cfi_startproc
 2075              		@ args = 0, pretend = 0, frame = 0
 2076              		@ frame_needed = 0, uses_anonymous_args = 0
 2077              	.LVL266:
 2078 0000 2DE9F041 		push	{r4, r5, r6, r7, r8, lr}
 2079              	.LCFI43:
 2080              		.cfi_def_cfa_offset 24
 2081              		.cfi_offset 4, -24
 2082              		.cfi_offset 5, -20
 2083              		.cfi_offset 6, -16
 2084              		.cfi_offset 7, -12
 2085              		.cfi_offset 8, -8
 2086              		.cfi_offset 14, -4
 2087 0004 9046     		mov	r8, r2
ARM GAS  C:\Users\Student\AppData\Local\Temp\ccjV5bMK.s 			page 65


 2088 0006 1F46     		mov	r7, r3
 2089              	.LVL267:
1351:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****   u16_t start = offset;
1352:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****   const struct pbuf* q = p;
1353:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****   u16_t i;
1354:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****  
1355:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****   /* pbuf long enough to perform check? */
1356:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****   if(p->tot_len < (offset + n)) {
 2090              		.loc 1 1356 0
 2091 0008 0289     		ldrh	r2, [r0, #8]
 2092              	.LVL268:
 2093 000a CB18     		adds	r3, r1, r3
 2094              	.LVL269:
 2095 000c 9A42     		cmp	r2, r3
 2096 000e 03DA     		bge	.L212
1357:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****     return 0xffff;
 2097              		.loc 1 1357 0
 2098 0010 4FF6FF70 		movw	r0, #65535
 2099              	.LVL270:
1358:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****   }
1359:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****  
1360:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****   /* get the correct pbuf from chain. We know it succeeds because of p->tot_len check above. */
1361:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****   while ((q != NULL) && (q->len <= start)) {
1362:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****     start -= q->len;
1363:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****     q = q->next;
1364:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****   }
1365:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****  
1366:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****   /* return requested data if pbuf is OK */
1367:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****   for (i = 0; i < n; i++) {
1368:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****     /* We know pbuf_get_at() succeeds because of p->tot_len check above. */
1369:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****     u8_t a = pbuf_get_at(q, start + i);
1370:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****     u8_t b = ((const u8_t*)s2)[i];
1371:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****     if (a != b) {
1372:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****       return i+1;
1373:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****     }
1374:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****   }
1375:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****   return 0;
1376:Middlewares/Third_Party/LwIP/src/core/pbuf.c **** }
 2100              		.loc 1 1376 0
 2101 0014 BDE8F081 		pop	{r4, r5, r6, r7, r8, pc}
 2102              	.LVL271:
 2103              	.L212:
 2104 0018 0546     		mov	r5, r0
 2105 001a 0E46     		mov	r6, r1
 2106 001c 02E0     		b	.L204
 2107              	.LVL272:
 2108              	.L206:
1362:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****     q = q->next;
 2109              		.loc 1 1362 0
 2110 001e 711A     		subs	r1, r6, r1
 2111 0020 8EB2     		uxth	r6, r1
 2112              	.LVL273:
1363:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****   }
 2113              		.loc 1 1363 0
 2114 0022 2D68     		ldr	r5, [r5]
 2115              	.LVL274:
 2116              	.L204:
ARM GAS  C:\Users\Student\AppData\Local\Temp\ccjV5bMK.s 			page 66


1361:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****     start -= q->len;
 2117              		.loc 1 1361 0
 2118 0024 45B1     		cbz	r5, .L210
1361:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****     start -= q->len;
 2119              		.loc 1 1361 0 is_stmt 0 discriminator 1
 2120 0026 6989     		ldrh	r1, [r5, #10]
 2121 0028 8E42     		cmp	r6, r1
 2122 002a F8D2     		bcs	.L206
 2123 002c 0024     		movs	r4, #0
 2124 002e 04E0     		b	.L205
 2125              	.LVL275:
 2126              	.L214:
 2127              	.LBB9:
1372:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****     }
 2128              		.loc 1 1372 0 is_stmt 1
 2129 0030 601C     		adds	r0, r4, #1
 2130              	.LVL276:
 2131 0032 80B2     		uxth	r0, r0
 2132 0034 BDE8F081 		pop	{r4, r5, r6, r7, r8, pc}
 2133              	.LVL277:
 2134              	.L210:
 2135              	.LBE9:
 2136 0038 0024     		movs	r4, #0
 2137              	.LVL278:
 2138              	.L205:
1367:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****     /* We know pbuf_get_at() succeeds because of p->tot_len check above. */
 2139              		.loc 1 1367 0 discriminator 1
 2140 003a BC42     		cmp	r4, r7
 2141 003c 0BD2     		bcs	.L213
 2142              	.LBB10:
1369:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****     u8_t b = ((const u8_t*)s2)[i];
 2143              		.loc 1 1369 0
 2144 003e 3119     		adds	r1, r6, r4
 2145 0040 89B2     		uxth	r1, r1
 2146 0042 2846     		mov	r0, r5
 2147 0044 FFF7FEFF 		bl	pbuf_get_at
 2148              	.LVL279:
1370:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****     if (a != b) {
 2149              		.loc 1 1370 0
 2150 0048 18F80430 		ldrb	r3, [r8, r4]	@ zero_extendqisi2
 2151              	.LVL280:
1371:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****       return i+1;
 2152              		.loc 1 1371 0
 2153 004c 9842     		cmp	r0, r3
 2154 004e EFD1     		bne	.L214
 2155              	.LBE10:
1367:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****     /* We know pbuf_get_at() succeeds because of p->tot_len check above. */
 2156              		.loc 1 1367 0 discriminator 2
 2157 0050 0134     		adds	r4, r4, #1
 2158              	.LVL281:
 2159 0052 A4B2     		uxth	r4, r4
 2160              	.LVL282:
 2161 0054 F1E7     		b	.L205
 2162              	.LVL283:
 2163              	.L213:
1375:Middlewares/Third_Party/LwIP/src/core/pbuf.c **** }
 2164              		.loc 1 1375 0
ARM GAS  C:\Users\Student\AppData\Local\Temp\ccjV5bMK.s 			page 67


 2165 0056 0020     		movs	r0, #0
 2166 0058 BDE8F081 		pop	{r4, r5, r6, r7, r8, pc}
 2167              		.cfi_endproc
 2168              	.LFE166:
 2170              		.section	.text.pbuf_memfind,"ax",%progbits
 2171              		.align	1
 2172              		.global	pbuf_memfind
 2173              		.syntax unified
 2174              		.thumb
 2175              		.thumb_func
 2176              		.fpu fpv5-sp-d16
 2178              	pbuf_memfind:
 2179              	.LFB167:
1377:Middlewares/Third_Party/LwIP/src/core/pbuf.c **** 
1378:Middlewares/Third_Party/LwIP/src/core/pbuf.c **** /**
1379:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****  * @ingroup pbuf
1380:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****  * Find occurrence of mem (with length mem_len) in pbuf p, starting at offset
1381:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****  * start_offset.
1382:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****  *
1383:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****  * @param p pbuf to search, maximum length is 0xFFFE since 0xFFFF is used as
1384:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****  *        return value 'not found'
1385:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****  * @param mem search for the contents of this buffer
1386:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****  * @param mem_len length of 'mem'
1387:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****  * @param start_offset offset into p at which to start searching
1388:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****  * @return 0xFFFF if substr was not found in p or the index where it was found
1389:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****  */
1390:Middlewares/Third_Party/LwIP/src/core/pbuf.c **** u16_t
1391:Middlewares/Third_Party/LwIP/src/core/pbuf.c **** pbuf_memfind(const struct pbuf* p, const void* mem, u16_t mem_len, u16_t start_offset)
1392:Middlewares/Third_Party/LwIP/src/core/pbuf.c **** {
 2180              		.loc 1 1392 0
 2181              		.cfi_startproc
 2182              		@ args = 0, pretend = 0, frame = 0
 2183              		@ frame_needed = 0, uses_anonymous_args = 0
 2184              	.LVL284:
 2185 0000 2DE9F041 		push	{r4, r5, r6, r7, r8, lr}
 2186              	.LCFI44:
 2187              		.cfi_def_cfa_offset 24
 2188              		.cfi_offset 4, -24
 2189              		.cfi_offset 5, -20
 2190              		.cfi_offset 6, -16
 2191              		.cfi_offset 7, -12
 2192              		.cfi_offset 8, -8
 2193              		.cfi_offset 14, -4
 2194 0004 0746     		mov	r7, r0
 2195 0006 8846     		mov	r8, r1
 2196 0008 1646     		mov	r6, r2
 2197 000a 1C46     		mov	r4, r3
1393:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****   u16_t i;
1394:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****   u16_t max = p->tot_len - mem_len;
 2198              		.loc 1 1394 0
 2199 000c 0389     		ldrh	r3, [r0, #8]
 2200              	.LVL285:
 2201 000e 9D1A     		subs	r5, r3, r2
 2202 0010 ADB2     		uxth	r5, r5
 2203              	.LVL286:
1395:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****   if (p->tot_len >= mem_len + start_offset) {
 2204              		.loc 1 1395 0
ARM GAS  C:\Users\Student\AppData\Local\Temp\ccjV5bMK.s 			page 68


 2205 0012 2244     		add	r2, r2, r4
 2206              	.LVL287:
 2207 0014 9342     		cmp	r3, r2
 2208 0016 03DA     		bge	.L216
1396:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****     for (i = start_offset; i <= max; i++) {
1397:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****       u16_t plus = pbuf_memcmp(p, i, mem, mem_len);
1398:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****       if (plus == 0) {
1399:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****         return i;
1400:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****       }
1401:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****     }
1402:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****   }
1403:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****   return 0xFFFF;
 2209              		.loc 1 1403 0
 2210 0018 4FF6FF70 		movw	r0, #65535
 2211              	.LVL288:
 2212 001c BDE8F081 		pop	{r4, r5, r6, r7, r8, pc}
 2213              	.LVL289:
 2214              	.L216:
1396:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****     for (i = start_offset; i <= max; i++) {
 2215              		.loc 1 1396 0 discriminator 1
 2216 0020 AC42     		cmp	r4, r5
 2217 0022 09D8     		bhi	.L221
 2218              	.LBB11:
1397:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****       if (plus == 0) {
 2219              		.loc 1 1397 0
 2220 0024 3346     		mov	r3, r6
 2221 0026 4246     		mov	r2, r8
 2222 0028 2146     		mov	r1, r4
 2223 002a 3846     		mov	r0, r7
 2224 002c FFF7FEFF 		bl	pbuf_memcmp
 2225              	.LVL290:
1398:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****         return i;
 2226              		.loc 1 1398 0
 2227 0030 30B1     		cbz	r0, .L219
 2228              	.LBE11:
1396:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****     for (i = start_offset; i <= max; i++) {
 2229              		.loc 1 1396 0 discriminator 2
 2230 0032 0134     		adds	r4, r4, #1
 2231              	.LVL291:
 2232 0034 A4B2     		uxth	r4, r4
 2233              	.LVL292:
 2234 0036 F3E7     		b	.L216
 2235              	.LVL293:
 2236              	.L221:
 2237              		.loc 1 1403 0
 2238 0038 4FF6FF70 		movw	r0, #65535
 2239 003c BDE8F081 		pop	{r4, r5, r6, r7, r8, pc}
 2240              	.LVL294:
 2241              	.L219:
 2242              	.LBB12:
1399:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****       }
 2243              		.loc 1 1399 0
 2244 0040 2046     		mov	r0, r4
 2245              	.LVL295:
 2246              	.LBE12:
1404:Middlewares/Third_Party/LwIP/src/core/pbuf.c **** }
 2247              		.loc 1 1404 0
ARM GAS  C:\Users\Student\AppData\Local\Temp\ccjV5bMK.s 			page 69


 2248 0042 BDE8F081 		pop	{r4, r5, r6, r7, r8, pc}
 2249              		.cfi_endproc
 2250              	.LFE167:
 2252              		.section	.text.pbuf_strstr,"ax",%progbits
 2253              		.align	1
 2254              		.global	pbuf_strstr
 2255              		.syntax unified
 2256              		.thumb
 2257              		.thumb_func
 2258              		.fpu fpv5-sp-d16
 2260              	pbuf_strstr:
 2261              	.LFB168:
1405:Middlewares/Third_Party/LwIP/src/core/pbuf.c **** 
1406:Middlewares/Third_Party/LwIP/src/core/pbuf.c **** /**
1407:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****  * Find occurrence of substr with length substr_len in pbuf p, start at offset
1408:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****  * start_offset
1409:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****  * WARNING: in contrast to strstr(), this one does not stop at the first \0 in
1410:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****  * the pbuf/source string!
1411:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****  *
1412:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****  * @param p pbuf to search, maximum length is 0xFFFE since 0xFFFF is used as
1413:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****  *        return value 'not found'
1414:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****  * @param substr string to search for in p, maximum length is 0xFFFE
1415:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****  * @return 0xFFFF if substr was not found in p or the index where it was found
1416:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****  */
1417:Middlewares/Third_Party/LwIP/src/core/pbuf.c **** u16_t
1418:Middlewares/Third_Party/LwIP/src/core/pbuf.c **** pbuf_strstr(const struct pbuf* p, const char* substr)
1419:Middlewares/Third_Party/LwIP/src/core/pbuf.c **** {
 2262              		.loc 1 1419 0
 2263              		.cfi_startproc
 2264              		@ args = 0, pretend = 0, frame = 0
 2265              		@ frame_needed = 0, uses_anonymous_args = 0
 2266              	.LVL296:
1420:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****   size_t substr_len;
1421:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****   if ((substr == NULL) || (substr[0] == 0) || (p->tot_len == 0xFFFF)) {
 2267              		.loc 1 1421 0
 2268 0000 E9B1     		cbz	r1, .L224
1419:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****   size_t substr_len;
 2269              		.loc 1 1419 0 discriminator 1
 2270 0002 38B5     		push	{r3, r4, r5, lr}
 2271              	.LCFI45:
 2272              		.cfi_def_cfa_offset 16
 2273              		.cfi_offset 3, -16
 2274              		.cfi_offset 4, -12
 2275              		.cfi_offset 5, -8
 2276              		.cfi_offset 14, -4
 2277 0004 0C46     		mov	r4, r1
 2278              		.loc 1 1421 0 discriminator 1
 2279 0006 0A78     		ldrb	r2, [r1]	@ zero_extendqisi2
 2280 0008 12B9     		cbnz	r2, .L232
1422:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****     return 0xFFFF;
 2281              		.loc 1 1422 0
 2282 000a 4FF6FF70 		movw	r0, #65535
 2283              	.LVL297:
 2284 000e 38BD     		pop	{r3, r4, r5, pc}
 2285              	.LVL298:
 2286              	.L232:
1421:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****     return 0xFFFF;
ARM GAS  C:\Users\Student\AppData\Local\Temp\ccjV5bMK.s 			page 70


 2287              		.loc 1 1421 0 discriminator 2
 2288 0010 0189     		ldrh	r1, [r0, #8]
 2289              	.LVL299:
 2290 0012 4FF6FF72 		movw	r2, #65535
 2291 0016 9142     		cmp	r1, r2
 2292 0018 14D0     		beq	.L226
 2293 001a 0546     		mov	r5, r0
1423:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****   }
1424:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****   substr_len = strlen(substr);
 2294              		.loc 1 1424 0
 2295 001c 2046     		mov	r0, r4
 2296              	.LVL300:
 2297 001e FFF7FEFF 		bl	strlen
 2298              	.LVL301:
1425:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****   if (substr_len >= 0xFFFF) {
 2299              		.loc 1 1425 0
 2300 0022 4FF6FE73 		movw	r3, #65534
 2301 0026 9842     		cmp	r0, r3
 2302 0028 02D9     		bls	.L233
1426:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****     return 0xFFFF;
 2303              		.loc 1 1426 0
 2304 002a 4FF6FF70 		movw	r0, #65535
 2305              	.LVL302:
1427:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****   }
1428:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****   return pbuf_memfind(p, substr, (u16_t)substr_len, 0);
1429:Middlewares/Third_Party/LwIP/src/core/pbuf.c **** }
 2306              		.loc 1 1429 0
 2307 002e 38BD     		pop	{r3, r4, r5, pc}
 2308              	.LVL303:
 2309              	.L233:
1428:Middlewares/Third_Party/LwIP/src/core/pbuf.c **** }
 2310              		.loc 1 1428 0
 2311 0030 0023     		movs	r3, #0
 2312 0032 82B2     		uxth	r2, r0
 2313 0034 2146     		mov	r1, r4
 2314 0036 2846     		mov	r0, r5
 2315              	.LVL304:
 2316 0038 FFF7FEFF 		bl	pbuf_memfind
 2317              	.LVL305:
 2318 003c 38BD     		pop	{r3, r4, r5, pc}
 2319              	.LVL306:
 2320              	.L224:
 2321              	.LCFI46:
 2322              		.cfi_def_cfa_offset 0
 2323              		.cfi_restore 3
 2324              		.cfi_restore 4
 2325              		.cfi_restore 5
 2326              		.cfi_restore 14
1422:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****   }
 2327              		.loc 1 1422 0
 2328 003e 4FF6FF70 		movw	r0, #65535
 2329              	.LVL307:
 2330 0042 7047     		bx	lr
 2331              	.LVL308:
 2332              	.L226:
 2333              	.LCFI47:
 2334              		.cfi_def_cfa_offset 16
ARM GAS  C:\Users\Student\AppData\Local\Temp\ccjV5bMK.s 			page 71


 2335              		.cfi_offset 3, -16
 2336              		.cfi_offset 4, -12
 2337              		.cfi_offset 5, -8
 2338              		.cfi_offset 14, -4
 2339 0044 4FF6FF70 		movw	r0, #65535
 2340              	.LVL309:
 2341 0048 38BD     		pop	{r3, r4, r5, pc}
 2342              		.cfi_endproc
 2343              	.LFE168:
 2345              		.comm	pbuf_free_ooseq_pending,1,1
 2346              		.text
 2347              	.Letext0:
 2348              		.file 2 "c:\\gcc_toolchain\\6_2017-q1-update\\arm-none-eabi\\include\\machine\\_default_types.h"
 2349              		.file 3 "c:\\gcc_toolchain\\6_2017-q1-update\\arm-none-eabi\\include\\sys\\_stdint.h"
 2350              		.file 4 "Drivers/CMSIS/Include/core_cm7.h"
 2351              		.file 5 "Drivers/CMSIS/Device/ST/STM32F7xx/Include/system_stm32f7xx.h"
 2352              		.file 6 "c:\\gcc_toolchain\\6_2017-q1-update\\lib\\gcc\\arm-none-eabi\\6.3.1\\include\\stddef.h"
 2353              		.file 7 "c:\\gcc_toolchain\\6_2017-q1-update\\arm-none-eabi\\include\\sys\\lock.h"
 2354              		.file 8 "c:\\gcc_toolchain\\6_2017-q1-update\\arm-none-eabi\\include\\sys\\_types.h"
 2355              		.file 9 "c:\\gcc_toolchain\\6_2017-q1-update\\arm-none-eabi\\include\\sys\\reent.h"
 2356              		.file 10 "c:\\gcc_toolchain\\6_2017-q1-update\\arm-none-eabi\\include\\stdlib.h"
 2357              		.file 11 "Middlewares/Third_Party/LwIP/system/arch/cc.h"
 2358              		.file 12 "Middlewares/Third_Party/LwIP/src/include/lwip/arch.h"
 2359              		.file 13 "Middlewares/Third_Party/LwIP/src/include/lwip/priv/memp_priv.h"
 2360              		.file 14 "Middlewares/Third_Party/LwIP/src/include/lwip/memp.h"
 2361              		.file 15 "Middlewares/Third_Party/LwIP/src/include/lwip/err.h"
 2362              		.file 16 "Middlewares/Third_Party/LwIP/src/include/lwip/pbuf.h"
 2363              		.file 17 "Middlewares/Third_Party/FreeRTOS/Source/include/queue.h"
 2364              		.file 18 "Middlewares/Third_Party/FreeRTOS/Source/include/semphr.h"
 2365              		.file 19 "Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.h"
 2366              		.file 20 "Middlewares/Third_Party/LwIP/system/arch/sys_arch.h"
 2367              		.file 21 "Middlewares/Third_Party/LwIP/src/include/lwip/ip4_addr.h"
 2368              		.file 22 "Middlewares/Third_Party/LwIP/src/include/lwip/ip_addr.h"
 2369              		.file 23 "Middlewares/Third_Party/LwIP/src/include/lwip/netif.h"
 2370              		.file 24 "Middlewares/Third_Party/LwIP/src/include/lwip/prot/ip4.h"
 2371              		.file 25 "Middlewares/Third_Party/LwIP/src/include/lwip/ip.h"
 2372              		.file 26 "Middlewares/Third_Party/LwIP/src/include/lwip/tcp.h"
 2373              		.file 27 "Middlewares/Third_Party/LwIP/src/include/lwip/priv/tcp_priv.h"
 2374              		.file 28 "Middlewares/Third_Party/LwIP/src/include/lwip/prot/tcp.h"
 2375              		.file 29 "Middlewares/Third_Party/LwIP/src/include/lwip/timeouts.h"
 2376              		.file 30 "Middlewares/Third_Party/LwIP/src/include/lwip/tcpip.h"
 2377              		.file 31 "c:\\gcc_toolchain\\6_2017-q1-update\\arm-none-eabi\\include\\string.h"
 2378              		.file 32 "Middlewares/Third_Party/LwIP/src/include/lwip/sys.h"
 2379              		.file 33 "Middlewares/Third_Party/LwIP/src/include/lwip/mem.h"
ARM GAS  C:\Users\Student\AppData\Local\Temp\ccjV5bMK.s 			page 72


DEFINED SYMBOLS
                            *ABS*:00000000 pbuf.c
C:\Users\Student\AppData\Local\Temp\ccjV5bMK.s:18     .text.pbuf_header_impl:00000000 $t
C:\Users\Student\AppData\Local\Temp\ccjV5bMK.s:24     .text.pbuf_header_impl:00000000 pbuf_header_impl
C:\Users\Student\AppData\Local\Temp\ccjV5bMK.s:188    .text.pbuf_skip_const:00000000 $t
C:\Users\Student\AppData\Local\Temp\ccjV5bMK.s:194    .text.pbuf_skip_const:00000000 pbuf_skip_const
C:\Users\Student\AppData\Local\Temp\ccjV5bMK.s:233    .text.pbuf_pool_is_empty:00000000 $t
C:\Users\Student\AppData\Local\Temp\ccjV5bMK.s:239    .text.pbuf_pool_is_empty:00000000 pbuf_pool_is_empty
C:\Users\Student\AppData\Local\Temp\ccjV5bMK.s:291    .text.pbuf_pool_is_empty:00000038 $d
                            *COM*:00000001 pbuf_free_ooseq_pending
C:\Users\Student\AppData\Local\Temp\ccjV5bMK.s:366    .text.pbuf_free_ooseq_callback:00000000 pbuf_free_ooseq_callback
C:\Users\Student\AppData\Local\Temp\ccjV5bMK.s:297    .text.pbuf_free_ooseq:00000000 $t
C:\Users\Student\AppData\Local\Temp\ccjV5bMK.s:303    .text.pbuf_free_ooseq:00000000 pbuf_free_ooseq
C:\Users\Student\AppData\Local\Temp\ccjV5bMK.s:354    .text.pbuf_free_ooseq:0000002c $d
C:\Users\Student\AppData\Local\Temp\ccjV5bMK.s:360    .text.pbuf_free_ooseq_callback:00000000 $t
C:\Users\Student\AppData\Local\Temp\ccjV5bMK.s:386    .text.pbuf_alloced_custom:00000000 $t
C:\Users\Student\AppData\Local\Temp\ccjV5bMK.s:393    .text.pbuf_alloced_custom:00000000 pbuf_alloced_custom
C:\Users\Student\AppData\Local\Temp\ccjV5bMK.s:413    .text.pbuf_alloced_custom:0000000c $d
C:\Users\Student\AppData\Local\Temp\ccjV5bMK.s:516    .text.pbuf_header:00000000 $t
C:\Users\Student\AppData\Local\Temp\ccjV5bMK.s:523    .text.pbuf_header:00000000 pbuf_header
C:\Users\Student\AppData\Local\Temp\ccjV5bMK.s:545    .text.pbuf_header_force:00000000 $t
C:\Users\Student\AppData\Local\Temp\ccjV5bMK.s:552    .text.pbuf_header_force:00000000 pbuf_header_force
C:\Users\Student\AppData\Local\Temp\ccjV5bMK.s:574    .text.pbuf_free:00000000 $t
C:\Users\Student\AppData\Local\Temp\ccjV5bMK.s:581    .text.pbuf_free:00000000 pbuf_free
C:\Users\Student\AppData\Local\Temp\ccjV5bMK.s:702    .text.pbuf_alloc:00000000 $t
C:\Users\Student\AppData\Local\Temp\ccjV5bMK.s:709    .text.pbuf_alloc:00000000 pbuf_alloc
C:\Users\Student\AppData\Local\Temp\ccjV5bMK.s:730    .text.pbuf_alloc:0000000e $d
C:\Users\Student\AppData\Local\Temp\ccjV5bMK.s:771    .text.pbuf_alloc:00000032 $d
C:\Users\Student\AppData\Local\Temp\ccjV5bMK.s:775    .text.pbuf_alloc:00000036 $t
C:\Users\Student\AppData\Local\Temp\ccjV5bMK.s:960    .text.pbuf_realloc:00000000 $t
C:\Users\Student\AppData\Local\Temp\ccjV5bMK.s:967    .text.pbuf_realloc:00000000 pbuf_realloc
C:\Users\Student\AppData\Local\Temp\ccjV5bMK.s:1055   .text.pbuf_clen:00000000 $t
C:\Users\Student\AppData\Local\Temp\ccjV5bMK.s:1062   .text.pbuf_clen:00000000 pbuf_clen
C:\Users\Student\AppData\Local\Temp\ccjV5bMK.s:1096   .text.pbuf_ref:00000000 $t
C:\Users\Student\AppData\Local\Temp\ccjV5bMK.s:1103   .text.pbuf_ref:00000000 pbuf_ref
C:\Users\Student\AppData\Local\Temp\ccjV5bMK.s:1141   .text.pbuf_cat:00000000 $t
C:\Users\Student\AppData\Local\Temp\ccjV5bMK.s:1148   .text.pbuf_cat:00000000 pbuf_cat
C:\Users\Student\AppData\Local\Temp\ccjV5bMK.s:1205   .text.pbuf_chain:00000000 $t
C:\Users\Student\AppData\Local\Temp\ccjV5bMK.s:1212   .text.pbuf_chain:00000000 pbuf_chain
C:\Users\Student\AppData\Local\Temp\ccjV5bMK.s:1237   .text.pbuf_dechain:00000000 $t
C:\Users\Student\AppData\Local\Temp\ccjV5bMK.s:1244   .text.pbuf_dechain:00000000 pbuf_dechain
C:\Users\Student\AppData\Local\Temp\ccjV5bMK.s:1304   .text.pbuf_copy:00000000 $t
C:\Users\Student\AppData\Local\Temp\ccjV5bMK.s:1311   .text.pbuf_copy:00000000 pbuf_copy
C:\Users\Student\AppData\Local\Temp\ccjV5bMK.s:1494   .text.pbuf_copy_partial:00000000 $t
C:\Users\Student\AppData\Local\Temp\ccjV5bMK.s:1501   .text.pbuf_copy_partial:00000000 pbuf_copy_partial
C:\Users\Student\AppData\Local\Temp\ccjV5bMK.s:1602   .text.pbuf_skip:00000000 $t
C:\Users\Student\AppData\Local\Temp\ccjV5bMK.s:1609   .text.pbuf_skip:00000000 pbuf_skip
C:\Users\Student\AppData\Local\Temp\ccjV5bMK.s:1630   .text.pbuf_take:00000000 $t
C:\Users\Student\AppData\Local\Temp\ccjV5bMK.s:1637   .text.pbuf_take:00000000 pbuf_take
C:\Users\Student\AppData\Local\Temp\ccjV5bMK.s:1743   .text.pbuf_take_at:00000000 $t
C:\Users\Student\AppData\Local\Temp\ccjV5bMK.s:1750   .text.pbuf_take_at:00000000 pbuf_take_at
C:\Users\Student\AppData\Local\Temp\ccjV5bMK.s:1851   .text.pbuf_coalesce:00000000 $t
C:\Users\Student\AppData\Local\Temp\ccjV5bMK.s:1858   .text.pbuf_coalesce:00000000 pbuf_coalesce
C:\Users\Student\AppData\Local\Temp\ccjV5bMK.s:1914   .text.pbuf_try_get_at:00000000 $t
C:\Users\Student\AppData\Local\Temp\ccjV5bMK.s:1921   .text.pbuf_try_get_at:00000000 pbuf_try_get_at
C:\Users\Student\AppData\Local\Temp\ccjV5bMK.s:1975   .text.pbuf_get_at:00000000 $t
C:\Users\Student\AppData\Local\Temp\ccjV5bMK.s:1982   .text.pbuf_get_at:00000000 pbuf_get_at
ARM GAS  C:\Users\Student\AppData\Local\Temp\ccjV5bMK.s 			page 73


C:\Users\Student\AppData\Local\Temp\ccjV5bMK.s:2015   .text.pbuf_put_at:00000000 $t
C:\Users\Student\AppData\Local\Temp\ccjV5bMK.s:2022   .text.pbuf_put_at:00000000 pbuf_put_at
C:\Users\Student\AppData\Local\Temp\ccjV5bMK.s:2064   .text.pbuf_memcmp:00000000 $t
C:\Users\Student\AppData\Local\Temp\ccjV5bMK.s:2071   .text.pbuf_memcmp:00000000 pbuf_memcmp
C:\Users\Student\AppData\Local\Temp\ccjV5bMK.s:2171   .text.pbuf_memfind:00000000 $t
C:\Users\Student\AppData\Local\Temp\ccjV5bMK.s:2178   .text.pbuf_memfind:00000000 pbuf_memfind
C:\Users\Student\AppData\Local\Temp\ccjV5bMK.s:2253   .text.pbuf_strstr:00000000 $t
C:\Users\Student\AppData\Local\Temp\ccjV5bMK.s:2260   .text.pbuf_strstr:00000000 pbuf_strstr
                     .debug_frame:00000010 $d
C:\Users\Student\AppData\Local\Temp\ccjV5bMK.s:418    .text.pbuf_alloced_custom:00000011 $d
C:\Users\Student\AppData\Local\Temp\ccjV5bMK.s:418    .text.pbuf_alloced_custom:00000012 $t
C:\Users\Student\AppData\Local\Temp\ccjV5bMK.s:735    .text.pbuf_alloc:00000013 $d
C:\Users\Student\AppData\Local\Temp\ccjV5bMK.s:735    .text.pbuf_alloc:00000014 $t

UNDEFINED SYMBOLS
sys_arch_protect
sys_arch_unprotect
tcpip_callback_with_block
tcp_segs_free
tcp_active_pcbs
mem_free
memp_free
memp_malloc
mem_malloc
mem_trim
memcpy
strlen
